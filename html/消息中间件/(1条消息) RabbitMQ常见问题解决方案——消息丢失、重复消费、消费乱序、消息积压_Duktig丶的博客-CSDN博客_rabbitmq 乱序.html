
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <link rel="canonical" href="https://blog.csdn.net/qq_42937522/article/details/119567072"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="report" content='{"pid": "blog", "spm":"1001.2101"}'>
    <meta name="referrer" content="always">
    <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />
    <meta name="shenma-site-verification" content="5a59773ab8077d4a62bf469ab966a63b_1497598848">
    <meta name="applicable-device" content="pc">
    <link  href="https://g.csdnimg.cn/static/logo/favicon32.ico"  rel="shortcut icon" type="image/x-icon" />
    <title>RabbitMQ常见问题解决方案——消息丢失、重复消费、消费乱序、消息积压_Duktig丶的博客-CSDN博客_rabbitmq 乱序</title>
    <script>
      (function(){ 
        var el = document.createElement("script"); 
        el.src = "https://s3a.pstatp.com/toutiao/push.js?1abfa13dfe74d72d41d83c86d240de427e7cac50c51ead53b2e79d40c7952a23ed7716d05b4a0f683a653eab3e214672511de2457e74e99286eb2c33f4428830"; 
        el.id = "ttzz"; 
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(el, s);
      })(window)
    </script>
        <meta name="keywords" content="rabbitmq 乱序">
        <meta name="csdn-baidu-search"  content='{"autorun":true,"install":true,"keyword":"rabbitmq 乱序"}'>
    <meta name="description" content="RabbitMQ的消息丢失、重复消费、消费乱序、消息积压问题，非常常见，如何解决必须掌握。消息中间件在业务开发当中具有举足轻重的地位，很多场景/问题下都可以依托于消息中间件来实现，所以消息中间件的很多问题也是在面试的高频点。">
    <script src="//g.csdnimg.cn/tingyun/1.8.5/blog.js" type='text/javascript'></script>
        <link rel="stylesheet" type="text/css" href="https://csdnimg.cn/release/blogv2/dist/pc/css/detail_enter-dbcfbb1ed8.min.css">
    <script type="application/ld+json">{"@context":"https://ziyuan.baidu.com/contexts/cambrian.jsonld","@id":"https://blog.csdn.net/qq_42937522/article/details/119567072","appid":"1638831770136827","pubDate":"2021-08-10T12:15:48","title":"RabbitMQ常见问题解决方案&mdash;&mdash;消息丢失、重复消费、消费乱序、消息积压_Duktig丶的博客-CSDN博客_rabbitmq 乱序","upDate":"2021-08-10T12:20:03"}</script>
        <link rel="stylesheet" type="text/css" href="https://csdnimg.cn/release/blogv2/dist/pc/themesSkin/skin-blogstar2021/skin-blogstar2021-9782633498.min.css">
    <script src="https://csdnimg.cn/public/common/libs/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        var isCorporate = false;//注释删除enterprise
        var username =  "qq_42937522";
        var skinImg = "white";
        var blog_address = "https://blog.csdn.net/qq_42937522";
        var currentUserName = "weixin_46000198";
        var isOwner = false;
        var loginUrl = "http://passport.csdn.net/account/login?from=https://blog.csdn.net/qq_42937522/article/details/119567072";
        var blogUrl = "https://blog.csdn.net/";
        var avatar = "https://profile.csdnimg.cn/B/3/C/3_qq_42937522";
        var articleTitle = "RabbitMQ常见问题解决方案——消息丢失、重复消费、消费乱序、消息积压";
        var articleDesc = "RabbitMQ的消息丢失、重复消费、消费乱序、消息积压问题，非常常见，如何解决必须掌握。消息中间件在业务开发当中具有举足轻重的地位，很多场景/问题下都可以依托于消息中间件来实现，所以消息中间件的很多问题也是在面试的高频点。";
        var articleTitles = "RabbitMQ常见问题解决方案——消息丢失、重复消费、消费乱序、消息积压_Duktig丶的博客-CSDN博客_rabbitmq 乱序";
        var nickName = "Duktig丶";
        var articleDetailUrl = "https://blog.csdn.net/qq_42937522/article/details/119567072";
        if(window.location.host.split('.').length == 3) {
            blog_address = blogUrl + username;
        }
        var skinStatus = "White";
        var blogStaticHost = "https://csdnimg.cn/release/blogv2/"
        var mallTestStyle = "control"
    </script>
    <script src="https://g.csdnimg.cn/??fixed-sidebar/1.1.6/fixed-sidebar.js" type="text/javascript"></script>
    <script src='//g.csdnimg.cn/common/csdn-report/report.js' type='text/javascript'></script>
    <link rel="stylesheet" type="text/css" href="https://csdnimg.cn/public/sandalstrap/1.4/css/sandalstrap.min.css">
    <style>
        .MathJax, .MathJax_Message, .MathJax_Preview{
            display: none
        }
    </style>
    <script src="https://dup.baidustatic.com/js/ds.js"></script>
</head>
  <body class="nodata " style="">
        <script>
            var toolbarSearchExt = '{"landingWord":["rabbitmq 乱序"],"queryWord":"","tag":["消息中间件","RabbitMQ","消息积压","消息丢失","重复消费"],"title":"RabbitMQ常见问题解决方案&mdash;&mdash;消息丢失、重复消费、消费乱序、消息积压"}';
        </script>
    <script src="https://g.csdnimg.cn/common/csdn-toolbar/csdn-toolbar.js" type="text/javascript"></script>
    <script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
    </script>
<link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/pc/css/blog_code-01256533b5.min.css">
<link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/chart-3456820cac.css" />

<script>
    var articleId = 119567072;
    var commentscount = 0;
    var curentUrl = "https://blog.csdn.net/qq_42937522/article/details/119567072";
    var myUrl = "https://my.csdn.net/";
    var highlight = ["rabbitmq","消息中间件","解决方案","常见问题","重复","积压","丢失","乱序","消息","消费","、","—"];//高亮数组
    var isRecommendModule = true;
    var isBaiduPre = true;
    var baiduCount = 2;
    var setBaiduJsCount = 10;
    var share_card_url = "https://app-blog.csdn.net/share?article_id=119567072&username=qq_42937522"
	var articleType = 1;
    var baiduKey = "rabbitmq 乱序";
    var userNewReport = true;
    var needInsertBaidu = true;
    var recommendRegularDomainArr = ["blog.csdn.net/.+/article/details/","download.csdn.net/download/","edu.csdn.net/course/detail/","ask.csdn.net/questions/","bbs.csdn.net/topics/","www.csdn.net/gather_.+/"]
    var codeStyle = "atom-one-light";
    var baiduSearchType = "baidulandingword";
     var sharData = "{\"hot\":[{\"id\":1,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/a5f4260710904e538002a6ab337939b3.png\"},{\"id\":2,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/188b37199a2c4b74b1d9ffc39e0d52de.png\"},{\"id\":3,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/14ded358b631444581edd98a256bc5af.png\"},{\"id\":4,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/1470f23a770444d986ad551b9c33c5be.png\"},{\"id\":5,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/c329f5181dc74f6c9bd28c982bb9f91d.png\"},{\"id\":6,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/ccd8a3305e81460f9c505c95b432a65f.png\"},{\"id\":7,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/bc89d8283389440d97fc4d30e30f45e1.png\"},{\"id\":8,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/452d485b4a654f5592390550d2445edf.png\"},{\"id\":9,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/f8b9939db2ed474a8f43a643015fc8b7.png\"},{\"id\":10,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/6de8864187ab4ed3b1db0856369c36ff.png\"},{\"id\":11,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/673cc3470ff74072acba958dc0c46e2d.png\"},{\"id\":12,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/930c119760ac4491804db80f9c6d4e3f.png\"},{\"id\":13,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/15e6befb05a24233bc2b65e96aa8d972.png\"},{\"id\":14,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/2075fd6822184b95a41e214de4daec13.png\"},{\"id\":15,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/859b1552db244eb6891a809263a5c657.png\"},{\"id\":16,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/0be2f920f1f74290a98921974a9613fd.png\"},{\"id\":17,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/2e97e00b43f14afab494ea55ef3f4a6e.png\"},{\"id\":18,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/ff4ab252f46e444686f5135d6ebbfec0.png\"},{\"id\":19,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/ae029bbe99564e79911657912d36524f.png\"},{\"id\":20,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/b3ece39963de440388728e9e7b9bf427.png\"},{\"id\":21,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/6f14651a99ba486e926d63b6fa692997.png\"},{\"id\":22,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/83ceddf050084875a341e32dcceca721.png\"},{\"id\":23,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/b90368b8fd5d4c6c8c79a707d877cf7c.png\"},{\"id\":24,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/aeffae14ecf14e079b2616528c9a393b.png\"},{\"id\":25,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/c5a06b5a13d44d16bed868fc3384897a.png\"},{\"id\":26,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/08b697658b844b318cea3b119e9541ef.png\"},{\"id\":27,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/68ccb0b8d09346ac961d2b5c1a8c77bf.png\"},{\"id\":28,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/a2227a247e37418cbe0ea972ba6a859b.png\"},{\"id\":29,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/3a42825fede748f9993e5bb844ad350d.png\"},{\"id\":30,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/8882abc1dd484224b636966ea38555c3.png\"}],\"vip\":[{\"id\":1,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101150.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101154.png\"},{\"id\":2,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101204.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101208.png\"},{\"id\":3,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101211.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101215.png\"},{\"id\":4,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101218.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101220.png\"},{\"id\":5,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101223.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101226.png\"},{\"id\":6,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100635.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100639.png\"},{\"id\":7,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100642.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100644.png\"},{\"id\":8,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100647.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100649.png\"},{\"id\":9,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100652.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100655.png\"}],\"map\":{\"hot\":\"热门\",\"vip\":\"VIP\"}}";
    
    var canRead = true;
    var blogMoveHomeArticle = false;
    var showPcWindowAd = false;
    var showHeadWord = true;
    var showSearchText = "";
    var linkPage = true;
    var articleSource = 1;
    var articleReport = '{"pid": "blog", "spm":"1001.2101"}';
    var isShowToQuestion = false;
    var baiduSearchChannel = 'pc_relevant'
    var baiduSearchIdentification = '.t0_edu_mix'
    var distRequestId = '1666181001046_62916'
    var initRewardObject = {
        giver: "weixin_46000198",
        anchor: "qq_42937522",
        articleId: "119567072",
        sign: "630a417a381dd0f5c91557587a9707bf",
    }
    var isLikeStatus = false;
    var isUnLikeStatus = false;
    var studyLearnWord = "";
    var isCurrentUserVip = false;
    var testNewStyle = "oldStyle"
    var contentViewsHeight = 0;
    var contentViewsCount = 0;
    var contentViewsCountLimit = 5;
    var isShowConcision = true
    var isCookieConcision = false
    var isHasDirectoryModel = false
    var isShowSideModel = false
    var isShowDirectoryModel = true
    function getCookieConcision(sName){
        var allCookie = document.cookie.split("; ");
        for (var i=0; i < allCookie.length; i++){
            var aCrumb = allCookie[i].split("=");
            if (sName == aCrumb[0])
                return aCrumb[1];
        }
        return null;
    }
    if (getCookieConcision('blog_details_concision') && getCookieConcision('blog_details_concision') == 0){
        isCookieConcision = true
        isShowSideModel = true
        isShowDirectoryModel = false
    }
</script>
<div class="main_father clearfix d-flex justify-content-center mainfather-concision" style="height:100%;"> 
    <div class="container clearfix container-concision" id="mainBox">
        <script>
        if(!isCookieConcision){
            $('.main_father').removeClass('mainfather-concision')
            $('.main_father .container').removeClass('container-concision')
        }
        </script>
        <main>
<script type="text/javascript">
    function getQueryString(name) {   
      var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象  
      var r = window.location.search.substr(1).match(reg);  //匹配目标参数
      if( r != null ) return decodeURIComponent( r[2] ); return '';   
    }
    function stripscript(s){ 
      var pattern = new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？%]") 
      var rs = ""; 
      for (var i = 0; i < s.length; i++) { 
        rs = rs+s.substr(i, 1).replace(pattern, ''); 
      } 
      return rs; 
    }
    var blogHotWords = stripscript(getQueryString('utm_term')).length > 1 ? stripscript(getQueryString('utm_term')) : ''
</script>
<div class="blog-content-box">
        <div class="article-header-box">
        <div class="article-header">
            <div class="article-title-box">
                <h1 class="title-article" id="articleContentId">RabbitMQ常见问题解决方案——消息丢失、重复消费、消费乱序、消息积压</h1>
            </div>
            <div class="article-info-box">
                <div class="article-bar-top">
                    <img class="article-type-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png" alt="">
                    <div class="bar-content">
                    <a class="follow-nickName " href="https://blog.csdn.net/qq_42937522" target="_blank" rel="noopener">Duktig丶</a>
                    <img class="article-time-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCurrentTime2.png" alt="">
                    <span class="time">于&nbsp;2021-08-10 12:20:03&nbsp;发布</span>
                    <img class="article-read-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png" alt="">
                    <span class="read-count">3009</span>
                    <a id="blog_detail_zk_collection" class="un-collection" data-report-click='{"mod":"popu_823","spm":"1001.2101.3001.4232","ab":"new"}'>
                        <img class="article-collect-img article-heard-img un-collect-status isdefault" style="display:none" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect2.png" alt="">
                        <img class="article-collect-img article-heard-img collect-status isactive" style="display:inline-block" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollectionActive2.png" alt="">
                        <span class="name">收藏</span>
                        <span class="get-collection">
                            51
                        </span>
                    </a>
                    </div>
                </div>
                <div class="blog-tags-box">
                    <div class="tags-box artic-tag-box">
                            <span class="label">分类专栏：</span>
                                <a class="tag-link" href="https://blog.csdn.net/qq_42937522/category_10817641.html" target="_blank" rel="noopener">消息中间件</a>
                            <span class="label">文章标签：</span>
                                <a data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"消息中间件","ab":"new","extra":"{\"searchword\":\"消息中间件\"}"}' class="tag-link" href="https://so.csdn.net/so/search/s.do?q=%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6&amp;t=blog&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=" target="_blank" rel="noopener">消息中间件</a>
                                <a data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"RabbitMQ","ab":"new","extra":"{\"searchword\":\"RabbitMQ\"}"}' class="tag-link" href="https://so.csdn.net/so/search/s.do?q=RabbitMQ&amp;t=blog&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=" target="_blank" rel="noopener">RabbitMQ</a>
                                <a data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"消息积压","ab":"new","extra":"{\"searchword\":\"消息积压\"}"}' class="tag-link" href="https://so.csdn.net/so/search/s.do?q=%E6%B6%88%E6%81%AF%E7%A7%AF%E5%8E%8B&amp;t=blog&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=" target="_blank" rel="noopener">消息积压</a>
                                <a data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"消息丢失","ab":"new","extra":"{\"searchword\":\"消息丢失\"}"}' class="tag-link" href="https://so.csdn.net/so/search/s.do?q=%E6%B6%88%E6%81%AF%E4%B8%A2%E5%A4%B1&amp;t=blog&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=" target="_blank" rel="noopener">消息丢失</a>
                                <a data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"重复消费","ab":"new","extra":"{\"searchword\":\"重复消费\"}"}' class="tag-link" href="https://so.csdn.net/so/search/s.do?q=%E9%87%8D%E5%A4%8D%E6%B6%88%E8%B4%B9&amp;t=blog&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=" target="_blank" rel="noopener">重复消费</a>
                    </div>
                </div>
                <div class="slide-content-box">
                    <div class="article-copyright">
                        <div class="creativecommons">
                            版权声明：本文为博主原创文章，遵循<a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"> CC 4.0 BY-SA </a>版权协议，转载请附上原文出处链接和本声明。
                        </div>
                        <div class="article-source-link">
                            本文链接：<a href="https://blog.csdn.net/qq_42937522/article/details/119567072" target="_blank">https://blog.csdn.net/qq_42937522/article/details/119567072</a>
                        </div>
                    </div>
                </div>
                <div class="operating">
                    <a class="href-article-edit slide-toggle">版权</a>
                </div>
            </div>
        </div>
    </div>
    <div id="blogHuaweiyunAdvert"></div>
        <div id="blogColumnPayAdvert">
            <div class="column-group">
                <div class="column-group-item column-group0 column-group-item-one">
                    <div class="item-l">
                        <a class="item-target" href="https://blog.csdn.net/qq_42937522/category_10817641.html" target="_blank" title="消息中间件"
                        data-report-view='{"spm":"1001.2101.3001.6332"}'
                        data-report-click='{"spm":"1001.2101.3001.6332"}'>
                            <img class="item-target" src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="">
                            <span class="title item-target">
                                <span>
                                <span class="tit">消息中间件</span>
                                    <span class="dec">专栏收录该内容</span>
                                </span>
                            </span>
                        </a>
                    </div>
                    <div class="item-m">
                        <span>2 篇文章</span>
                        <span>1 订阅</span>
                    </div>
                    <div class="item-r">
                            <a class="item-target article-column-bt articleColumnFreeBt" data-id="10817641">订阅专栏</a>
                    </div>
                </div>
            </div>
        </div>
    <article class="baidu_pl">
        <div id="article_content" class="article_content clearfix">
        <link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/ck_htmledit_views-6e43165c0a.css">
                <div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p>
<div class="toc">
 <h3>文章目录</h3>
 <ul><li><a href="#_1">背景</a></li><li><a href="#RabbitMQ_3">RabbitMQ常见问题解决方案</a></li><li><ul><li><a href="#1_RabbitMQ_7">1. RabbitMQ的可靠性&#xff08;消息丢失问题&#xff09;</a></li><li><ul><li><a href="#11__30">1.1 生产者丢失消息</a></li><li><a href="#12_RabbitMQ_93">1.2 RabbitMQ弄丢消息</a></li><li><ul><li><a href="#121__105">1.2.1 交换机持久化</a></li><li><a href="#122__130">1.2.2 队列持久化</a></li><li><a href="#123__158">1.2.3 消息持久化</a></li></ul>
    </li><li><a href="#13__186">1.3 消费者弄丢消息</a></li><li><ul><li><a href="#_194">具体操作&#xff1a;</a></li><li><a href="#_229">实际场景的应用</a></li></ul>
    </li><li><a href="#_275">**小结**</a></li></ul>
   </li><li><a href="#2__279">2. 重复消费问题&#xff08;消息幂等性&#xff09;</a></li><li><ul><li><a href="#21__283">2.1 生产时消息重复</a></li><li><a href="#22__332">2.2 消费时消息重复</a></li><li><ul><li><a href="#221__339">2.2.1 确保消费端只执行一次</a></li><li><a href="#222__356">2.2.2 允许消费端执行多次&#xff0c;保证数据不受影响</a></li></ul>
   </li></ul>
   </li><li><a href="#3__366">3. 消息消费顺序性问题</a></li><li><ul><li><a href="#31__391">3.1 保证每次只有单个消费实例消费</a></li><li><a href="#32__410">3.2 简单队列场景</a></li><li><a href="#33__418">3.3 工作队列场景</a></li><li><a href="#34_430">3.4小结</a></li></ul>
   </li><li><a href="#4__434">4. 消息积压问题</a></li><li><ul><li><a href="#41__438">4.1 消息积压的影响</a></li><li><a href="#42__444">4.2 产生堆积的情况</a></li><li><a href="#43_451">4.3场景重现</a></li><li><a href="#44__484">4.4 解决办法</a></li><li><ul><li><a href="#_492">常见处理思路</a></li></ul>
   </li></ul>
   </li><li><a href="#_516">参考</a></li></ul>
 </li></ul>
</div>
<p></p> 
<h1><a id="_1"></a>背景</h1> 
<p>本篇文章首发于个人博客平台&#xff1a;<a href="https://duktig.cn/archives/79/">https://duktig.cn/archives/79/</a>&#xff0c;如果觉得感兴趣/对您有帮助&#xff0c;欢迎来访&#xff1a;<a href="https://duktig.cn/">Duktig的个人博客</a>。</p> 
<h1><a id="RabbitMQ_3"></a>RabbitMQ常见问题解决方案</h1> 
<p>消息中间件在业务开发当中具有举足轻重的地位&#xff0c;很多场景/问题下都可以依托于消息中间件来实现&#xff0c;所以消息中间件的很多问题也是在面试的高频点。</p> 
<h2><a id="1_RabbitMQ_7"></a>1. RabbitMQ的可靠性&#xff08;消息丢失问题&#xff09;</h2> 
<p><strong>消息可靠性问题举例</strong>&#xff1a;</p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/89527ef75c24b50214bdf870e805d964.png" alt="下单服务" /></p> 
<p>以创建订单为例&#xff0c;可能会出现这样的业务场景</p> 
<ul><li><strong>MQ 挂了&#xff0c;消息没发出去。创建订单后面几个优惠券、积分的下游系统全都没有执行业务结算怎么办&#xff1f;</strong></li><li><strong>MQ 是高可用的&#xff0c;消息发出去了&#xff0c;但是优惠券结算业务报错了怎么办&#xff1f;因为这个是异步的&#xff0c;也不好去回滚</strong></li><li><strong>消息正常发出去&#xff0c;消费者也接收到了&#xff0c;商户系统、优惠券系统都正常执行完了&#xff0c;积分业务报错了导致积分没结算&#xff0c;那这个订单的数据就不一致了</strong></li></ul> 
<p>要解决上述问题&#xff0c;就是要保证消息一定要可靠的被消费&#xff0c;那么我们可以来分析下消息有哪些步骤会出问题</p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/9222ac4853a10f58af02cb1da3c6d630.png" alt="RabbitMQ 消息模型" /></p> 
<p><strong>RabbitMQ出现消息可靠性问题的常见情况</strong>&#xff1a;</p> 
<ul><li><strong>生产者消息没到交换机&#xff0c;相当于生产者弄丢消息</strong></li><li><strong>交换机没有把消息路由到队列&#xff0c;相当于生产者弄丢消息</strong></li><li><strong>RabbitMQ 宕机导致队列、队列中的消息丢失&#xff0c;相当于 RabbitMQ 弄丢消息</strong></li><li><strong>消费者消费出现异常&#xff0c;业务没执行&#xff0c;相当于消费者弄丢消息</strong></li></ul> 
<h3><a id="11__30"></a>1.1 生产者丢失消息</h3> 
<p>异步监听机制&#xff1a;</p> 
<p>①成功/未成功发送到交换机可以触发一个<code>confirm-type</code>监听</p> 
<p>②交换机发送到队列会有一个<code>publisher-returns</code>监听</p> 
<p>具体操作&#xff1a;</p> 
<p>以 SpringBoot 整合 RabbitMQ 为例</p> 
<p>引入依赖 starter</p> 
<pre><code class="prism language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>配置文件</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>
    <span class="token key atrule">publisher-returns</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">publisher-confirm-type</span><span class="token punctuation">:</span> correlated <span class="token comment">#新版本 publisher-confirms: true 已过时</span>
</code></pre> 
<p>然后编写监听回调</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;Configuration</span>
<span class="token annotation punctuation">&#64;Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RabbitMQConfig</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">&#64;Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RabbitTemplate</span> rabbitTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">&#64;PostConstruct</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">enableConfirmCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//confirm 监听&#xff0c;当消息成功发到交换机 ack &#61; true&#xff0c;没有发送到交换机 ack &#61; false</span>
        <span class="token comment">//correlationData 可在发送时指定消息唯一 id</span>
        rabbitTemplate<span class="token punctuation">.</span><span class="token function">setConfirmCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>correlationData<span class="token punctuation">,</span> ack<span class="token punctuation">,</span> cause<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ack<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token comment">//记录日志、发送邮件通知、落库定时任务扫描重发</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//当消息成功发送到交换机没有路由到队列触发此监听</span>
        rabbitTemplate<span class="token punctuation">.</span><span class="token function">setReturnsCallback</span><span class="token punctuation">(</span>returned <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//记录日志、发送邮件通知、落库定时任务扫描重发</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>测试的时候可以在发送消息时故意写错交换机、路由键的名称&#xff0c;然后就会回调到我们刚刚写的监听方法&#xff0c; cause 会给我们展示具体没有发到交换机的原因&#xff1b;returned 对象中包含了消息相关信息。</p> 
<p><strong>但是一般不这样用&#xff0c;成本太高丢失概率很低。一般采用日志/邮件记录&#xff0c;手动维护</strong>。</p> 
<p>即RabbitMQ 本身丢失的可能性就非常低&#xff0c;其次如果这里需要落库再用定时任务扫描重发还要开发一堆代码&#xff0c;分布式定时任务…再其次定时任务扫描肯定会增加消息延迟&#xff0c;不是很有必要。真实业务场景是记录一下日志就行了&#xff0c;方便问题回溯&#xff0c;顺便发个邮件给相关人员&#xff0c;如果真的极其罕见的是生产者弄丢消息&#xff0c;那么开发往数据库补数据就行了。</p> 
<h3><a id="12_RabbitMQ_93"></a>1.2 RabbitMQ弄丢消息</h3> 
<p>设置<strong>持久化将消息写出磁盘</strong>&#xff08;重启后消息仍然存在&#xff09;&#xff0c;否则RabbitMQ重启后所有队列和消息都会丢失。</p> 
<p>持久化操作&#xff1a;</p> 
<p>持久化分为三种</p> 
<ul><li>交换机持久化</li><li>队列持久化</li><li>消息持久化</li></ul> 
<h4><a id="121__105"></a>1.2.1 交换机持久化</h4> 
<p>交换机持久化描述的是当这个交换机上没有注册队列时&#xff0c;这个交换机是否删除。如果要打开持久化的话也很简单</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;Bean</span>
<span class="token keyword">public</span> <span class="token class-name">DirectExchange</span> <span class="token function">testDirectExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">//第二个参数就是是否持久化&#xff0c;第三个参数就是是否自动删除</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DirectExchange</span><span class="token punctuation">(</span><span class="token string">&#34;direct.Exchange&#34;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>消费者类上的注解&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;RabbitListener</span><span class="token punctuation">(</span>
        bindings <span class="token operator">&#61;</span> <span class="token annotation punctuation">&#64;QueueBinding</span><span class="token punctuation">(</span>
                value <span class="token operator">&#61;</span> <span class="token annotation punctuation">&#64;Queue</span><span class="token punctuation">(</span>value <span class="token operator">&#61;</span> <span class="token string">&#34;direct.Queue&#34;</span><span class="token punctuation">,</span>autoDelete <span class="token operator">&#61;</span> <span class="token string">&#34;true&#34;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                exchange <span class="token operator">&#61;</span> <span class="token annotation punctuation">&#64;Exchange</span><span class="token punctuation">(</span>value <span class="token operator">&#61;</span> <span class="token string">&#34;direct.Exchange&#34;</span><span class="token punctuation">,</span> type <span class="token operator">&#61;</span> <span class="token class-name">ExchangeTypes</span><span class="token punctuation">.</span>DIRECT<span class="token punctuation">,</span>durable <span class="token operator">&#61;</span> <span class="token string">&#34;true&#34;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                key <span class="token operator">&#61;</span> <span class="token string">&#34;direct.Rout&#34;</span>
        <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> 
<p>&#64;Exchange注解的durable属性设置为true(默认也是true&#xff0c;不设置也可以)。这样&#xff0c;即使这个交换机没有队列&#xff0c;也不会被删除</p> 
<h4><a id="122__130"></a>1.2.2 队列持久化</h4> 
<p>队列持久化描述的是当这个队列没有消费者在监听时&#xff0c;是否进行删除。持久化做法&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;Bean</span>
<span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">txQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//第二个参数就是durable&#xff0c;是否持久化</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token string">&#34;txQueue&#34;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>消费者类的注解&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;RabbitListener</span><span class="token punctuation">(</span>
        bindings <span class="token operator">&#61;</span> <span class="token annotation punctuation">&#64;QueueBinding</span><span class="token punctuation">(</span>
                value <span class="token operator">&#61;</span> <span class="token annotation punctuation">&#64;Queue</span><span class="token punctuation">(</span>value <span class="token operator">&#61;</span> <span class="token string">&#34;direct.Queue&#34;</span><span class="token punctuation">,</span>autoDelete <span class="token operator">&#61;</span> <span class="token string">&#34;false&#34;</span><span class="token punctuation">,</span>durable <span class="token operator">&#61;</span> <span class="token string">&#34;true&#34;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                exchange <span class="token operator">&#61;</span> <span class="token annotation punctuation">&#64;Exchange</span><span class="token punctuation">(</span>value <span class="token operator">&#61;</span> <span class="token string">&#34;direct.Exchange&#34;</span><span class="token punctuation">,</span> type <span class="token operator">&#61;</span> <span class="token class-name">ExchangeTypes</span><span class="token punctuation">.</span>DIRECT<span class="token punctuation">,</span>durable <span class="token operator">&#61;</span> <span class="token string">&#34;true&#34;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                key <span class="token operator">&#61;</span> <span class="token string">&#34;direct.Rout&#34;</span>
        <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> 
<p>可以看到&#xff0c;&#64;Queue注解上&#xff0c;加上了durable&#61;&#34;true&#34;的注解。这样队列在重启的时候就不会被删除了</p> 
<h4><a id="123__158"></a>1.2.3 消息持久化</h4> 
<p>消息持久化和前面两个稍微有点不同。消息持久化实际上就是基于确认机制去做的。默认情况下&#xff0c;只要消费者接收到这个消息&#xff0c;这个消息就从队列上被删除了。、</p> 
<p>但考虑这样一种场景&#xff0c;接口层接受到一个请求&#xff0c;然后推送一个消息&#xff0c;异步地去更新数据库。此时对于消费者端来说&#xff0c;一拿到消息&#xff0c;消息就从队列上被删除&#xff0c;然后开始执行数据库更新&#xff0c;但此时数据库更新失败了&#xff0c;方法直接返回。但队列上已经没有这条消息了&#xff0c;这个更新操作不就没有完成了吗&#xff1f;这肯定是有问题的。</p> 
<p>所以RabbitMQ就有了消费者确认机制&#xff0c;只有消费者手动确认&#xff0c;消息才会被删除&#xff0c;否则该消息将一直存在队列中&#xff0c;开启的方法很简单&#xff1a;</p> 
<p>application.properties上加上&#xff1a;</p> 
<pre><code class="prism language-java">spring<span class="token punctuation">.</span>rabbitmq<span class="token punctuation">.</span>listener<span class="token punctuation">.</span>simple<span class="token punctuation">.</span>acknowledge<span class="token operator">-</span>mode<span class="token operator">&#61;</span>manual
意为改为手动确认。
</code></pre> 
<p>对于消费者端&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;RabbitHandler</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span><span class="token class-name">Channel</span> channel<span class="token punctuation">,</span><span class="token class-name">Message</span> message<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
    channel<span class="token punctuation">.</span><span class="token function">basicAck</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">getMessageProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeliveryTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//手动调用</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>手动调用下确认即可&#xff0c;消息就会被删除。这一步可以放在业务逻辑的执行之后</p> 
<h3><a id="13__186"></a>1.3 消费者弄丢消息</h3> 
<p>消费者丢数据一般是因为采用了自动确认消息模式。MQ收到确认消息后会删除消息&#xff0c;如果这时消费者异常了&#xff0c;那消息就没了。</p> 
<p>即消费端执行业务代码报错&#xff0c;导致业务未执行&#xff0c;比较常见&#xff0c;属于业务代码异常&#xff0c;一定要解决。如&#xff1a;创建订单成功了&#xff0c;优惠券结算报错了&#xff0c;默认情况下 RabbitMQ 只要把消息推送到消费者就会认为消息已经被消费&#xff0c;就从队列中删除了&#xff0c;但是优惠券还没有结算&#xff0c;这样就相当于消息变相丢失了。</p> 
<p>可以使用<strong>ack机制</strong>&#xff0c;默认情况下自动应答&#xff0c;可以使用手动ack&#xff0c;然后再删除消息。</p> 
<h4><a id="_194"></a>具体操作&#xff1a;</h4> 
<p>首先在配置文件中开启手动 ack</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>
    <span class="token key atrule">listener</span><span class="token punctuation">:</span>
      <span class="token key atrule">simple</span><span class="token punctuation">:</span>
        <span class="token key atrule">acknowledge-mode</span><span class="token punctuation">:</span> manual <span class="token comment">#手动应答</span>
</code></pre> 
<p>然后在消费端代码中手动应答签收消息</p> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">&#64;RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">&#61;</span> <span class="token string">&#34;queue&#34;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">listen</span><span class="token punctuation">(</span><span class="token class-name">String</span> object<span class="token punctuation">,</span> <span class="token class-name">Message</span> message<span class="token punctuation">,</span> <span class="token class-name">Channel</span> channel<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">long</span> deliveryTag <span class="token operator">&#61;</span> message<span class="token punctuation">.</span><span class="token function">getMessageProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeliveryTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#34;消费成功&#xff1a;{},消息内容:{}&#34;</span><span class="token punctuation">,</span> deliveryTag<span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/**
             * 执行业务代码...
             * */</span>
            channel<span class="token punctuation">.</span><span class="token function">basicAck</span><span class="token punctuation">(</span>deliveryTag<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#34;签收失败&#34;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                channel<span class="token punctuation">.</span><span class="token function">basicNack</span><span class="token punctuation">(</span>deliveryTag<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> exception<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#34;拒签失败&#34;</span><span class="token punctuation">,</span> exception<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_229"></a>实际场景的应用</h4> 
<p>但是在实际场景中&#xff0c;设置ack后&#xff0c;让消息重回队列会回到队列顶端&#xff0c;继续推送到服务端&#xff0c;通常的代码报错并不能因为重试而解决&#xff0c;可能会造成死循环。所以这样的场景一般有三个选择&#xff1a;</p> 
<ol><li><strong>当消费失败后将此消息存到 Redis&#xff0c;记录消费次数&#xff0c;如果消费了三次还是失败&#xff0c;就丢弃掉消息&#xff0c;记录日志落库保存</strong></li><li><strong>直接填 false &#xff0c;不重回队列&#xff0c;记录日志、发送邮件等待开发手动处理</strong></li><li><strong>不启用手动 ack &#xff0c;使用 SpringBoot 提供的消息重试</strong></li></ol> 
<p><strong>SpringBoot 提供的消息重试</strong>&#xff1a;</p> 
<p>其实很多场景并不是一定要启用消费者应答模式&#xff0c;因为 SpringBoot 给我们提供了一种重试机制&#xff0c;当消费者执行的业务方法报错时会重试执行消费者业务方法。</p> 
<p>启用 SpringBoot 提供的重试机制</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>
    <span class="token key atrule">listener</span><span class="token punctuation">:</span>
      <span class="token key atrule">simple</span><span class="token punctuation">:</span>
        <span class="token key atrule">retry</span><span class="token punctuation">:</span>
          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">max-attempts</span><span class="token punctuation">:</span> <span class="token number">3</span> <span class="token comment">#重试次数</span>
</code></pre> 
<p>消费者代码</p> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">&#64;RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">&#61;</span> <span class="token string">&#34;queue&#34;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">listen</span><span class="token punctuation">(</span><span class="token class-name">String</span> object<span class="token punctuation">,</span> <span class="token class-name">Message</span> message<span class="token punctuation">,</span> <span class="token class-name">Channel</span> channel<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/**
             * 执行业务代码...
             * */</span>
            <span class="token keyword">int</span> i <span class="token operator">&#61;</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//故意报错测试</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#34;签收失败&#34;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">/**
             * 记录日志、发送邮件、保存消息到数据库&#xff0c;落库之前判断如果消息已经落库就不保存
             * */</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&#34;消息消费失败&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p><strong>注意一定要手动 throw 一个异常&#xff0c;因为 SpringBoot 触发重试是根据方法中发生未捕捉的异常来决定的</strong>。值得注意的是这个重试是 SpringBoot 提供的&#xff0c;重新执行消费者方法&#xff0c;而不是让 RabbitMQ 重新推送消息。</p> 
<h3><a id="_275"></a><strong>小结</strong></h3> 
<p>其实认真研究下来你会发现所谓的消息可靠性本身就是无法保证的…所谓的各种可靠性机制只是为了以后消息丢失提供可查询的日志而已&#xff0c;不过通过这些机制耗费一些&#xff08;巨大&#xff09;成本的确是能够缩小消息丢失的可能性。</p> 
<h2><a id="2__279"></a>2. 重复消费问题&#xff08;消息幂等性&#xff09;</h2> 
<p>为了防止消息在消费者端丢失&#xff0c;会采用手动回复MQ的方式来解决&#xff0c;同时也引出了一个问题&#xff0c;消费者处理消息成功&#xff0c;手动回复MQ时由于网络不稳定&#xff0c;连接断开&#xff0c;导致MQ没有收到消费者回复的消息&#xff0c;那么该条消息还会保存在MQ的消息队列&#xff0c;由于MQ的消息重发机制&#xff0c;会重新把该条消息发给和该队列绑定的消息者处理&#xff0c;这样就会导致消息重复消费。而有些操作是不允许重复消费的&#xff0c;比如下单&#xff0c;减库存&#xff0c;扣款等操作。</p> 
<h3><a id="21__283"></a>2.1 生产时消息重复</h3> 
<p>由于生产者发送消息给MQ&#xff0c;在MQ确认的时候出现了网络波动&#xff0c;生产者没有收到确认&#xff0c;实际上MQ已经接收到了消息。这时候生产者就会重新发送一遍这条消息。</p> 
<p>生产者中如果消息未被确认&#xff0c;或确认失败&#xff0c;我们可以使用定时任务&#43;&#xff08;redis/db&#xff09;来进行消息重试。</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;Component</span>
<span class="token annotation punctuation">&#64;Slf4J</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendMessage</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">&#64;Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">MessageService</span> messageService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">&#64;Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RabbitTemplate</span> rabbitTemplate<span class="token punctuation">;</span>

    <span class="token comment">// 最大投递次数</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> MAX_TRY_COUNT <span class="token operator">&#61;</span> <span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 每30s拉取投递失败的消息, 重新投递
     */</span>
    <span class="token annotation punctuation">&#64;Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">&#61;</span> <span class="token string">&#34;0/30 * * * * ?&#34;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">resend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#34;开始执行定时任务(重新投递消息)&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MsgLog</span><span class="token punctuation">&gt;</span></span> msgLogs <span class="token operator">&#61;</span> messageService<span class="token punctuation">.</span><span class="token function">selectTimeoutMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        msgLogs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>msgLog <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> msgId <span class="token operator">&#61;</span> msgLog<span class="token punctuation">.</span><span class="token function">getMsgId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>msgLog<span class="token punctuation">.</span><span class="token function">getTryCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;&#61;</span> MAX_TRY_COUNT<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                messageService<span class="token punctuation">.</span><span class="token function">updateStatus</span><span class="token punctuation">(</span>msgId<span class="token punctuation">,</span> <span class="token class-name">Constant<span class="token punctuation">.</span>MsgLogStatus</span><span class="token punctuation">.</span>DELIVER_FAIL<span class="token punctuation">)</span><span class="token punctuation">;</span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#34;超过最大重试次数, 消息投递失败, msgId: {}&#34;</span><span class="token punctuation">,</span> msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                messageService<span class="token punctuation">.</span><span class="token function">updateTryCount</span><span class="token punctuation">(</span>msgId<span class="token punctuation">,</span> msgLog<span class="token punctuation">.</span><span class="token function">getNextTryTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 投递次数&#43;1</span>

                <span class="token class-name">CorrelationData</span> correlationData <span class="token operator">&#61;</span> <span class="token keyword">new</span> <span class="token class-name">CorrelationData</span><span class="token punctuation">(</span>msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>
                rabbitTemplate<span class="token punctuation">.</span><span class="token function">convertAndSend</span><span class="token punctuation">(</span>msgLog<span class="token punctuation">.</span><span class="token function">getExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> msgLog<span class="token punctuation">.</span><span class="token function">getRoutingKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">MessageHelper</span><span class="token punctuation">.</span><span class="token function">objToMsg</span><span class="token punctuation">(</span>msgLog<span class="token punctuation">.</span><span class="token function">getMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> correlationData<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 重新投递</span>

                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#34;第 &#34;</span> <span class="token operator">&#43;</span> <span class="token punctuation">(</span>msgLog<span class="token punctuation">.</span><span class="token function">getTryCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&#43;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&#43;</span> <span class="token string">&#34; 次重新投递消息&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#34;定时任务执行结束(重新投递消息)&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>也可以生产消息时&#xff0c;具备唯一ID&#xff0c;消费时通过消费端进行处理&#xff08;参看消费重复的解决方案&#xff09;。</strong></p> 
<h3><a id="22__332"></a>2.2 消费时消息重复</h3> 
<p><strong>两个思路</strong>&#xff1a;</p> 
<ol><li>不让消费端执行两次</li><li>让它重复消费了&#xff0c;但是不让其对业务数据造成影响</li></ol> 
<h4><a id="221__339"></a>2.2.1 确保消费端只执行一次</h4> 
<p>一般来说消息重复消费都是在短暂的一瞬间消费多次&#xff0c;我们可以使用 redis 将消费过的消息唯一标识存储起来&#xff0c;然后在消费端业务执行之前判断 redis 中是否已经存在这个标识。</p> 
<p>举个例子&#xff0c;订单使用优惠券后&#xff0c;要通知优惠券系统&#xff0c;增加使用流水。这里可以用订单号 &#43; 优惠券 id 做唯一标识。业务开始先判断 redis 是否已经存在这个标识&#xff0c;如果已经存在代表处理过了。不存在就放进 redis 设置过期时间&#xff0c;执行业务。</p> 
<pre><code class="prism language-java"><span class="token class-name">Boolean</span> flag <span class="token operator">&#61;</span> stringRedisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setIfAbsent</span><span class="token punctuation">(</span><span class="token string">&#34;orderNo&#43;couponId&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//先检查这条消息是不是已经消费过了</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Boolean</span><span class="token punctuation">.</span>TRUE<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//执行业务...</span>
    <span class="token comment">//消费过的标识存储到 Redis&#xff0c;10 秒过期</span>
    stringRedisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#34;orderNo&#43;couponId&#34;</span><span class="token punctuation">,</span><span class="token string">&#34;1&#34;</span><span class="token punctuation">,</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">ofSeconds</span><span class="token punctuation">(</span><span class="token number">10L</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="222__356"></a>2.2.2 允许消费端执行多次&#xff0c;保证数据不受影响</h4> 
<ul><li><strong>数据库唯一键约束</strong></li></ul> 
<p>如果消费端业务是新增操作&#xff0c;我们可以利用数据库的唯一键约束&#xff0c;比如优惠券流水表的优惠券编号&#xff0c;如果重复消费将会插入两条相同的优惠券编号记录&#xff0c;数据库会给我们报错&#xff0c;可以保证数据库数据不会插入两条。</p> 
<ul><li><strong>数据库乐观锁思想</strong></li></ul> 
<p>如果消费端业务是更新操作&#xff0c;可以给业务表加一个 version 字段&#xff0c;每次更新把 version 作为条件&#xff0c;更新之后 version &#43; 1。由于 MySQL 的 innoDB 是行锁&#xff0c;当其中一个请求成功更新之后&#xff0c;另一个请求才能进来&#xff0c;由于版本号 version 已经变成 2&#xff0c;必定更新的 SQL 语句影响行数为 0&#xff0c;不会影响数据库数据。</p> 
<h2><a id="3__366"></a>3. 消息消费顺序性问题</h2> 
<p><strong>举例</strong>&#xff1a;</p> 
<ol><li> <p>比如一个电商的下单操作&#xff0c;下单后先减库存然后生成订单&#xff0c;这个操作就需要顺序执行的 那怎么保证顺序呢&#xff1f;</p> </li><li> <p>有些业务场景会需要让消息顺序消费&#xff0c;比如使用 canal 订阅 MySQL 的 binary 日志来更新 Redis&#xff0c;通常我们会把 canal 订阅到的数据变化发送到消息队列。</p> </li></ol> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/d61a20e0ad7895bc78417b5468d066d8.png" alt="消费顺序性问题举例" /></p> 
<p>如果不保证 RabbitMQ 的顺序消费&#xff0c; Redis 中就有可能会出现脏数据。</p> 
<p><strong>原因</strong>&#xff1a;</p> 
<p>其实队列本身是有顺序的&#xff0c;但是生产环境服务实例一般都是集群&#xff0c;当消费者是多个实例时&#xff0c;队列中的消息会分发到所有实例进行消费&#xff08;同一个消息只能发给一个消费者实例&#xff09;&#xff0c;这样就不能保证消息顺序的消费&#xff0c;因为你不能确保哪台机器执行消费端业务代码的速度快。</p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/f7749211575affd90d30b982c2af5c66.png" alt="多实例消费者" /></p> 
<p><strong>解决消费顺序问题的思路</strong>&#xff1a;</p> 
<ol><li>多个消费实例并发竞争时&#xff0c;不能保证消费顺序&#xff0c;那么每次RabbitMQ只投递一个消息&#xff0c;待收到ack确认时再投递下一个&#xff0c;即可解决问题。在并发和性能要求高的情况下不适用&#xff1a; 
  <ol><li>每次只有一个消费者可消费&#xff0c;其他消费者被阻塞&#xff0c;降低了消费端的性能和并发能力。</li><li>大大提高了消息积压的风险。</li></ol> </li><li>根据一定的策略&#xff0c;多个消费者按序消费。</li></ol> 
<h3><a id="31__391"></a>3.1 保证每次只有单个消费实例消费</h3> 
<p>所以对于需要保证顺序消费的业务&#xff0c;我们可以只部署一个消费者实例&#xff0c;然后设置 RabbitMQ 每次只推送一个消息&#xff0c;再开启手动 ack 即可。这样 RabbitMQ 每次只会从队列推送一个消息过来&#xff0c;处理完成之后我们 ack 回应&#xff0c;再消费下一个&#xff0c;就能确保消息顺序性。</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>
    <span class="token key atrule">listener</span><span class="token punctuation">:</span>
      <span class="token key atrule">simple</span><span class="token punctuation">:</span>
        <span class="token key atrule">prefetch</span><span class="token punctuation">:</span> <span class="token number">1</span> <span class="token comment">#每次只推送一个消息</span>
        <span class="token key atrule">acknowledge-mode</span><span class="token punctuation">:</span> manual
</code></pre> 
<p>这样 RabbitMQ 每次只会从队列推送一个消息过来&#xff0c;处理完成之后我们 ack 回应&#xff0c;再消费下一个&#xff0c;就能确保消息顺序性。</p> 
<p><strong>但是这样的操作也会降低消费者的性能</strong>&#xff0c;一个消费者消费消息时&#xff0c;其他消费者会阻塞&#xff0c;所以很多场景下可能并不会采用这样的方案。</p> 
<p>所以一般会根据场景&#xff0c;制定一定的策略来解决消费顺序问题。</p> 
<h3><a id="32__410"></a>3.2 简单队列场景</h3> 
<p>当RabbitMQ采用简单队列模式的时候,如果消费者采用多线程的方式来加速消息的处理,此时也会出现消息乱序的问题。<img src="https://img-blog.csdnimg.cn/img_convert/79e25192081d518db8ba15c09d629957.png" alt="简单队列多线程消费顺序问题" /></p> 
<p>多线程并发抢占出现消费乱序问题&#xff0c;将消息ID进行hash计算&#xff0c;将相同值放入同一个内存队列&#xff0c;让指定线程执行&#xff0c;即可解决顺序消费问题。</p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/1fc504eb43ab74e86127e4f52b2de7bf.png" alt="简单队列消费顺序问题解决" /></p> 
<h3><a id="33__418"></a>3.3 工作队列场景</h3> 
<p>当RabbitMQ采用work Queue模式&#xff0c;此时只会有一个Queue但是会有多个Consumer,同时多个Consumer直接是竞争关系&#xff0c;此时就会出现MQ消息乱序的问题。</p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/a81c63be28cf02d50eec6a72cdc145fe.png" alt="image-20210810105833611" /></p> 
<p>生产者根据商品id计算hash值&#xff0c;对队列取余&#xff0c;将相同id的操作压入同一个队列。每个队列一个消费者就不会出现乱序情况。</p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/31337742a553137818728ad4f7bfc38b.png" alt="image-20210810105846275" /></p> 
<h3><a id="34_430"></a>3.4小结</h3> 
<p>解决消费顺序问题&#xff0c;最根源的思路还是根据一定的策略&#xff0c;实现一个消费者按序处理一个队列中的消息。</p> 
<h2><a id="4__434"></a>4. 消息积压问题</h2> 
<blockquote> 
 <p>所谓消息积压一般是由于消息生产的速度长时间&#xff0c;远远大于消费的速度时&#xff0c;导致大量消息在 RabbitMQ 的队列中无法消费。</p> 
</blockquote> 
<h3><a id="41__438"></a>4.1 消息积压的影响</h3> 
<ul><li>可能导致新消息无法进入队列</li><li>可能导致l旧消息无法丢失</li><li>消息等待消费的时间过长&#xff0c;超出了业务容忍范围。</li></ul> 
<h3><a id="42__444"></a>4.2 产生堆积的情况</h3> 
<ul><li>生产者突然大量发布消息</li><li>消费者消费失败</li><li>消费者出现性能瓶颈</li><li>消费者挂掉</li></ul> 
<h3><a id="43_451"></a>4.3场景重现</h3> 
<ol><li>生产者发送大量消息&#xff1a;利用Jmeter开多线程&#xff0c;循环发送大量消息进入队列。</li><li>消费者消费失败&#xff1a;自动ack情况下&#xff0c;抛出异常进行模拟。</li><li>设置消费者性能瓶颈&#xff1a;在消费方法中设置休眠时间&#xff0c;模拟性能瓶颈。</li><li>关闭消费者:停掉消费者&#xff0c;模拟消费者挂掉。</li></ol> 
<p>消费者端示例核心代码&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginIntegralComsumer</span> <span class="token keyword">implements</span> <span class="token class-name">MessageListener</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMessage</span><span class="token punctuation">(</span><span class="token class-name">Message</span> message<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> jsonString <span class="token operator">&#61;</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
            jsonString <span class="token operator">&#61;</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#34;UTF-8&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">UnsupportedEncodingException</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">&#61;&#61;</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//模拟发生异常</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&#34;模拟处理异常&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//模拟耗时的处理过程</span>
            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&#43;</span><span class="token string">&#34;处理消息:&#34;</span><span class="token operator">&#43;</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">;</span>      
        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="44__484"></a>4.4 解决办法</h3> 
<ol><li><strong>对生产者发消息接口进行适当限流&#xff08;不太推荐&#xff0c;影响用户体验&#xff09;</strong></li><li><strong>多部署几台消费者实例&#xff08;推荐&#xff09;</strong></li><li><strong>适当增加 prefetch 的数量&#xff0c;让消费端一次多接受一些消息&#xff08;推荐&#xff0c;可以和第二种方案一起用&#xff09;</strong></li><li><strong>增加消费者的多线程处理</strong></li><li><strong>死信队列</strong></li></ol> 
<h4><a id="_492"></a>常见处理思路</h4> 
<ol><li>拆分MQ,生产者一个MQ&#xff0c;消费者一个MQ&#xff0c;写一个程序监听生产者的MQ模拟消费速度&#xff08;譬如线程休眠&#xff09;&#xff0c;然后发送到消费者的MQ&#xff0c;如果消息积压则只需要处理生产者的MQ的积压消息&#xff0c;不影响消费者MQ</li></ol> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/a64c498f46e887c8ddbc5731ad3b2b6b.png" alt="生产消费双队列" /></p> 
<ol start="2"><li> <p>拆分MQ,生产者一个MQ&#xff0c;消费者一个MQ&#xff0c;写一个程序监听生产者的MQ&#xff0c;定义一个全局静态变量记录上一次消费的时间&#xff0c;如果上一次时间和当前时间只差小于消费者的处理时间&#xff0c;则发送到一个延迟队列&#xff08;可以使用死信队列实现&#xff09;发送到消费者的MQ&#xff0c;如果消息积压则只需要处理生产者的MQ的积压消息&#xff0c;不影响消费者MQ。</p> <p><img src="https://img-blog.csdnimg.cn/img_convert/02d0a2e9190bc16dad55a4ad679818e7.png" alt="生产队列&#43;消费延时队列" /></p> </li><li> <p>使用Redis的List或ZSET做接收消息缓存&#xff0c;写一个程序按照消费者处理时间定时从Redis取消息发送到MQ</p> <p><img src="https://img-blog.csdnimg.cn/img_convert/3e06dda05cdaea532f104103a840a2c6.png" alt="Redis&#43;消费队列" /></p> </li><li> <p>设置消息过期时间&#xff0c;过期后转入死信队列&#xff0c;写一个程序处理死信消息&#xff08;重新如队列或者即使处理或记录到数据库延后处理&#xff09;</p> </li></ol> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/0051f8ed06b46993c8e32df4b9a80295.png" alt="死信队列" /></p> 
<h2><a id="_516"></a>参考</h2> 
<ul><li> <p><a href="https://zhuanlan.zhihu.com/p/384200726">RabbitMQ 可靠性、重复消费、顺序性、消息积压解决方案</a>&#xff08;主要参考&#xff09;</p> </li><li> <p><a href="https://zhuanlan.zhihu.com/p/169364604">《RabbitMQ》如何保证消息不被重复消费</a> &#xff08;生产者造成的消息重复问题和代码实现可参考&#xff09;</p> </li><li> <p><a href="https://zhuanlan.zhihu.com/p/139078426">RabbitMQ(堆积,丢失,有序,重复)消息</a></p> </li><li> <p><a href="https://zhuanlan.zhihu.com/p/110430855">面试官杠上消息队列&#xff1f;高可用、重复消费、丢失、顺序消息你懂吗&#xff1f;</a></p> </li><li> <p><a href="https://blog.csdn.net/scutjay/article/details/106654227">SpringBoot整合RabbitMQ之交换机,确认与通知,持久化</a></p> </li><li> <p><a href="https://www.cnblogs.com/townsend/p/13663544.html">RabbitMQ消息积压的几种解决思路</a></p> </li></ul>
                </div>
                <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet">
                <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet">
        </div>
        <div id="treeSkill"></div>
    </article>
  <script>
  $(function() {
    setTimeout(function () {
      var mathcodeList = document.querySelectorAll('.htmledit_views img.mathcode');
      if (mathcodeList.length > 0) {
        var testImg = new Image();
        testImg.onerror = function () {
          mathcodeList.forEach(function (item) {
            $(item).before('<span class="img-codecogs">\\(' + item.alt + '\\)</span>');
            $(item).remove();
          })
          MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
        }
        testImg.src = mathcodeList[0].src;
      }
    }, 1000)
  })
  </script>
</div>
            <div class="hide-article-box hide-article-pos text-center">
                    <a class="btn-readmore fans_read_more btn-readmore-gz" id="btn-readmore-zk">
                        <span class="follow-text">关注博主即可阅读全文</span>
                        <img class="chevrondown" src="https://csdnimg.cn/release/blogv2/dist/pc/img/arrowDownAttend.png">
                    </a>
            </div>
<div class="more-toolbox-new" id="toolBarBox">
    <div class="left-toolbox">
        <div class="toolbox-left">
            <div class="profile-box"><a class="profile-href" target="_blank" href="https://blog.csdn.net/qq_42937522"><img class="profile-img" src="https://profile.csdnimg.cn/B/3/C/3_qq_42937522"><span class="profile-name">Duktig丶</span></a></div>
            <div class="profile-attend">
                    <a class="tool-attend tool-bt-button tool-bt-attend" href="javascript:;" data-report-view='{"mod":"1592215036_002","spm":"1001.2101.3001.4232","extend1":"关注"}'>关注</a>
                <a class="tool-item-follow active-animation" style="display:none;">关注</a>
            </div>
        </div>
        <div class="toolbox-middle">
        <ul class="toolbox-list">
            <li class="tool-item tool-item-size tool-active is-like" id="is-like">
            <a class="tool-item-href">
                <img style="display:none;" id="is-like-imgactive-animation-like" class="animation-dom active-animation" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarThumbUpactive.png" alt="">
                <img class="isactive" style="display:none" id="is-like-imgactive" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2021Active.png" alt="">
                <img class="isdefault" style="display:block" id="is-like-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2021Black.png" alt="">  
                <span id="spanCount" class="count ">
                        6
                </span>
            </a>
            <div class="tool-hover-tip"><span class="text space">点赞</span></div>
            </li>
            <li class="tool-item tool-item-size tool-active is-unlike" id="is-unlike">
            <a class="tool-item-href">
                <img class="isactive" style="margin-right:0px;display:none" id="is-unlike-imgactive" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newUnHeart2021Active.png" alt="">
                <img class="isdefault" style="margin-right:0px;display:block" id="is-unlike-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newUnHeart2021Black.png" alt="">
                <span id="unlikeCount" class="count "></span>
            </a>
            <div class="tool-hover-tip"><span class="text space">踩</span></div>
            </li>
            <li class="tool-item tool-item-size tool-active is-collection ">
            <a class="tool-item-href" href="javascript:;" data-report-click='{"mod":"popu_824","spm":"1001.2101.3001.4130","ab":"new"}'>
                <img style="display:none" id="is-collection-img-collection" class="animation-dom active-animation" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollectionActive.png" alt="">
                <img class="isdefault" id="is-collection-img" style="display:none" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCollectBlack.png" alt="">
                <img class="isactive" id="is-collection-imgactive" style="display:block" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCollectActive.png" alt="">
                <span class="count get-collection active" id="get-collection">
                    51
                </span>
            </a>
            <div class="tool-hover-tip"><span class="text space">收藏</span></div>
            </li>
            <li class="tool-item tool-item-size tool-active tool-item-reward">
                <a class="tool-item-href" href="javascript:;" data-report-click='{"mod":"popu_830","spm":"1001.2101.3001.4237","dest":"","ab":"new"}'>
                <img class="isdefault reward-bt" id="rewardBtNew" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newRewardBlack.png" alt="打赏">
                <span class="count"></span>
                </a>
                <div class="tool-hover-tip"><span class="text space">打赏</span></div>
            </li>
            <li class="tool-item tool-item-size tool-active tool-item-comment">
            <a class="tool-item-href go-side-comment" data-report-click='{"spm":"1001.2101.3001.7009"}'>
                <img class="isdefault" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newComment2021Black.png" alt="">
                <span class="count">
                    0
                </span>
            </a>
            <div class="tool-hover-tip"><span class="text space">评论</span></div>
            </li>
            <li class="tool-item tool-item-bar">
            </li>
            <li class="tool-item tool-item-size tool-active tool-QRcode" id="tool-share">
                <a class="tool-item-href" href="javascript:;" data-report-click='{"mod":"1582594662_002","spm":"1001.2101.3001.4129","ab":"new"}'>
                    <img class="isdefault" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newShareBlack.png" alt="">
                </a>
                <div class="QRcode" id="tool-QRcode">
                    <div class="share-bg-icon icon1" id="shareBgIcon"></div>
                    <div class="share-bg-box">
                        <div class="share-content">
                            <img class="share-avatar" src="https://profile.csdnimg.cn/B/3/C/3_qq_42937522" alt="">
                            <div class="share-tit">RabbitMQ常见问题解决方案——消息丢失、重复消费、消费乱序、消息积压</div>
                            <div class="share-dec">RabbitMQ的消息丢失、重复消费、消费乱序、消息积压问题，非常常见，如何解决必须掌握。消息中间件在业务开发当中具有举足轻重的地位，很多场景/问题下都可以依托于消息中间件来实现，所以消息中间件的很多问题也是在面试的高频点。</div>
                            <a id="copyPosterUrl" class="url" data-report-click='{"spm":"1001.2101.3001.7493"}' data-report-view='{"spm":"1001.2101.3001.7493"}'>复制链接</a>
                        </div>
                        <div class="share-code">
                            <div class="share-code-box" id='shareCode'></div>
                            <div class="share-code-text">扫一扫</div>
                        </div>
                        
                    </div>
                    <div class="share-code-type">
                      
                    </div>
                </div>
            </li>
        </ul>
        </div>
        <div class="toolbox-right">
                <div class="tool-directory">
                    <a class="bt-columnlist-show"
                    data-id="10817641"
                    data-free="true"
                    data-subscribe="false"
                    data-title="消息中间件"
                    data-img="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64"
                    data-url="https://blog.csdn.net/qq_42937522/category_10817641.html"
                    data-sum="2"
                    data-people="1"
                    data-price="0"
                    data-oldprice="0"
                    data-join="false"
                    data-studyvip="false"
                    data-studysubscribe="false"
                    data-report-view='{"spm":"1001.2101.3001.6334","extend1":"专栏目录"}'
                    data-report-click='{"spm":"1001.2101.3001.6334","extend1":"专栏目录"}'
                    >专栏目录</a>
                </div>
        </div>
    </div>  
</div>
<script type=text/javascript crossorigin src="https://csdnimg.cn/release/phoenix/production/qrcode-7c90a92189.min.js"></script>
<script src="//g.csdnimg.cn/??sharewx/1.2.1/sharewx.js" type="text/javascript"></script>
<script type="text/javascript" crossorigin src="https://g.csdnimg.cn/user-login/3.0.1/user-login.js"></script>
<script type="text/javascript" crossorigin src="https://g.csdnimg.cn/collection-box/2.1.0/collection-box.js"></script>
                <div class="first-recommend-box recommend-box ">
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/weixin_30892987/article/details/94934017"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6661.1","mod":"popu_871","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-94934017-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"1","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_30892987/article/details/94934017"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/weixin_30892987/article/details/94934017" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6661.1","mod":"popu_871","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-94934017-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"1","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_30892987/article/details/94934017"}'  data-report-query='spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-94934017-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-94934017-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1">Kafka如何保证<em>消息</em>的顺序性</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/weixin_30892987" target="_blank"><span class="blog-title">weixin_30892987的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">04-21</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					2698
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/weixin_30892987/article/details/94934017" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6661.1","mod":"popu_871","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-94934017-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"1","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_30892987/article/details/94934017"}'  data-report-query='spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-94934017-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-94934017-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">1. 问题
比如说我们建了一个 topic，有三个 partition。生产者在写的时候，其实可以指定一个 key，比如说我们指定了某个订单 id 作为 key，那么这个订单相关的数据，一定会被分发到同一个 partition 中去，而且这个 partition 中的数据一定是有顺序的。<em>消费</em>者从 partition 中取出来数据的时候，也一定是有顺序的。到这里，顺序还是 ok 的，没有错乱。接着...</div>
			</a>
		</div>
	</div>
</div>
                </div>
            <script src="https://csdnimg.cn/release/blogv2/dist/components/js/pc_wap_commontools-d5fda285fa.min.js" type="text/javascript" async></script>
            <div class="second-recommend-box recommend-box ">
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/qq_44600705/article/details/123194079"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.1","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-123194079-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"1","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/qq_44600705/article/details/123194079"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/qq_44600705/article/details/123194079" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.1","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-123194079-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"1","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/qq_44600705/article/details/123194079"}'  data-report-query='spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-123194079-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-123194079-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>RabbitMQ</em>：保证<em>消息</em>的可靠性（<em>消息</em><em>丢失</em><em>、</em><em>重复</em><em>、</em><em>积压</em><em>、</em>顺序）</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/qq_44600705" target="_blank"><span class="blog-title">qq_44600705的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">02-28</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					1985
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/qq_44600705/article/details/123194079" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.1","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-123194079-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"1","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/qq_44600705/article/details/123194079"}'  data-report-query='spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-123194079-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-123194079-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">使用<em>RabbitMQ</em>最终一致性方案，一定要保证可靠<em>消息</em>
以下四种情况是<em>消息</em>队列在分布式情况下保证<em>消息</em>可靠的<em>常见问题</em>；
<em>消息</em><em>丢失</em>(最怕)
1<em>、</em><em>消息</em>发送出去，由于网络问题没有抵达服务器
解决：
（1）做好容错方法（try-catch），发送<em>消息</em>可能会网络失败，失败后要有重试机制，可记录到数据库，采取定期扫描重发的方式；
（2）做好日志记录，每个<em>消息</em>状态是否都被服务器收到都应该记录；
（3）做好定期重发，如果<em>消息</em>没有发送成功，定期去数据库扫描未完成的<em>消息</em>进行重发；
2<em>、</em><em>消息</em>抵达Broker，Broker要将<em>消息</em>写</div>
			</a>
		</div>
	</div>
</div>
            </div>
<a id="commentBox" name="commentBox"></a>
<div id="pcCommentBox" class="comment-box comment-box-new2  login-comment-box-new" style="display:block">
		<div class="has-comment" style="display:none">
		<div class="has-comment-tit">评论<span class="count go-side-comment">0</span><span class="text go-side-comment">条</span><img class="go-side-comment more" src="https://csdnimg.cn/release/blogv2/dist/pc/img/commentArrowRightWhite.png" alt=""><a class="has-comment-bt-right go-side-comment focus">写评论</a></div>
			<div class="has-comment-con comment-operate-item"></div>
		</div>
		<div class="unhas-comment" style="display:flex">
			<div class="unhas-comment-left">评论</div>
			<div class="unhas-comment-right"><a class="go-side-comment focus">写评论</a></div>
		</div>
</div>
            <div class="recommend-box insert-baidu-box recommend-box-style ">
                <div class="recommend-item-box no-index" style="display:none"></div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/grd_java/article/details/125280236"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.2","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-125280236-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"2","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/grd_java/article/details/125280236"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/grd_java/article/details/125280236" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.2","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-125280236-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"2","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/grd_java/article/details/125280236"}'  data-report-query='spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-125280236-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-125280236-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>RabbitMQ</em>实战知识详细笔记，<em>消息</em><em>丢失</em>，<em>重复</em><em>消费</em>等问题<em>解决方案</em>。</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/grd_java" target="_blank"><span class="blog-title">殷志鹏的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">06-20</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					511
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/grd_java/article/details/125280236" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.2","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-125280236-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"2","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/grd_java/article/details/125280236"}'  data-report-query='spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-125280236-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-125280236-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1"><em>RabbitMQ</em>实战知识详细笔记，<em>消息</em><em>丢失</em>，<em>重复</em><em>消费</em>等问题<em>解决方案</em>。</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/Ztw_bb/article/details/120014304"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.3","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-120014304-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"3","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/Ztw_bb/article/details/120014304"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/Ztw_bb/article/details/120014304" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.3","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-120014304-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"3","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/Ztw_bb/article/details/120014304"}'  data-report-query='spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-3-120014304-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-3-120014304-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>RabbitMQ</em>系列如何保证<em>消息</em>的顺序性<em>、</em><em>消息</em>不<em>丢失</em><em>、</em>不被<em>重复</em><em>消费</em></div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/Ztw_bb" target="_blank"><span class="blog-title">Ztw_bb的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">08-31</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					2160
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/Ztw_bb/article/details/120014304" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.3","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-120014304-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"3","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/Ztw_bb/article/details/120014304"}'  data-report-query='spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-3-120014304-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-3-120014304-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">如何保证<em>消息</em>的顺序性
业务场景：我们需要根据mysql的binlog日志同步一个数据库的数据到另一个库中，加如在binlog中对同一条数据做了insert，update，delete操作，我们往MQ顺序写入了insert，update，delete操作的三条<em>消息</em>，那么根据分析，最终同步到另一个库中，这条数据是被删除了的。但是，如果这三条<em>消息</em>不是按照insert，update，delete顺序被<em>消费</em>，而是按照delete，insert，update的顺序被<em>消费</em>，那么最终这条数据是会保存到新库中的。这就导致了数</div>
			</a>
		</div>
	</div>
</div>
		<dl id="recommend-item-box-tow" class="recommend-item-box type_blog clearfix">
			
		</dl>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/keepfriend/article/details/123650765"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.4","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-123650765-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"4","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/keepfriend/article/details/123650765"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/keepfriend/article/details/123650765" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.4","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-123650765-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"4","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/keepfriend/article/details/123650765"}'  data-report-query='spm=1001.2101.3001.6650.4&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-123650765-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-123650765-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1">【MQ】<em>RabbitMQ</em> <em>消息</em>确认<em>、</em>堆积<em>、</em><em>丢失</em><em>、</em><em>重复</em><em>消费</em>等</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/keepfriend" target="_blank"><span class="blog-title">keeper42的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">03-22</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					4659
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/keepfriend/article/details/123650765" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.4","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-123650765-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"4","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/keepfriend/article/details/123650765"}'  data-report-query='spm=1001.2101.3001.6650.4&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-123650765-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-123650765-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">AMQP

AMQP，即Advanced Message Queuing Protocol，一个提供统一<em>消息</em>服务的应用层标准高级<em>消息</em>队列协议，是应用层协议的一个开放标准，为面向<em>消息</em>的中间件设计。基于此协议的客户端与<em>消息中间件</em>可传递<em>消息</em>，并不受中间件不同产品<em>、</em>不同的开发语言等条件的限制。Erlang中的实现有<em>RabbitMQ</em>等。

<em>RabbitMQ</em>

信道：信道是生产<em>消费</em>者与rabbit通信的渠道，生产者发布publish或是<em>消费</em>者订阅subscribe一个队列都是通过信道来通信的。信道是建立在TCP连接上的</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://javazhiyin.blog.csdn.net/article/details/108480429"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.5","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-5-108480429-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"5","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://javazhiyin.blog.csdn.net/article/details/108480429"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://javazhiyin.blog.csdn.net/article/details/108480429" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.5","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-5-108480429-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"5","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://javazhiyin.blog.csdn.net/article/details/108480429"}'  data-report-query='spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-5-108480429-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-5-108480429-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>RabbitMQ</em>高级之如何保证<em>消息</em>可靠性？</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/weixin_38405253" target="_blank"><span class="blog-title">Java笔记虾</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">09-08</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					463
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://javazhiyin.blog.csdn.net/article/details/108480429" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.5","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-5-108480429-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"5","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://javazhiyin.blog.csdn.net/article/details/108480429"}'  data-report-query='spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-5-108480429-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-5-108480429-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">本文来源：http://r6f.cn/aTWx楔子本篇是<em>消息</em>队列<em>RabbitMQ</em>的第四弹。<em>RabbitMQ</em>我已经写了三篇了，基础的收发<em>消息</em>和基础的概念我都已经写了，学任何东西都是这样，先...</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/qq_39712282/article/details/122689529"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.6","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-6-122689529-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"6","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_39712282/article/details/122689529"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/qq_39712282/article/details/122689529" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.6","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-6-122689529-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"6","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_39712282/article/details/122689529"}'  data-report-query='spm=1001.2101.3001.6650.6&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-6-122689529-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-6-122689529-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1">关于MQ<em>常见问题</em>汇总</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/qq_39712282" target="_blank"><span class="blog-title">qq_39712282的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">01-26</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					318
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/qq_39712282/article/details/122689529" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.6","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-6-122689529-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"6","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_39712282/article/details/122689529"}'  data-report-query='spm=1001.2101.3001.6650.6&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-6-122689529-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-6-122689529-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">MQ<em>常见问题</em>1<em>、</em><em>消息</em><em>丢失</em>问题2<em>、</em><em>重复</em><em>消费</em>问题3<em>、</em>垃圾<em>消息</em>问题4<em>、</em>延迟<em>消费</em>问题

上次梳理秒杀架构的时候，说到了关于mq的一些问题，这里进行一下梳理记录。

1<em>、</em><em>消息</em><em>丢失</em>问题

在往MQ发送<em>消息</em>的时候，很可能会发送失败，原因有很多，比如：网络问题<em>、</em>broker挂了<em>、</em>mq服务端磁盘问题等。这些情况，都可能会造成<em>消息</em><em>丢失</em>。
那么，如何防止<em>消息</em><em>丢失</em>呢？
答：加一张<em>消息</em>发送表。



在生产者发送mq<em>消息</em>之前，先把该条<em>消息</em>写入<em>消息</em>发送表，初始状态是待处理，然后再发送mq<em>消息</em>。<em>消费</em>者<em>消费</em><em>消息</em>时，处理完业务逻辑之后，再回</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/varyall/article/details/79111745"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.7","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-7-79111745-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"7","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/varyall/article/details/79111745"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/varyall/article/details/79111745" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.7","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-7-79111745-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"7","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/varyall/article/details/79111745"}'  data-report-query='spm=1001.2101.3001.6650.7&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-7-79111745-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-7-79111745-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1">解决<em>rabbitmq</em><em>消息</em>队列的顺序及<em>重复</em><em>消费</em>问题</div>
					<div class="tag">热门推荐</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/varyall" target="_blank"><span class="blog-title">varyall的专栏</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">01-20</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					8万+
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/varyall/article/details/79111745" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.7","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-7-79111745-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"7","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/varyall/article/details/79111745"}'  data-report-query='spm=1001.2101.3001.6650.7&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-7-79111745-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-7-79111745-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">五一期间去韩国游玩，顺便去了朋友公司扯淡去了。 所谓的扯淡，就是过去听技术分享，有python, golang, devops，docker一些话题。总的来说，技术方面跟国内还是有一些差距的。&nbsp;



正题开始，因为业务的各方面的强需求，我们使用了<em>rabbitmq</em>作为<em>消息</em>队列，利用<em>rabbitmq</em>的ack机制来确认<em>消息</em>的可靠性。 但是<em>rabbitmq</em>本身是没有绝对的<em>消息</em>顺序机制的，单个qu</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/kongliand/article/details/109009137"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.8","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-8-109009137-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"8","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/kongliand/article/details/109009137"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/kongliand/article/details/109009137" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.8","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-8-109009137-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"8","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/kongliand/article/details/109009137"}'  data-report-query='spm=1001.2101.3001.6650.8&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-8-109009137-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-8-109009137-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>Rabbitmq</em>如何保证<em>消息</em>顺序执行</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/kongliand" target="_blank"><span class="blog-title">在每次的突破中遇见更好的自己</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">10-11</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					6191
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/kongliand/article/details/109009137" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.8","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-8-109009137-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"8","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/kongliand/article/details/109009137"}'  data-report-query='spm=1001.2101.3001.6650.8&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-8-109009137-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-8-109009137-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">1.为什么要保证顺序

<em>消息</em>队列中的若干<em>消息</em>如果是对同一个数据进行操作，这些操作具有前后的关系，必须要按前后的顺序执行，否则就会造成数据异常。举例：
比如通过mysql binlog进行两个数据库的数据同步，由于对数据库的数据操作是具有顺序性的，如果操作顺序搞反，就会造成不可估量的错误。比如数据库对一条数据依次进行了 插入-&gt;更新-&gt;删除操作，这个顺序必须是这样，如果在同步过程中，<em>消息</em>的顺序变成了 删除-&gt;插入-&gt;更新，那么原本应该被删除的数据，就没有被删除，造成数据的不一致问题。
</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/gongzi_9/article/details/125686466"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.9","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-9-125686466-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"9","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/gongzi_9/article/details/125686466"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/gongzi_9/article/details/125686466" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.9","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-9-125686466-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"9","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/gongzi_9/article/details/125686466"}'  data-report-query='spm=1001.2101.3001.6650.9&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-9-125686466-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-9-125686466-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>RabbitMQ</em>(<em>消息</em><em>丢失</em><em>、</em>顺序<em>消费</em>)等<em>常见问题</em>与<em>解决方案</em></div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/gongzi_9" target="_blank"><span class="blog-title">欢迎来到三十七度的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">07-08</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					1650
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/gongzi_9/article/details/125686466" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.9","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-9-125686466-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"9","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/gongzi_9/article/details/125686466"}'  data-report-query='spm=1001.2101.3001.6650.9&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-9-125686466-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-9-125686466-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">首先投递失败存在如下两个情况<em>解决方案</em>：生产者投递<em>消息</em>时指定 mandatory 或者 immediate 参数设为 true ，<em>RabbitMQ</em> 会把无法投递的<em>消息</em>通过 Basic.Return 命令将<em>消息</em>返回给生产者，此时生产者需要调用 channel.addReturnListener 来添加 ReturnListener 监昕器实现监听投递失败的<em>消息</em>如果设置了上方两个参数就要添加 ReturnListener 逻辑，使生产者的逻辑变得复杂，<em>RabbitMQ</em> 中的备份交换机也可以处理这个问题通过在声明交</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/wnn654321/article/details/122383677"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.10","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-10-122383677-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"10","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/wnn654321/article/details/122383677"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/wnn654321/article/details/122383677" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.10","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-10-122383677-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"10","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/wnn654321/article/details/122383677"}'  data-report-query='spm=1001.2101.3001.6650.10&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-10-122383677-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-10-122383677-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>RabbitMQ</em><em>消费</em>者异常情况处理方案</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/wnn654321" target="_blank"><span class="blog-title">8年经验老王的技术博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">01-08</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					2624
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/wnn654321/article/details/122383677" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.10","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-10-122383677-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"10","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/wnn654321/article/details/122383677"}'  data-report-query='spm=1001.2101.3001.6650.10&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-10-122383677-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-10-122383677-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1"><em>RabbitMQ</em><em>消费</em>者异常情况处理 重试</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/u014723137/article/details/125672865"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.11","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-11-125672865-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"11","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/u014723137/article/details/125672865"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/u014723137/article/details/125672865" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.11","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-11-125672865-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"11","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/u014723137/article/details/125672865"}'  data-report-query='spm=1001.2101.3001.6650.11&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-11-125672865-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-11-125672865-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>rabbitmq</em> 如何处理<em>消息</em><em>丢失</em>的问题</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/u014723137" target="_blank"><span class="blog-title">野蛮女孩的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">07-08</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					949
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/u014723137/article/details/125672865" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.11","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-11-125672865-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"11","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/u014723137/article/details/125672865"}'  data-report-query='spm=1001.2101.3001.6650.11&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-11-125672865-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-11-125672865-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">（1）<em>rabbitmq</em>1）生产者弄丢了数据生产者将数据发送到<em>rabbitmq</em>的时候，可能数据就在半路给搞丢了，因为网络啥的问题，都有可能。此时可以选择用<em>rabbitmq</em>提供的事务功能，就是生产者发送数据之前开启<em>rabbitmq</em>事务（channel.txSelect），然后发送<em>消息</em>，如果<em>消息</em>没有成功被<em>rabbitmq</em>接收到，那么生产者会收到异常报错，此时就可以回滚事务（channel.txRollback），然后重试发送<em>消息</em>；如果收到了<em>消息</em>，那么可以提交事务（channel.txCommit）。但是问题是，r</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/u010318957/article/details/114362372"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.12","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-12-114362372-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"12","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/u010318957/article/details/114362372"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/u010318957/article/details/114362372" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.12","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-12-114362372-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"12","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/u010318957/article/details/114362372"}'  data-report-query='spm=1001.2101.3001.6650.12&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-12-114362372-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-12-114362372-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>RabbitMQ</em><em>消费</em>者不<em>消费</em>问题的一种处理办法</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/u010318957" target="_blank"><span class="blog-title">翟鳳璽的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">03-04</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					6635
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/u010318957/article/details/114362372" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.12","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-12-114362372-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"12","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/u010318957/article/details/114362372"}'  data-report-query='spm=1001.2101.3001.6650.12&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-12-114362372-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-12-114362372-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">问题

现象：<em>消费</em>者接收不到MQ的<em>消费</em>数据，MQ管理后台数据阻塞。

排查

发现阻塞的队列(queue)找不到<em>消费</em>者(consumer)服务器。报错：&hellip; no consumers &hellip;


解决

删除队列，点击删除按钮(Delete)


结果

队列(queue)找到<em>消费</em>者(consumer)服务器，大功告成。



...</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://ygstriver.blog.csdn.net/article/details/125742488"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.13","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-13-125742488-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"13","strategy":"2~default~CTRLIST~Rate","dest":"https://ygstriver.blog.csdn.net/article/details/125742488"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://ygstriver.blog.csdn.net/article/details/125742488" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.13","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-13-125742488-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"13","strategy":"2~default~CTRLIST~Rate","dest":"https://ygstriver.blog.csdn.net/article/details/125742488"}'  data-report-query='spm=1001.2101.3001.6650.13&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-13-125742488-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-13-125742488-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>RabbitMQ</em><em>消息</em>队列 顺序<em>消费</em><em>、</em><em>消息</em><em>丢失</em><em>、</em><em>重复</em><em>消费</em>等问题</div>
					<div class="tag">最新发布</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/weixin_44179010" target="_blank"><span class="blog-title">ly甲烷的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">07-13</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					1823
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://ygstriver.blog.csdn.net/article/details/125742488" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.13","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-13-125742488-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"13","strategy":"2~default~CTRLIST~Rate","dest":"https://ygstriver.blog.csdn.net/article/details/125742488"}'  data-report-query='spm=1001.2101.3001.6650.13&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-13-125742488-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-13-125742488-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1"><em>消息</em>队列，顺序<em>消费</em><em>、</em><em>消息</em>防丢<em>、</em>防止<em>消息</em><em>重复</em><em>消费</em><em>、</em>解决<em>消息</em><em>积压</em>。分布式事务可靠<em>消息</em>最终一致性</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/weixin_44451022/article/details/121053085"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.14","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-14-121053085-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"14","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_44451022/article/details/121053085"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/weixin_44451022/article/details/121053085" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.14","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-14-121053085-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"14","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_44451022/article/details/121053085"}'  data-report-query='spm=1001.2101.3001.6650.14&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-14-121053085-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-14-121053085-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1">Kafka问题优化之<em>消费</em><em>重复</em>问题</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/weixin_44451022" target="_blank"><span class="blog-title">长安不及十里的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">10-30</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					1477
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/weixin_44451022/article/details/121053085" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.14","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-14-121053085-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"14","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_44451022/article/details/121053085"}'  data-report-query='spm=1001.2101.3001.6650.14&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-14-121053085-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-14-121053085-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">一  <em>重复</em><em>消费</em>
1.1 原因

强行kill线程，导致<em>消费</em>后的数据，offset没有提交（<em>消费</em>系统宕机<em>、</em>重启等）
网络波动，导致offset没提交
当<em>消费</em>者<em>消费</em>的速度很慢的时候，可能在一个session周期内还未完成，导致心跳机制检测报告出问题
<em>消费</em>后的数据，当offset还没有提交时，partition就断开连接
最根本的原因是<em>消费</em>之后的offset未提交

1.2 解决方法

第一种思路是提高<em>消费</em>能力，提高单条<em>消息</em>的处理速度，例如对<em>消息</em>处理中比 较耗时的步骤可通过异步的方式进行处理<em>、</em>利用多线程处理等。在</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/weixin_44967580/article/details/118802495"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.15","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-15-118802495-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"15","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/weixin_44967580/article/details/118802495"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/weixin_44967580/article/details/118802495" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.15","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-15-118802495-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"15","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/weixin_44967580/article/details/118802495"}'  data-report-query='spm=1001.2101.3001.6650.15&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-15-118802495-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-15-118802495-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1">关于<em>RabbitMq</em>中Work queues（工作队列）模型，<em>消费</em>者处理速度不一致进行<em>消息</em>的分配</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/weixin_44967580" target="_blank"><span class="blog-title">weixin_44967580的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">07-16</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					191
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/weixin_44967580/article/details/118802495" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.15","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-15-118802495-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"15","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/weixin_44967580/article/details/118802495"}'  data-report-query='spm=1001.2101.3001.6650.15&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-15-118802495-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-15-118802495-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">问题场景：





当我们使用work queues队列时，默认是轮询<em>消费</em>，此时如果<em>消费</em>者的处理速度不一致（<em>消费</em>者A慢，<em>消费</em>者B快)，则会发生<em>消费</em>者B<em>消费</em>完<em>消息</em>后，一直等待着<em>消费</em>者A<em>消费</em>结束，这样比较浪费资源，所以我们需要根据<em>消费</em>者处理速度不同来分配队列中的<em>消息</em>

解决思路：

1.设置每次<em>消费</em>者获取的<em>消息</em>条数为1。

2.设置<em>消费</em>者<em>消息</em>手动确认

分析思路：

1.第一点其实很好理解，如果生产者生产了10条<em>消息</em>，如果不设置<em>消费</em>者每次<em>消费</em>数为1，则在<em>消费</em>队列中的<em>消息</em>前，就会进行平均的...</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/lw670020705/article/details/109525481"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.16","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-16-109525481-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"16","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/lw670020705/article/details/109525481"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/lw670020705/article/details/109525481" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.16","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-16-109525481-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"16","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/lw670020705/article/details/109525481"}'  data-report-query='spm=1001.2101.3001.6650.16&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-16-109525481-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-16-109525481-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>rabbitmq</em> 遇到的问题集合</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/lw670020705" target="_blank"><span class="blog-title">lw670020705的专栏</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">11-06</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					791
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/lw670020705/article/details/109525481" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.16","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-16-109525481-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"16","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/lw670020705/article/details/109525481"}'  data-report-query='spm=1001.2101.3001.6650.16&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-16-109525481-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-16-109525481-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">下面是几个问题:

1.为什么要进行<em>消息</em>确认?

2.<em>rabbitmq</em><em>消息</em>确认 机制是什么样的?

3.发送方如何确认<em>消息</em>发送成功?什么样才算发送成功?

4.<em>消费</em>方如何告知<em>rabbitmq</em><em>消息</em><em>消费</em>成功或失败?

5.使用spring的代码示例



1.为什么要进行<em>消息</em>确认?

经常会听到丢<em>消息</em>的字眼, 对于前面的demo来说,就存在丢<em>消息</em>的隐患.

发送者没法确认是否发送成功,<em>消费</em>者处理失败也无法反馈.

没有<em>消息</em>确认机制,就会出现<em>消息</em>莫名其妙的没了,也不知道什么情况.



2.<em>rabbitmq</em>消..</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/SCUTJAY/article/details/106654227"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.17","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-17-106654227-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"17","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/SCUTJAY/article/details/106654227"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/SCUTJAY/article/details/106654227" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.17","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-17-106654227-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"17","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/SCUTJAY/article/details/106654227"}'  data-report-query='spm=1001.2101.3001.6650.17&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-17-106654227-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-17-106654227-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1">SpringBoot整合<em>RabbitMQ</em>之交换机,确认与通知,持久化</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/SCUTJAY" target="_blank"><span class="blog-title">SCUTJAY的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">06-10</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					1310
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/SCUTJAY/article/details/106654227" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.17","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-17-106654227-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"17","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/SCUTJAY/article/details/106654227"}'  data-report-query='spm=1001.2101.3001.6650.17&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-17-106654227-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-17-106654227-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">梗概
<em>RabbitMQ</em>作为一款高性能的<em>消息</em>队列中间件，主要的作用有业务解耦，削峰，限流等作用。本文主要围绕SpringBoot整合<em>RabbitMQ</em>后的基础使用，介绍一下<em>RabbitMQ</em>中交换机，<em>消息</em>确认，持久化等机制
引入<em>RabbitMQ</em>
第一步，就是需要在pom.xml中引入相关的依赖
&lt;dependency&gt;
       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
       &lt;artifactId&gt;spri</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/weixin_34238633/article/details/91481877"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.18","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-18-91481877-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"18","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/weixin_34238633/article/details/91481877"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/weixin_34238633/article/details/91481877" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.18","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-18-91481877-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"18","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/weixin_34238633/article/details/91481877"}'  data-report-query='spm=1001.2101.3001.6650.18&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-18-91481877-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-18-91481877-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>RabbitMQ</em>如何解决被<em>重复</em><em>消费</em>和数据<em>丢失</em>的问题？</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/weixin_34238633" target="_blank"><span class="blog-title">weixin_34238633的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">11-05</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					4585
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/weixin_34238633/article/details/91481877" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.18","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-18-91481877-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"18","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/weixin_34238633/article/details/91481877"}'  data-report-query='spm=1001.2101.3001.6650.18&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-18-91481877-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-18-91481877-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">想想为什么要使用MQ？
1.解耦，系统A在代码中直接调用系统B和系统C的代码，如果将来D系统接入，系统A还需要修改代码，过于麻烦！
2.异步，将<em>消息</em>写入<em>消息</em>队列，非必要的业务逻辑以异步的方式运行，加快响应速度
3.削峰，并发量大的时候，所有的请求直接怼到数据库，造成数据库连接异常
使用了<em>消息</em>队列会有什么缺点?
1.系统可用性降低:你想啊，本来其他系统只要运行好好的，那你的系统就是正常的。现在你非...</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/wang_luwei/article/details/123613091"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.19","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-19-123613091-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"19","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/wang_luwei/article/details/123613091"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/wang_luwei/article/details/123613091" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.19","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-19-123613091-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"19","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/wang_luwei/article/details/123613091"}'  data-report-query='spm=1001.2101.3001.6650.19&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-19-123613091-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-19-123613091-blog-119567072.t0_edu_mix'>
					<div class="left ellipsis-online ellipsis-online-1"><em>RabbitMQ</em>如何防止<em>消息</em><em>丢失</em>及<em>重复</em><em>消费</em></div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/wang_luwei" target="_blank"><span class="blog-title">wang_luwei的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">03-20</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					8227
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/wang_luwei/article/details/123613091" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.19","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-19-123613091-blog-119567072.t0_edu_mix\",\"dist_request_id\":\"1666181001046_62916\"}","dist_request_id":"1666181001046_62916","ab_strategy":"featuressortv3","index":"19","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/wang_luwei/article/details/123613091"}'  data-report-query='spm=1001.2101.3001.6650.19&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-19-123613091-blog-119567072.t0_edu_mix&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-19-123613091-blog-119567072.t0_edu_mix'>
				<div class="desc ellipsis-online ellipsis-online-1">文章目录<em>RabbitMQ</em>如何防止<em>消息</em><em>丢失</em>及<em>重复</em><em>消费</em>一<em>、</em><em>消息</em><em>丢失</em>1.1<em>、</em>生产者没有成功把<em>消息</em>发送到MQ1.1.1<em>、</em>confirm（发布确认）机制1.1.2<em>、</em>事务机制1.2<em>、</em><em>RabbitMQ</em>接收到<em>消息</em>之后<em>丢失</em>了<em>消息</em>1.3<em>、</em><em>消费</em>者弄丢了<em>消息</em>二<em>、</em>如何防止<em>重复</em><em>消费</em>

<em>RabbitMQ</em>如何防止<em>消息</em><em>丢失</em>及<em>重复</em><em>消费</em>
一<em>、</em><em>消息</em><em>丢失</em>
如图所示，<em>RabbitMQ</em><em>丢失</em><em>消息</em>的情况可以发送在任何一个节点。

1.1<em>、</em>生产者没有成功把<em>消息</em>发送到MQ
<em>丢失</em>的原因 ：因为网络传输的不稳定性，当生产者在向MQ发送<em>消息</em>的过程中，MQ没有成功接收</div>
			</a>
		</div>
	</div>
</div>
            </div>
<div id="recommendNps" class="recommend-nps-box common-nps-box">
  <h3 class="aside-title">“相关推荐”对你有帮助么？</h3>
  <div class="aside-content">
      <ul class="newnps-list">
          <li class="newnps-item" data-type="非常没帮助">
              <div class="newnps-img-box">
                  <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel1.png" alt="">
                  <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey1.png" alt="">
              </div>
              <div class="newnps-text">非常没帮助</div>
          </li>
          <li class="newnps-item" data-type="没帮助">
              <div class="newnps-img-box">
                  <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel2.png" alt="">
                  <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey2.png" alt="">
              </div>
              <div class="newnps-text">没帮助</div>
          </li>
          <li class="newnps-item" data-type="一般">
              <div class="newnps-img-box">
                  <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel3.png" alt="">
                  <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey3.png" alt="">
              </div>
              <div class="newnps-text">一般</div>
          </li>
          <li class="newnps-item" data-type="有帮助">
              <div class="newnps-img-box">
                  <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel4.png" alt="">
                  <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey4.png" alt="">
              </div>
              <div class="newnps-text">有帮助</div>
          </li>
          <li class="newnps-item" data-type="非常有帮助">
              <div class="newnps-img-box">
                  <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel5.png" alt="">
                  <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey5.png" alt="">
              </div>
              <div class="newnps-text">非常有帮助</div>
          </li>
      </ul>
      <div class="newnps-form-box">
      <div class="newnps-form">
          <input type="text" placeholder="请输入建议或反馈后点击提交" class="newnps-input">
          <span class="newnps-btn">提交</span>
      </div>
      </div>
  </div>
</div>            <div class="template-box">
                <span>©️2022 CSDN</span>
                <span>皮肤主题：博客之星2021</span>
                <span> 设计师：Hiro_C</span>
                <span>
                    <a href="https://blog.csdn.net/" class="back-home c-blue c-blue-hover c-blue-focus">返回首页</a>
                </span>
            </div>
<div class="blog-footer-bottom" style="margin-top:10px;"></div>
<script src="https://g.csdnimg.cn/common/csdn-footer/csdn-footer.js" data-isfootertrack="false" type="text/javascript"></script>
<script type="text/javascript">
    window.csdn.csdnFooter.options = {
        el: '.blog-footer-bottom',
        type: 2
    }
</script>        </main>
<aside class="blog_container_aside">
<div id="asideProfile" class="aside-box">
    <div class="profile-intro d-flex">
        <div class="avatar-box d-flex justify-content-center flex-column">
            <a href="https://blog.csdn.net/qq_42937522" target="_blank" data-report-click='{"mod":"popu_379","spm":"1001.2101.3001.4121","dest":"https://blog.csdn.net/qq_42937522","ab":"new"}'>
                <img src="https://profile.csdnimg.cn/B/3/C/3_qq_42937522" class="avatar_pic">
            </a>
        </div>
        <div class="user-info d-flex flex-column profile-intro-name-box">
            <div class="profile-intro-name-boxTop">
                <a href="https://blog.csdn.net/qq_42937522" target="_blank" class="" id="uid" title="Duktig丶" data-report-click='{"mod":"popu_379","spm":"1001.2101.3001.4122","dest":"https://blog.csdn.net/qq_42937522","ab":"new"}'>
                    <span class="name " username="qq_42937522">Duktig丶</span>
                </a>
                <span>
                </span>
                <span class="flag expert-blog">
                <span class="bubble">CSDN认证博客专家</span>
                </span>
                <span class="flag company-blog">
                <span class="bubble">CSDN认证企业博客</span>
                </span>
            </div>
            <div class="profile-intro-name-boxFooter">
                <span class="personal-home-page personal-home-years" title="已加入 CSDN 4年">码龄4年</span>
                    <span class="personal-home-page">
                    <a class="personal-home-certification" href="https://i.csdn.net/#/uc/profile?utm_source=14998968" target="_blank" title="暂无认证">
                    <img src="https://csdnimg.cn/identity/nocErtification.png" alt="">
                    暂无认证
                    </a>
                    </span>
            </div>
        </div>
    </div>
    <div class="data-info d-flex item-tiling">
        <dl class="text-center" title="180">
            <a href="https://blog.csdn.net/qq_42937522" data-report-click='{"mod":"1598321000_001","spm":"1001.2101.3001.4310"}' data-report-query="t=1">  
                <dt><span class="count">180</span></dt>
                <dd class="font">原创</dd>
            </a>
        </dl>
        <dl class="text-center" data-report-click='{"mod":"1598321000_002","spm":"1001.2101.3001.4311"}' title="2429">
            <a href="https://blog.csdn.net/rank/list/weekly" target="_blank">
                <dt><span class="count">2429</span></dt>
                <dd class="font">周排名</dd>
            </a>
        </dl>
        <dl class="text-center" title="5028">
            <a href="https://blog.csdn.net/rank/list/total" data-report-click='{"mod":"1598321000_003","spm":"1001.2101.3001.4312"}' target="_blank">
                <dt><span class="count">5028</span></dt>
                <dd class="font">总排名</dd>
            </a>
        </dl>
        <dl class="text-center" style="min-width:58px" title="241340">  
            <dt><span class="count">24万+</span></dt>
            <dd>访问</dd>
        </dl>
        <dl class="text-center" title="5级,点击查看等级说明">
            <dt><a href="https://blog.csdn.net/blogdevteam/article/details/103478461" target="_blank">
                <img class="level" src="https://csdnimg.cn/identity/blog5.png">
            </a>
            </dt>
            <dd>等级</dd>
        </dl>
    </div>
    <div class="item-rank"></div>
    <div class="data-info d-flex item-tiling">
        <dl class="text-center" title="4075">
            <dt><span class="count">4075</span></dt>
            <dd>积分</dd>
        </dl>
         <dl class="text-center" id="fanBox" title="12575">
            <dt><span class="count" id="fan">1万+</span></dt>
            <dd>粉丝</dd>
        </dl>
        <dl class="text-center" title="535">
            <dt><span class="count">535</span></dt>
            <dd>获赞</dd>
        </dl>
        <dl class="text-center" title="224">
            <dt><span class="count">224</span></dt>
            <dd>评论</dd>
        </dl>
        <dl class="text-center" title="1761">
            <dt><span class="count">1761</span></dt>
            <dd>收藏</dd>
        </dl>
    </div>
    <div class="aside-box-footer" data-report-view='{"spm":"3001.4296"}'>
        <div class="badge-box d-flex">
            <div class="badge d-flex">
                <div class="icon-badge" title="签到新秀">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/qiandao10@240.png" alt="签到新秀">
                    </div>
                </div>
                <div class="icon-badge" title="原力探索">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/yuanli_tansuo@240.png" alt="原力探索">
                    </div>
                </div>
                <div class="icon-badge" title="笔耕不辍">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/02d34b42a3ee476fb50850304ab67017.png" alt="笔耕不辍">
                    </div>
                </div>
                <div class="icon-badge" title="学习力">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/yuanli_xuexili@240.png" alt="学习力">
                    </div>
                </div>
                <div class="icon-badge" title="原力新人">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/yuanli_xinren@240.png" alt="原力新人">
                    </div>
                </div>
                <div class="icon-badge" title="阅读者勋章">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/yuedu7@240.png" alt="阅读者勋章">
                    </div>
                </div>
                <div class="icon-badge" title="原力探索 · S">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/yuanli_tansuoS@240.png" alt="原力探索 · S">
                    </div>
                </div>
                <div class="icon-badge" title="分享学徒">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/fenxiangxuetu@240.png" alt="分享学徒">
                    </div>
                </div>
                <div class="icon-badge" title="分享小兵">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/fengxiangxiaobing@240.png" alt="分享小兵">
                    </div>
                </div>
                <div class="icon-badge" title="持之以恒">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/chizhiyiheng@240.png" alt="持之以恒">
                    </div>
                </div>
                <div class="icon-badge" title="1024勋章">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/1024up@240.png" alt="1024勋章">
                    </div>
                </div>
                <div class="icon-badge" title="1024超级勋章">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/chaoji1024@240.png" alt="1024超级勋章">
                    </div>
                </div>
                <div class="icon-badge" title="勤写标兵">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/qixiebiaobing4@240.png" alt="勤写标兵">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="profile-intro-name-boxOpration">
        <div class="opt-letter-watch-box">
        <a class="bt-button personal-letter" href="https://im.csdn.net/chat/qq_42937522" target="_blank" rel="noopener">私信</a>
        </div>
        <div class="opt-letter-watch-box"> 
            <a class="personal-watch bt-button" id="btnAttent" >关注</a>  
        </div>
    </div>
</div>
 <div id="asideSearchArticle" class="aside-box">
	<div class="aside-content search-comter">
    <div class="aside-search aside-search-blog">         
        <input type="text" class="input-serch-blog" name="" autocomplete="off" value="" id="search-blog-words" placeholder="搜博主文章">
        <a class="btn-search-blog">
                    <img src="//csdnimg.cn/cdn/content-toolbar/csdn-sou.png?v=1587021042">
        </a>
    </div>
    </div>
</div>


<div id="asideHotArticle" class="aside-box">
	<h3 class="aside-title">热门文章</h3>
	<div class="aside-content">
		<ul class="hotArticle-list">
			<li>
				<a href="https://blog.csdn.net/qq_42937522/article/details/109413365" target="_blank"  data-report-click='{"mod":"popu_541","spm":"1001.2101.3001.4139","dest":"https://blog.csdn.net/qq_42937522/article/details/109413365","ab":"new"}'>
				软件设计师考试考点分析总结
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					<span class="read">15351</span>
                </a>
			</li>
			<li>
				<a href="https://blog.csdn.net/qq_42937522/article/details/104131892" target="_blank"  data-report-click='{"mod":"popu_541","spm":"1001.2101.3001.4139","dest":"https://blog.csdn.net/qq_42937522/article/details/104131892","ab":"new"}'>
				理解误区——mysql中tinyint与Java的数据类型的对应关系；tinyint(1) 与tinyint(4)的区别
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					<span class="read">13480</span>
                </a>
			</li>
			<li>
				<a href="https://blog.csdn.net/qq_42937522/article/details/110310826" target="_blank"  data-report-click='{"mod":"popu_541","spm":"1001.2101.3001.4139","dest":"https://blog.csdn.net/qq_42937522/article/details/110310826","ab":"new"}'>
				SpringBoot 配置返回前端时间戳和接收时间戳自动转为LocalDateTime（前后端统一使用时间戳交互）
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					<span class="read">11535</span>
                </a>
			</li>
			<li>
				<a href="https://blog.csdn.net/qq_42937522/article/details/106231653" target="_blank"  data-report-click='{"mod":"popu_541","spm":"1001.2101.3001.4139","dest":"https://blog.csdn.net/qq_42937522/article/details/106231653","ab":"new"}'>
				java为实体类的成员变量设置默认值（mybatis为前台传的分页信息设置默认值）
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					<span class="read">8720</span>
                </a>
			</li>
			<li>
				<a href="https://blog.csdn.net/qq_42937522/article/details/104807165" target="_blank"  data-report-click='{"mod":"popu_541","spm":"1001.2101.3001.4139","dest":"https://blog.csdn.net/qq_42937522/article/details/104807165","ab":"new"}'>
				微信小程序集成实时音视频通话功能
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					<span class="read">7756</span>
                </a>
			</li>
		</ul>
	</div>
</div>
<div id="asideCategory" class="aside-box flexible-box">
    <h3 class="aside-title">分类专栏</h3>
    <div class="aside-content">
        <ul>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11994130.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11994130.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Go
                    </span>
                </a>
                <span class="special-column-num">1篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11982975.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11982975.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756780.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        k8s
                    </span>
                </a>
                <span class="special-column-num">1篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11857922.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11857922.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        区块链
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11609967.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11609967.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756930.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        博客
                    </span>
                </a>
                <span class="special-column-num">3篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11434347.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11434347.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756930.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        大数据
                    </span>
                </a>
                <span class="special-column-num">11篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11391393.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11391393.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        多线程和高并发
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10020908.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10020908.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756923.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        springboot
                    </span>
                </a>
                <span class="special-column-num">20篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9753640.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9753640.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20190918135101160.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        linux服务器部署运维
                    </span>
                </a>
                <span class="special-column-num">19篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11303403.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11303403.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        分布式
                    </span>
                </a>
                <span class="special-column-num">4篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11303402.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11303402.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Redis
                    </span>
                </a>
                <span class="special-column-num">3篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10817641.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10817641.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        消息中间件
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11215961.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11215961.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        SpringCloud
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10838582.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10838582.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        ElasticSearch
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10638311.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10638311.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Mybatis/MybatisPlus
                    </span>
                </a>
                <span class="special-column-num">5篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_8941236.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_8941236.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20190918140145169.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        前端
                    </span>
                </a>
                <span class="special-column-num">9篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9753680.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9753680.html","ab":"new"}'>
                    <div class="special-column-bar special-column-bar-second"></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        vue
                    </span>
                </a>
                <span class="special-column-num">9篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9495700.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9495700.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20190927151043371.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Java基础
                    </span>
                </a>
                <span class="special-column-num">27篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10020674.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10020674.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756913.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        mysql
                    </span>
                </a>
                <span class="special-column-num">10篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10566310.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10566310.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        随笔
                    </span>
                </a>
                <span class="special-column-num">5篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9750069.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9750069.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        算法&amp;数据结构
                    </span>
                </a>
                <span class="special-column-num">22篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10258565.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10258565.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Git
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9790287.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9790287.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756930.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        设计模式
                    </span>
                </a>
                <span class="special-column-num">26篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10383780.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10383780.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        开发规范
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9807786.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9807786.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756918.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Netty
                    </span>
                </a>
                <span class="special-column-num">4篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10534477.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10534477.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756754.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        软件设计师
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9815144.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9815144.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        计算机
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
        </ul>
    </div>
    <p class="text-center">
        <a class="flexible-btn" data-fbox="aside-archive"><img class="look-more" src="https://csdnimg.cn/release/blogv2/dist/pc/img/arrowDownWhite.png" alt=""></a>
    </p>
</div>
<div id="asideNewComments" class="aside-box">
    <h3 class="aside-title">最新评论</h3>
    <div class="aside-content">
        <ul class="newcomment-list">
            <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/qq_42937522/article/details/106208849#comments_23063589" data-report-click='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/qq_42937522/article/details/106208849#comments_23063589","ab":"new"}' data-report-view='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/qq_42937522/article/details/106208849#comments_23063589","ab":"new"}'>springboot整合swagger报错&mdash;&mdash;AbstractSerializableParameter : Illegal DefaultValue null for parameter type</a>
                <p class="comment ellipsis">
                    <a href="https://blog.csdn.net/B3325" class="user-name" target="_blank">B3325: </a>
                    <span class="code-comments">请问为啥 swagger-annotations 包 需要一起排除？</span>
                </p>
            </li>
            <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/qq_42937522/article/details/106332377#comments_23054100" data-report-click='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/qq_42937522/article/details/106332377#comments_23054100","ab":"new"}' data-report-view='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/qq_42937522/article/details/106332377#comments_23054100","ab":"new"}'>实现评论回复功能没思路？从数据库设计到java实现再到前端显示，手把手教你如何实现评论回复功能</a>
                <p class="comment ellipsis">
                    <a href="https://blog.csdn.net/qq_52717477" class="user-name" target="_blank">謀認: </a>
                    <span class="code-comments">大部分网站都是做两级显示</span>
                </p>
            </li>
            <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/qq_42937522/article/details/116885436#comments_22983296" data-report-click='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/qq_42937522/article/details/116885436#comments_22983296","ab":"new"}' data-report-view='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/qq_42937522/article/details/116885436#comments_22983296","ab":"new"}'>SpringBoot 配置获取request中body的json格式参数</a>
                <p class="comment ellipsis">
                    <a href="https://blog.csdn.net/DARENcdn" class="user-name" target="_blank">DARENcdn: </a>
                    <span class="code-comments">可以用</span>
                </p>
            </li>
            <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/qq_42937522/article/details/104020956#comments_22946911" data-report-click='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/qq_42937522/article/details/104020956#comments_22946911","ab":"new"}' data-report-view='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/qq_42937522/article/details/104020956#comments_22946911","ab":"new"}'>Java值类型和引用类型的区别</a>
                <p class="comment ellipsis">
                    <a href="https://blog.csdn.net/weixin_39306154" class="user-name" target="_blank">weixin_39306154: </a>
                    <span class="code-comments">在区别中对引用类型的描述有误，一个是改变a的值的时候b也会随之改变，应该是手误了吧。你都说了是传递的引用地址。那相当于就是同一个对象了，两个变量指向的地址是一致的</span>
                </p>
            </li>
            <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/qq_42937522/article/details/110740545#comments_22788705" data-report-click='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/qq_42937522/article/details/110740545#comments_22788705","ab":"new"}' data-report-view='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/qq_42937522/article/details/110740545#comments_22788705","ab":"new"}'>如何深度定制扩展MybatisPlus提供的Model、Mapper、Service层的方法（以改造查询一条数据的selectOne和一条sql批量查询为例））</a>
                <p class="comment ellipsis">
                    <a href="https://blog.csdn.net/the_bestlong" class="user-name" target="_blank">回顾楠国雪: </a>
                    <span class="code-comments">关于model层的方法，实体类应该继承的是BasicModel，才能生效</span>
                </p>
            </li>
        </ul>
    </div>
</div>
<div id="asideNewNps" class="aside-box common-nps-box">
    <h3 class="aside-title">您愿意向朋友推荐“博客详情页”吗？</h3>
    <div class="aside-content">
        <ul class="newnps-list">
            <li class="newnps-item" data-type="强烈不推荐">
                <div class="newnps-img-box">
                    <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel1.png" alt="">
                    <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey1.png" alt="">
                </div>
                <div class="newnps-text">强烈不推荐</div>
            </li>
            <li class="newnps-item" data-type="不推荐">
                <div class="newnps-img-box">
                    <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel2.png" alt="">
                    <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey2.png" alt="">
                </div>
                <div class="newnps-text">不推荐</div>
            </li>
            <li class="newnps-item" data-type="一般般">
                <div class="newnps-img-box">
                    <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel3.png" alt="">
                    <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey3.png" alt="">
                </div>
                <div class="newnps-text">一般般</div>
            </li>
            <li class="newnps-item" data-type="推荐">
                <div class="newnps-img-box">
                    <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel4.png" alt="">
                    <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey4.png" alt="">
                </div>
                <div class="newnps-text">推荐</div>
            </li>
            <li class="newnps-item" data-type="强烈推荐">
                <div class="newnps-img-box">
                    <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel5.png" alt="">
                    <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey5.png" alt="">
                </div>
                <div class="newnps-text">强烈推荐</div>
            </li>
        </ul>
        <div class="newnps-form-box">
        <div class="newnps-form">
            <input type="text" placeholder="请输入建议或反馈后点击提交" class="newnps-input">
            <span class="newnps-btn">提交</span>
        </div>
        </div>
    </div>
</div>
<div id="asideArchive" class="aside-box" style="display:block!important; width:300px;">
    <h3 class="aside-title">最新文章</h3>
    <div class="aside-content">
        <ul class="inf_list clearfix">
            <li class="clearfix">
            <a href="https://blog.csdn.net/qq_42937522/article/details/127011812" target="_blank" data-report-click='{"mod":"popu_382","spm":"1001.2101.3001.4136","dest":"https://blog.csdn.net/qq_42937522/article/details/127011812","ab":"new"}' data-report-view='{"mod":"popu_382","dest":"https://blog.csdn.net/qq_42937522/article/details/127011812","ab":"new"}'>mysql 跨库数据清洗方案</a>
            </li>
            <li class="clearfix">
            <a href="https://blog.csdn.net/qq_42937522/article/details/126661736" target="_blank" data-report-click='{"mod":"popu_382","spm":"1001.2101.3001.4136","dest":"https://blog.csdn.net/qq_42937522/article/details/126661736","ab":"new"}' data-report-view='{"mod":"popu_382","dest":"https://blog.csdn.net/qq_42937522/article/details/126661736","ab":"new"}'>go-kit grpc调用及中间件封装</a>
            </li>
            <li class="clearfix">
            <a href="https://blog.csdn.net/qq_42937522/article/details/126532075" target="_blank" data-report-click='{"mod":"popu_382","spm":"1001.2101.3001.4136","dest":"https://blog.csdn.net/qq_42937522/article/details/126532075","ab":"new"}' data-report-view='{"mod":"popu_382","dest":"https://blog.csdn.net/qq_42937522/article/details/126532075","ab":"new"}'>K8s cert-manager配置PKCS12的TLS</a>
            </li>
        </ul>
        <div class="archive-bar"></div>
        <div class="archive-box">
                <div class="archive-list-item"><a href="https://blog.csdn.net/qq_42937522?type=blog&amp;year=2022&amp;month=09" target="_blank" data-report-click='{"mod":"popu_538","spm":"1001.2101.3001.4138","ab":"new","dest":"https://blog.csdn.net/qq_42937522?type=blog&amp;year=2022&amp;month=09"}'><span class="year">2022年</span><span class="num">10篇</span></a></div>
                <div class="archive-list-item"><a href="https://blog.csdn.net/qq_42937522?type=blog&amp;year=2021&amp;month=12" target="_blank" data-report-click='{"mod":"popu_538","spm":"1001.2101.3001.4138","ab":"new","dest":"https://blog.csdn.net/qq_42937522?type=blog&amp;year=2021&amp;month=12"}'><span class="year">2021年</span><span class="num">46篇</span></a></div>
                <div class="archive-list-item"><a href="https://blog.csdn.net/qq_42937522?type=blog&amp;year=2020&amp;month=12" target="_blank" data-report-click='{"mod":"popu_538","spm":"1001.2101.3001.4138","ab":"new","dest":"https://blog.csdn.net/qq_42937522?type=blog&amp;year=2020&amp;month=12"}'><span class="year">2020年</span><span class="num">114篇</span></a></div>
                <div class="archive-list-item"><a href="https://blog.csdn.net/qq_42937522?type=blog&amp;year=2019&amp;month=11" target="_blank" data-report-click='{"mod":"popu_538","spm":"1001.2101.3001.4138","ab":"new","dest":"https://blog.csdn.net/qq_42937522?type=blog&amp;year=2019&amp;month=11"}'><span class="year">2019年</span><span class="num">10篇</span></a></div>
        </div>
    </div>
</div>
	<div id="footerRightAds" class="isShowFooterAds">
		<div class="aside-box">
			<div id="kp_box_57" data-pid="57"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1076724771190722"
     crossorigin="anonymous"></script>
<!-- PC-博客-详情页-左下视窗-80-99 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1076724771190722"
     data-ad-slot="7418711749"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script><img class="pre-img-lasy" data-src="https://kunyu.csdn.net/1.png?p=57&adId=1015194&a=1015194&c=0&k=RabbitMQ常见问题解决方案——消息丢失、重复消费、消费乱序、消息积压&spm=1001.2101.3001.5001&articleId=119567072&d=1&t=3&u=a441e44df1c04ddfa2c128fd7626b987" style="display: block;width: 0px;height: 0px;"></div>
		</div>
	</div>
    <!-- 详情页显示目录 -->
<!--文章目录-->
<div id="asidedirectory" class="aside-box">
    <div class='groupfile' id="directory">
        <h3 class="aside-title">目录</h3>
        <div class="align-items-stretch group_item">
            <div class="pos-box">
            <div class="scroll-box">
                <div class="toc-box"></div>
            </div>
            </div>
        </div>
    </div>
</div>
</aside>
<script>
	$("a.flexible-btn").click(function(){
		$(this).parents('div.aside-box').removeClass('flexible-box');
		$(this).parents("p.text-center").remove();
	})
</script>
<script type="text/javascript"  src="https://g.csdnimg.cn/user-tooltip/2.7/user-tooltip.js"></script>
<script type="text/javascript"  src="https://g.csdnimg.cn/user-medal/2.0.0/user-medal.js"></script>    </div>
<div class="recommend-right align-items-stretch clearfix" id="rightAside" data-type="recommend">
    <aside class="recommend-right_aside">
        <div id="recommend-right" >
                                <div class="programmer1Box">
                        <div id="kp_box_530" data-pid="530"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1076724771190722"
     crossorigin="anonymous"></script>
<!-- PC-博客-详情页-右上视窗-80-99 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1076724771190722"
     data-ad-slot="1041005650"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script><img class="pre-img-lasy" data-src="https://kunyu.csdn.net/1.png?p=530&adId=1015191&a=1015191&c=0&k=RabbitMQ常见问题解决方案——消息丢失、重复消费、消费乱序、消息积压&spm=1001.2101.3001.4647&articleId=119567072&d=1&t=3&u=9939d6585f454024a12439aab68df6bf" style="display: block;width: 0px;height: 0px;"></div>
                    </div>
            <div class='flex-column aside-box groupfile' id="groupfile">
                <div class="groupfile-div">
                <h3 class="aside-title">目录</h3>
                <div class="align-items-stretch group_item">
                    <div class="pos-box">
                        <div class="scroll-box">
                            <div class="toc-box"></div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
                <div id="recommendAdBox">
                    <div id="kp_box_479" data-pid="479"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1076724771190722"
     crossorigin="anonymous"></script>
<!-- PC-博客-详情页-右下视窗-80-99 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1076724771190722"
     data-ad-slot="8695886974"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script><img class="pre-img-lasy" data-src="https://kunyu.csdn.net/1.png?p=479&adId=1015192&a=1015192&c=0&k=RabbitMQ常见问题解决方案——消息丢失、重复消费、消费乱序、消息积压&spm=1001.2101.3001.4834&articleId=119567072&d=1&t=3&u=1e578d493c5a4243bc190042c8f2df18" style="display: block;width: 0px;height: 0px;"></div>
                </div>
            <div class='aside-box kind_person d-flex flex-column'>
                    <h3 class="aside-title">分类专栏</h3>
                    <div class="align-items-stretch kindof_item" id="kind_person_column">
                        <div class="aside-content">
                            <ul>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11994130.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11994130.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Go
                                        </span>
                                    </a>
                                    <span class="special-column-num">1篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11982975.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11982975.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756780.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            k8s
                                        </span>
                                    </a>
                                    <span class="special-column-num">1篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11857922.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11857922.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            区块链
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11609967.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11609967.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756930.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            博客
                                        </span>
                                    </a>
                                    <span class="special-column-num">3篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11434347.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11434347.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756930.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            大数据
                                        </span>
                                    </a>
                                    <span class="special-column-num">11篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11391393.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11391393.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            多线程和高并发
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10020908.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10020908.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756923.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            springboot
                                        </span>
                                    </a>
                                    <span class="special-column-num">20篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9753640.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9753640.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20190918135101160.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            linux服务器部署运维
                                        </span>
                                    </a>
                                    <span class="special-column-num">19篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11303403.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11303403.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            分布式
                                        </span>
                                    </a>
                                    <span class="special-column-num">4篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11303402.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11303402.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Redis
                                        </span>
                                    </a>
                                    <span class="special-column-num">3篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10817641.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10817641.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            消息中间件
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_11215961.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_11215961.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            SpringCloud
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10838582.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10838582.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            ElasticSearch
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10638311.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10638311.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Mybatis/MybatisPlus
                                        </span>
                                    </a>
                                    <span class="special-column-num">5篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_8941236.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_8941236.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20190918140145169.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            前端
                                        </span>
                                    </a>
                                    <span class="special-column-num">9篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9753680.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9753680.html","ab":"new"}'>
                                        <div class="special-column-bar special-column-bar-second"></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            vue
                                        </span>
                                    </a>
                                    <span class="special-column-num">9篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9495700.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9495700.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20190927151043371.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Java基础
                                        </span>
                                    </a>
                                    <span class="special-column-num">27篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10020674.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10020674.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756913.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            mysql
                                        </span>
                                    </a>
                                    <span class="special-column-num">10篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10566310.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10566310.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            随笔
                                        </span>
                                    </a>
                                    <span class="special-column-num">5篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9750069.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9750069.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            算法&amp;数据结构
                                        </span>
                                    </a>
                                    <span class="special-column-num">22篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10258565.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10258565.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Git
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9790287.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9790287.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756930.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            设计模式
                                        </span>
                                    </a>
                                    <span class="special-column-num">26篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10383780.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10383780.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            开发规范
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9807786.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9807786.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756918.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Netty
                                        </span>
                                    </a>
                                    <span class="special-column-num">4篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_10534477.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_10534477.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756754.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            软件设计师
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/qq_42937522/category_9815144.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/qq_42937522/category_9815144.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            计算机
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                            </ul>
                        </div>
                    </div>
            </div>
        </div>
    </aside>
</div>

<div class="recommend-right1  align-items-stretch clearfix" id="rightAsideConcision" data-type="recommend">
    <aside class="recommend-right_aside">
        <div id="recommend-right-concision" >
            <div class='flex-column aside-box groupfile' id="groupfileConcision">
                <div class="groupfile-div1">
                <h3 class="aside-title">目录</h3>
                <div class="align-items-stretch group_item">
                    <div class="pos-box">
                        <div class="scroll-box">
                            <div class="toc-box"></div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </aside>
</div>

</div>
<div class="mask-dark"></div>
<script src="https://csdnimg.cn/public/sandalstrap/1.4/js/sandalstrap.min.js"></script>
<div class="skin-boxshadow"></div>
<div class="directory-boxshadow"></div>
<div class="comment-side-box-shadow comment-side-tit-close" id="commentSideBoxshadow">
<div class="comment-side-content">
	<div class="comment-side-tit">
	<span class="comment-side-tit-count">评论</span>	
	<img class="comment-side-tit-close" src="https://csdnimg.cn/release/blogv2/dist/pc/img/closeBt.png"></div>
	<div id="pcCommentSideBox" class="comment-box comment-box-new2 " style="display:block">
		<div class="comment-edit-box d-flex">
			<div class="user-img">
				<a href="https://blog.csdn.net/weixin_46000198" target="_blank">
					<img src="https://profile.csdnimg.cn/E/D/5/3_weixin_46000198">
				</a>
			</div>
			<form id="commentform">
				<textarea class="comment-content" name="comment_content" id="comment_content" placeholder="欢迎高质量的评论，低质的评论会被折叠" maxlength="1000"></textarea>
				<div class="comment-operate-box">
					<div class="comment-operate-l">
						<span id="tip_comment" class="tip">还能输入<em>1000</em>个字符</span>
					</div>
					<div class="comment-operate-c">
						&nbsp;
					</div>
					<div class="comment-operate-r">
						<div class="comment-operate-item comment-emoticon">
							<img class="comment-operate-img" data-url="https://csdnimg.cn/release/blogv2/dist/pc/img/" src="https://csdnimg.cn/release/blogv2/dist/pc/img/commentEmotionIcon.png" alt="表情包">
							<span class="comment-operate-tip">插入表情</span>
							<div class="comment-emoticon-box comment-operate-isshow">
								<div class="comment-emoticon-img-box"></div>
							</div>
						</div>
						<div class="comment-operate-item comment-code">
							<img class="comment-operate-img" data-url="https://csdnimg.cn/release/blogv2/dist/pc/img/" src="https://csdnimg.cn/release/blogv2/dist/pc/img/commentCodeIcon.png" alt="表情包">
							<span class="comment-operate-tip">代码片</span>
							<div class="comment-code-box comment-operate-isshow">
								<ul id="commentCode">
									<li><a data-code="html">HTML/XML</a></li>
									<li><a data-code="objc">objective-c</a></li>
									<li><a data-code="ruby">Ruby</a></li>
									<li><a data-code="php">PHP</a></li>
									<li><a data-code="csharp">C</a></li>
									<li><a data-code="cpp">C++</a></li>
									<li><a data-code="javascript">JavaScript</a></li>
									<li><a data-code="python">Python</a></li>
									<li><a data-code="java">Java</a></li>
									<li><a data-code="css">CSS</a></li>
									<li><a data-code="sql">SQL</a></li>
									<li><a data-code="plain">其它</a></li>
								</ul>
							</div>
						</div>
						<div class="comment-operate-item">
							<input type="hidden" id="comment_replyId" name="comment_replyId">
							<input type="hidden" id="article_id" name="article_id" value="119567072">
							<input type="hidden" id="comment_userId" name="comment_userId" value="">
							<input type="hidden" id="commentId" name="commentId" value="">
							<a data-report-click='{"mod":"1582594662_003","spm":"1001.2101.3001.4227","ab":"new"}'>
							<input type="submit" class="btn-comment btn-comment-input" value="评论">
							</a>
						</div>
					</div>
				</div>
			</form>
		</div>
		<div class="comment-list-container">
			<div class="comment-list-box comment-operate-item">
			</div>
			<div id="lookFlodComment" class="look-flod-comment">
					<span class="count"></span>&nbsp;条评论被折叠&nbsp;<a class="look-more-flodcomment">查看</a>
			</div>
			<div class="opt-box text-center">
				<div class="btn btn-sm btn-link-blue" id="btnMoreComment"></div>
			</div>
		</div>
	</div>
	<div id="pcFlodCommentSideBox" class="pc-flodcomment-sidebox">
		<div class="comment-fold-tit"><span id="lookUnFlodComment" class="back"><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/commentArrowLeftWhite.png" alt=""></span>被折叠的&nbsp;<span class="count"></span>&nbsp;条评论
		 <a href="https://blogdev.blog.csdn.net/article/details/122245662" class="tip" target="_blank">为什么被折叠?</a>
		 <a href="https://bbs.csdn.net/forums/FreeZone" class="park" target="_blank">
		 <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/iconPark.png">到【灌水乐园】发言</a>                                
		</div>
		<div class="comment-fold-content"></div>
		<div id="lookBadComment" class="look-bad-comment side-look-comment">
			<a class="look-more-comment">查看更多评论<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/commentArrowDownWhite.png" alt=""></a>
		</div>
	</div>
</div>
</div>
<div id="rewardNew" class="reward-popupbox-new">
	<p class="rewad-title">打赏作者<span class="reward-close"><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/closeBt.png"></span></p>
	<dl class="profile-box">
		<dd>
		<a href="https://blog.csdn.net/qq_42937522" data-report-click='{"mod":"popu_379","dest":"https://blog.csdn.net/qq_42937522","ab":"new"}'>
			<img src="https://profile.csdnimg.cn/B/3/C/3_qq_42937522" class="avatar_pic">
		</a>
		</dd>
		<dt>
			<p class="blog-name">Duktig丶</p>
			<p class="blog-discript">你的鼓励将是我创作的最大动力</p>
		</dt>
	</dl>
	<div class="reward-box-new">
			<div class="reward-content"><div class="reward-right"></div></div>
	</div>
	<div class="money-box">
				<span class="choose-money choosed" data-id="2">¥2</span>
				<span class="choose-money " data-id="4">¥4</span>
				<span class="choose-money " data-id="6">¥6</span>
				<span class="choose-money " data-id="10">¥10</span>
				<span class="choose-money " data-id="20">¥20</span>
				<input id="customizeMoney" class="customize-money" name="" type="" value="" placeholder="自定义"/>
				<div class="customize-tip">输入1-500的整数</div>
	</div>
	<div class="pay-box">
		<div class="pay-type-blance pay-type active" data-type="blance">
			<img class="unchoose" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newUnChoose.png" alt="">
			<img class="choose"src="https://csdnimg.cn/release/blogv2/dist/pc/img/newChoose.png" alt="">
			<span class="pay-type-name">余额支付</span>
			<span class="pay-type-num">(余额：-- )</span>
		</div>
		<div class="pay-type-money pay-type" data-type="money">
			<img class="unchoose" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newUnChoose.png" alt="">
			<img class="choose"src="https://csdnimg.cn/release/blogv2/dist/pc/img/newChoose.png" alt="">
			<span class="pay-type-name">扫码支付</span>
		</div>
	</div>
	<div class="sure-box">
		<div class="sure-box-money">
			<div class="code-box">
				<div class="code-num-box">
					<span class="code-name">扫码支付：</span><span class="code-num">¥2</span>
				</div>
				<div class="code-img-box">
					<div class="renovate">
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/pay-time-out.png">
					<span>获取中</span>
					</div>
				</div>
				<div class="code-pay-box">
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/newWeiXin.png" alt="">
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/newZhiFuBao.png" alt="">
					<span>扫码支付</span>
				</div>
			</div>
		</div>
		<div class="sure-box-blance">
			<p class="tip">您的余额不足，请更换扫码支付或<a target="_blank" data-report-click='{"mod":"1597646289_003","spm":"1001.2101.3001.4302"}' href="https://i.csdn.net/#/wallet/balance/recharge?utm_source=RewardVip" class="go-invest">充值</a></p>
			<p class="is-have-money"><a class="reward-sure">打赏作者</a></p>
		</div>
	</div>
</div>
<div class="pay-code">
    <div class="pay-money">实付<span class="pay-money-span" data-nowprice='' data-oldprice=''>元</span></div>
    <div class="content-blance"><a class="blance-bt" href="javascript:;">使用余额支付</a></div>
    <div class="content-code">
    <div id="payCode" data-id="">
            <div class="renovate">
                <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/pay-time-out.png">
                <span>点击重新获取</span>
            </div>
        </div>
        <div class="pay-style"><span><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/weixin.png"></span><span><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/zhifubao.png"></span><span><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/jingdong.png"></span><span class="text">扫码支付</span></div>
    </div>
    <div class="bt-close"><svg t="1567152543821" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10924" xmlns:xlink="http://www.w3.org/1999/xlink" width="12" height="12"><defs><style type="text/css"></style></defs><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="10925"></path></svg></div>
    <!-- <p style="margin-top: 8px;font-size: 14px;" class="text-center">支付成功即可阅读</p> -->
    <div class="pay-balance">
    <input type="radio" class="pay-code-radio" data-type="details"> 
    <span class="span">钱包余额</span>
    <span class="balance" style="color:#FC5531;font-size:14px;">0</span>  
    <div class="pay-code-tile">
        <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/pay-help.png" alt="">
        <div class="pay-code-content">
            <div class="span">
                <p class="title">抵扣说明：</p>
                <p> 1.余额是钱包充值的虚拟货币，按照1:1的比例进行支付金额的抵扣。<br> 2.余额无法直接购买下载，可以购买VIP、C币套餐、付费专栏及课程。</p>
            </div>
        </div>
    </div>
    </div>
    <a class="pay-balance-con" href="https://i.csdn.net/#/wallet/balance/recharge" target="_blank"><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/recharge.png" alt=""><span  >余额充值</span></a>
</div>
<div style="display:none;">
	<img src="" onerror='setTimeout(function(){if(!/(csdn.net|iteye.com|baiducontent.com|googleusercontent.com|360webcache.com|sogoucdn.com|bingj.com|baidu.com)$/.test(window.location.hostname)){window.location.href="\x68\x74\x74\x70\x73\x3a\x2f\x2f\x77\x77\x77\x2e\x63\x73\x64\x6e\x2e\x6e\x65\x74"}},3000);'>
</div>
<div class="keyword-dec-box" id="keywordDecBox"></div>
</body>
<script src="https://csdnimg.cn/release/blogv2/dist/components/js/pc_wap_highlight-2a2586c533.min.js" type="text/javascript"></script>
<script src="https://csdnimg.cn/release/blogv2/dist/components/js/pc_wap_common-fbcbe8567e.min.js" type="text/javascript"></script>
<script src="https://csdnimg.cn/release/blogv2/dist/components/js/edit_copy_code-ce0f06f94b.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="https://csdnimg.cn/release/blog_editor_html/release1.6.12/ckeditor/plugins/codesnippet/lib/highlight/styles/atom-one-light.css">
<script src="https://g.csdnimg.cn/user-accusation/1.0.5/user-accusation.js" type="text/javascript" ></script>
<script>
 // 全局声明
 if (window.csdn === undefined) {
      window.csdn = {};
    }
    window.csdn.sideToolbar = {
        options: {
            report:{
                isShow: true,
            },
            qr: {
                isShow: false,
            },
            guide: {
                isShow: true
            }
        }
    }
    $(function(){
        $(document).on('click',"a.option-box[data-type='report']",function() {
            window.csdn.userLogin.loadAjax(function(res){
                window.csdn.feedback({
                    "type":'blog',
                    "rtype":'article',
                    "rid":articleId,
                    "reportedName":username,
                    "submitOptions":{
                        "title":articleTitle,
                        "contentUrl":articleDetailUrl
                    },
                    "callback":function(){
                        showToast({
                            text: "感谢您的举报，我们会尽快审核！",
                            bottom: '10%', 
                            zindex: 9000, 
                            speed: 500,
                            time: 1500
                        });
                    }
                })
            })
        });
    })
</script>
    <script src="https://g.csdnimg.cn/baidu-search/1.0.12/baidu-search.js"  type="text/javascript"></script>
<script src="https://csdnimg.cn/release/download/old_static/js/qrcode.js"></script>
<script src="https://g.csdnimg.cn/lib/qrcode/1.0.0/qrcode.min.js"></script>
<script src="https://g.csdnimg.cn/user-ordercart/3.0.1/user-ordercart.js" type="text/javascript"></script>
<script src="https://g.csdnimg.cn/user-ordertip/5.0.1/user-ordertip.js" type="text/javascript" ></script>
<script src="https://g.csdnimg.cn/order-payment/4.0.1/order-payment.js" type="text/javascript" ></script>
<script src="https://csdnimg.cn/release/blogv2/dist/pc/js/common-a1dfbf1dc3.min.js" type="text/javascript"></script>
<script src="https://csdnimg.cn/release/blogv2/dist/pc/js/detail-bff68f3fa1.min.js" type="text/javascript"></script>
<script src="https://csdnimg.cn/release/blogv2/dist/pc/js/column-2e5cf567c5.min.js" type="text/javascript"></script>
<script src="https://g.csdnimg.cn/side-toolbar/3.4/side-toolbar.js" type="text/javascript"></script>
<script src="https://g.csdnimg.cn/copyright/1.0.4/copyright.js" type="text/javascript"></script>
<script>
    $(".MathJax").remove();
    if ($('div.markdown_views pre.prettyprint code.hljs').length > 0) {
        $('div.markdown_views')[0].className = 'markdown_views';
    }
</script>
<script type="text/javascript" src="https://csdnimg.cn/release/blog_mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            "HTML-CSS": {
                    linebreaks: { automatic: true, width: "94%container" },
                    imageFont: null
            },
            tex2jax: {
                preview: "none",
                ignoreClass:"title-article"
            },
            mml2jax: {
                preview: 'none'
            }
    });
</script>
<script type="text/javascript" crossorigin src="https://g.csdnimg.cn/common/csdn-login-box/csdn-login-box.js"></script></html>
