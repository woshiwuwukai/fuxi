
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <link rel="canonical" href="https://blog.csdn.net/pjh88/article/details/121238032"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="report" content='{"pid": "blog", "spm":"1001.2101"}'>
    <meta name="referrer" content="always">
    <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />
    <meta name="shenma-site-verification" content="5a59773ab8077d4a62bf469ab966a63b_1497598848">
    <meta name="applicable-device" content="pc">
    <link  href="https://g.csdnimg.cn/static/logo/favicon32.ico"  rel="shortcut icon" type="image/x-icon" />
    <title>Future模式与异步回调模式_一只胡说八道的猴子的博客-CSDN博客</title>
    <script>
      (function(){ 
        var el = document.createElement("script"); 
        el.src = "https://s3a.pstatp.com/toutiao/push.js?1abfa13dfe74d72d41d83c86d240de427e7cac50c51ead53b2e79d40c7952a23ed7716d05b4a0f683a653eab3e214672511de2457e74e99286eb2c33f4428830"; 
        el.id = "ttzz"; 
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(el, s);
      })(window)
    </script>
        <meta name="keywords" content="Future模式与异步回调模式">
    <meta name="description" content="写再前面Future模式与异步回调模式二者十分相似又存在区别，所以将两个和在一起进行总结。​Future模式什么是Future模式长篇大论用生活中的例子来打个比喻,就像叫外卖。比如在午休之前我们可以提前叫外卖,只需要点好食物,下个单。然后我们可以继续工作。到了中午下班的时候外卖也就到了,然后就可以吃个午餐,再美滋滋的睡个午觉。而如果你在下班的时候才叫外卖,那就只能坐在那里干等着外卖小哥,最后拿到外卖吃完午饭,午休时间也差不多结束了。​Future 模式是高并发设计与开发过程中常见的设计模式，">
    <script src="//g.csdnimg.cn/tingyun/1.8.5/blog.js" type='text/javascript'></script>
        <link rel="stylesheet" type="text/css" href="https://csdnimg.cn/release/blogv2/dist/pc/css/detail_enter-dbcfbb1ed8.min.css">
    <script type="application/ld+json">{"@context":"https://ziyuan.baidu.com/contexts/cambrian.jsonld","@id":"https://blog.csdn.net/pjh88/article/details/121238032","appid":"1638831770136827","pubDate":"2021-11-09T22:04:10","title":"Future模式与异步回调模式_一只胡说八道的猴子的博客-CSDN博客","upDate":"2021-11-09T22:04:32"}</script>
        <link rel="stylesheet" type="text/css" href="https://csdnimg.cn/release/blogv2/dist/pc/themesSkin/skin-blue/skin-blue-5e706cc758.min.css">
    <script src="https://csdnimg.cn/public/common/libs/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        var isCorporate = false;//注释删除enterprise
        var username =  "pjh88";
        var skinImg = "white";
        var blog_address = "https://blog.csdn.net/pjh88";
        var currentUserName = "weixin_46000198";
        var isOwner = false;
        var loginUrl = "http://passport.csdn.net/account/login?from=https://blog.csdn.net/pjh88/article/details/121238032";
        var blogUrl = "https://blog.csdn.net/";
        var avatar = "https://profile.csdnimg.cn/5/C/4/3_pjh88";
        var articleTitle = "Future模式与异步回调模式";
        var articleDesc = "写再前面Future模式与异步回调模式二者十分相似又存在区别，所以将两个和在一起进行总结。​Future模式什么是Future模式长篇大论用生活中的例子来打个比喻,就像叫外卖。比如在午休之前我们可以提前叫外卖,只需要点好食物,下个单。然后我们可以继续工作。到了中午下班的时候外卖也就到了,然后就可以吃个午餐,再美滋滋的睡个午觉。而如果你在下班的时候才叫外卖,那就只能坐在那里干等着外卖小哥,最后拿到外卖吃完午饭,午休时间也差不多结束了。​Future 模式是高并发设计与开发过程中常见的设计模式，";
        var articleTitles = "Future模式与异步回调模式_一只胡说八道的猴子的博客-CSDN博客";
        var nickName = "一只胡说八道的猴子";
        var articleDetailUrl = "https://blog.csdn.net/pjh88/article/details/121238032";
        if(window.location.host.split('.').length == 3) {
            blog_address = blogUrl + username;
        }
        var skinStatus = "White";
        var blogStaticHost = "https://csdnimg.cn/release/blogv2/"
        var mallTestStyle = "control"
    </script>
    <script src="https://g.csdnimg.cn/??fixed-sidebar/1.1.6/fixed-sidebar.js" type="text/javascript"></script>
    <script src='//g.csdnimg.cn/common/csdn-report/report.js' type='text/javascript'></script>
    <link rel="stylesheet" type="text/css" href="https://csdnimg.cn/public/sandalstrap/1.4/css/sandalstrap.min.css">
    <style>
        .MathJax, .MathJax_Message, .MathJax_Preview{
            display: none
        }
    </style>
    <script src="https://dup.baidustatic.com/js/ds.js"></script>
</head>
  <body class="nodata " style="">
        <script>
            var toolbarSearchExt = '{"landingWord":[],"queryWord":"","tag":["java"],"title":"Future模式与异步回调模式"}';
        </script>
    <script src="https://g.csdnimg.cn/common/csdn-toolbar/csdn-toolbar.js" type="text/javascript"></script>
    <script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
    </script>
<link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/pc/css/blog_code-01256533b5.min.css">
<link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/chart-3456820cac.css" />

<script>
    var articleId = 121238032;
    var commentscount = 1;
    var curentUrl = "https://blog.csdn.net/pjh88/article/details/121238032";
    var myUrl = "https://my.csdn.net/";
    var highlight = ["future","java","模式","异步","回调","与"];//高亮数组
    var isRecommendModule = true;
    var isBaiduPre = true;
    var baiduCount = 2;
    var setBaiduJsCount = 10;
    var share_card_url = "https://app-blog.csdn.net/share?article_id=121238032&username=pjh88"
	var articleType = 1;
    var baiduKey = "";
    var userNewReport = true;
    var needInsertBaidu = true;
    var recommendRegularDomainArr = ["blog.csdn.net/.+/article/details/","download.csdn.net/download/","edu.csdn.net/course/detail/","ask.csdn.net/questions/","bbs.csdn.net/topics/","www.csdn.net/gather_.+/"]
    var codeStyle = "atom-one-light";
    var baiduSearchType = "";
     var sharData = "{\"hot\":[{\"id\":1,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/a5f4260710904e538002a6ab337939b3.png\"},{\"id\":2,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/188b37199a2c4b74b1d9ffc39e0d52de.png\"},{\"id\":3,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/14ded358b631444581edd98a256bc5af.png\"},{\"id\":4,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/1470f23a770444d986ad551b9c33c5be.png\"},{\"id\":5,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/c329f5181dc74f6c9bd28c982bb9f91d.png\"},{\"id\":6,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/ccd8a3305e81460f9c505c95b432a65f.png\"},{\"id\":7,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/bc89d8283389440d97fc4d30e30f45e1.png\"},{\"id\":8,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/452d485b4a654f5592390550d2445edf.png\"},{\"id\":9,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/f8b9939db2ed474a8f43a643015fc8b7.png\"},{\"id\":10,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/6de8864187ab4ed3b1db0856369c36ff.png\"},{\"id\":11,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/673cc3470ff74072acba958dc0c46e2d.png\"},{\"id\":12,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/930c119760ac4491804db80f9c6d4e3f.png\"},{\"id\":13,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/15e6befb05a24233bc2b65e96aa8d972.png\"},{\"id\":14,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/2075fd6822184b95a41e214de4daec13.png\"},{\"id\":15,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/859b1552db244eb6891a809263a5c657.png\"},{\"id\":16,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/0be2f920f1f74290a98921974a9613fd.png\"},{\"id\":17,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/2e97e00b43f14afab494ea55ef3f4a6e.png\"},{\"id\":18,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/ff4ab252f46e444686f5135d6ebbfec0.png\"},{\"id\":19,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/ae029bbe99564e79911657912d36524f.png\"},{\"id\":20,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/b3ece39963de440388728e9e7b9bf427.png\"},{\"id\":21,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/6f14651a99ba486e926d63b6fa692997.png\"},{\"id\":22,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/83ceddf050084875a341e32dcceca721.png\"},{\"id\":23,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/b90368b8fd5d4c6c8c79a707d877cf7c.png\"},{\"id\":24,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/aeffae14ecf14e079b2616528c9a393b.png\"},{\"id\":25,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/c5a06b5a13d44d16bed868fc3384897a.png\"},{\"id\":26,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/08b697658b844b318cea3b119e9541ef.png\"},{\"id\":27,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/68ccb0b8d09346ac961d2b5c1a8c77bf.png\"},{\"id\":28,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/a2227a247e37418cbe0ea972ba6a859b.png\"},{\"id\":29,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/3a42825fede748f9993e5bb844ad350d.png\"},{\"id\":30,\"url\":\"https:\\/\\/img-blog.csdnimg.cn\\/8882abc1dd484224b636966ea38555c3.png\"}],\"vip\":[{\"id\":1,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101150.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101154.png\"},{\"id\":2,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101204.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101208.png\"},{\"id\":3,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101211.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101215.png\"},{\"id\":4,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101218.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101220.png\"},{\"id\":5,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101223.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220920101226.png\"},{\"id\":6,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100635.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100639.png\"},{\"id\":7,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100642.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100644.png\"},{\"id\":8,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100647.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100649.png\"},{\"id\":9,\"vipUrl\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100652.png\",\"url\":\"https:\\/\\/img-home.csdnimg.cn\\/images\\/20220922100655.png\"}],\"map\":{\"hot\":\"热门\",\"vip\":\"VIP\"}}";
    
    var canRead = true;
    var blogMoveHomeArticle = false;
    var showPcWindowAd = false;
    var showHeadWord = true;
    var showSearchText = "";
    var linkPage = true;
    var articleSource = 1;
    var articleReport = '{"pid": "blog", "spm":"1001.2101"}';
    var isShowToQuestion = false;
    var baiduSearchChannel = 'pc_relevant'
    var baiduSearchIdentification = '.pc_relevant_3mothn_strategy_recovery'
    var distRequestId = '1666867760947_30667'
    var initRewardObject = {
        giver: "weixin_46000198",
        anchor: "pjh88",
        articleId: "121238032",
        sign: "185670d0f72e691138d8dcccaed286da",
    }
    var isLikeStatus = false;
    var isUnLikeStatus = false;
    var studyLearnWord = "";
    var isCurrentUserVip = false;
    var testNewStyle = "oldStyle"
    var contentViewsHeight = 0;
    var contentViewsCount = 0;
    var contentViewsCountLimit = 5;
    var isShowConcision = true
    var isCookieConcision = false
    var isHasDirectoryModel = false
    var isShowSideModel = false
    var isShowDirectoryModel = true
    function getCookieConcision(sName){
        var allCookie = document.cookie.split("; ");
        for (var i=0; i < allCookie.length; i++){
            var aCrumb = allCookie[i].split("=");
            if (sName == aCrumb[0])
                return aCrumb[1];
        }
        return null;
    }
    if (getCookieConcision('blog_details_concision') && getCookieConcision('blog_details_concision') == 0){
        isCookieConcision = true
        isShowSideModel = true
        isShowDirectoryModel = false
    }
</script>
<div class="main_father clearfix d-flex justify-content-center mainfather-concision" style="height:100%;"> 
    <div class="container clearfix container-concision" id="mainBox">
        <script>
        if(!isCookieConcision){
            $('.main_father').removeClass('mainfather-concision')
            $('.main_father .container').removeClass('container-concision')
        }
        </script>
        <main>
<script type="text/javascript">
    function getQueryString(name) {   
      var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象  
      var r = window.location.search.substr(1).match(reg);  //匹配目标参数
      if( r != null ) return decodeURIComponent( r[2] ); return '';   
    }
    function stripscript(s){ 
      var pattern = new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？%]") 
      var rs = ""; 
      for (var i = 0; i < s.length; i++) { 
        rs = rs+s.substr(i, 1).replace(pattern, ''); 
      } 
      return rs; 
    }
    var blogHotWords = stripscript(getQueryString('utm_term')).length > 1 ? stripscript(getQueryString('utm_term')) : ''
</script>
<div class="blog-content-box">
        <div class="article-header-box">
        <div class="article-header">
            <div class="article-title-box">
                <h1 class="title-article" id="articleContentId">Future模式与异步回调模式</h1>
            </div>
            <div class="article-info-box">
                <div class="article-bar-top">
                    <img class="article-type-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png" alt="">
                    <div class="bar-content">
                    <a class="follow-nickName " href="https://blog.csdn.net/pjh88" target="_blank" rel="noopener">一只胡说八道的猴子</a>
                    <img class="article-time-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCurrentTime2.png" alt="">
                    <span class="time">于&nbsp;2021-11-09 22:04:32&nbsp;发布</span>
                    <img class="article-read-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png" alt="">
                    <span class="read-count">1023</span>
                    <a id="blog_detail_zk_collection" class="un-collection" data-report-click='{"mod":"popu_823","spm":"1001.2101.3001.4232","ab":"new"}'>
                        <img class="article-collect-img article-heard-img un-collect-status isdefault" style="display:none" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect2.png" alt="">
                        <img class="article-collect-img article-heard-img collect-status isactive" style="display:inline-block" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollectionActive2.png" alt="">
                        <span class="name">收藏</span>
                        <span class="get-collection">
                            9
                        </span>
                    </a>
                    </div>
                </div>
                <div class="blog-tags-box">
                    <div class="tags-box artic-tag-box">
                            <span class="label">分类专栏：</span>
                                <a class="tag-link" href="https://blog.csdn.net/pjh88/category_11114661.html" target="_blank" rel="noopener">网络编程</a>
                                <a class="tag-link" href="https://blog.csdn.net/pjh88/category_10170702.html" target="_blank" rel="noopener">java基础</a>
                                <a class="tag-link" href="https://blog.csdn.net/pjh88/category_10924591.html" target="_blank" rel="noopener">多线程</a>
                            <span class="label">文章标签：</span>
                                <a data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"java","ab":"new","extra":"{\"searchword\":\"java\"}"}' class="tag-link" href="https://so.csdn.net/so/search/s.do?q=java&amp;t=blog&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=" target="_blank" rel="noopener">java</a>
                    </div>
                </div>
                <div class="slide-content-box">
                    <div class="article-copyright">
                        <div class="creativecommons">
                            版权声明：本文为博主原创文章，遵循<a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"> CC 4.0 BY-SA </a>版权协议，转载请附上原文出处链接和本声明。
                        </div>
                        <div class="article-source-link">
                            本文链接：<a href="https://blog.csdn.net/pjh88/article/details/121238032" target="_blank">https://blog.csdn.net/pjh88/article/details/121238032</a>
                        </div>
                    </div>
                </div>
                <div class="operating">
                    <a class="href-article-edit slide-toggle">版权</a>
                </div>
            </div>
        </div>
    </div>
    <div id="blogHuaweiyunAdvert"></div>
        <div id="blogColumnPayAdvert">
            <div class="column-group">
                <div class="column-group-item column-group0 ">
                    <div class="item-l">
                        <a class="item-target" href="https://blog.csdn.net/pjh88/category_11114661.html" target="_blank" title="网络编程"
                        data-report-view='{"spm":"1001.2101.3001.6332"}'
                        data-report-click='{"spm":"1001.2101.3001.6332"}'>
                            <img class="item-target" src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="">
                            <span class="title item-target">
                                <span>
                                <span class="tit">网络编程</span>
                                    <span class="dec more">同时被 3 个专栏收录<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/newArrowDown1White.png" alt=""></span>
                                </span>
                            </span>
                        </a>
                    </div>
                    <div class="item-m">
                        <span>31 篇文章</span>
                        <span>1 订阅</span>
                    </div>
                    <div class="item-r">
                            <a class="item-target article-column-bt articleColumnFreeBt" data-id="11114661">订阅专栏</a>
                    </div>
                </div>
                <div class="column-group-item column-group1 ">
                    <div class="item-l">
                        <a class="item-target" href="https://blog.csdn.net/pjh88/category_10170702.html" target="_blank" title="java基础"
                        data-report-view='{"spm":"1001.2101.3001.6332"}'
                        data-report-click='{"spm":"1001.2101.3001.6332"}'>
                            <img class="item-target" src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="">
                            <span class="title item-target">
                                <span>
                                <span class="tit">java基础</span>
                                </span>
                            </span>
                        </a>
                    </div>
                    <div class="item-m">
                        <span>42 篇文章</span>
                        <span>2 订阅</span>
                    </div>
                    <div class="item-r">
                            <a class="item-target article-column-bt articleColumnFreeBt" data-id="10170702">订阅专栏</a>
                    </div>
                </div>
                <div class="column-group-item column-group2 ">
                    <div class="item-l">
                        <a class="item-target" href="https://blog.csdn.net/pjh88/category_10924591.html" target="_blank" title="多线程"
                        data-report-view='{"spm":"1001.2101.3001.6332"}'
                        data-report-click='{"spm":"1001.2101.3001.6332"}'>
                            <img class="item-target" src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="">
                            <span class="title item-target">
                                <span>
                                <span class="tit">多线程</span>
                                </span>
                            </span>
                        </a>
                    </div>
                    <div class="item-m">
                        <span>2 篇文章</span>
                        <span>0 订阅</span>
                    </div>
                    <div class="item-r">
                            <a class="item-target article-column-bt articleColumnFreeBt" data-id="10924591">订阅专栏</a>
                    </div>
                </div>
            </div>
        </div>
    <article class="baidu_pl">
        <div id="article_content" class="article_content clearfix">
        <link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/ck_htmledit_views-6e43165c0a.css">
                <div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h1><a id="_0"></a>写再前面</h1> 
<p>Future模式与异步回调模式二者十分相似又存在区别&#xff0c;所以将两个和在一起进行总结。<br /> ​</p> 
<h1><a id="Future_6"></a>Future模式</h1> 
<h2><a id="Future_9"></a>什么是Future模式</h2> 
<h3><a id="_12"></a>长篇大论</h3> 
<p>用生活中的例子来打个比喻,就像叫外卖。比如在午休之前我们可以提前叫外卖,只需要点好食物,下个单。然后我们可以继续工作。到了中午下班的时候外卖也就到了,然后就可以吃个午餐,再美滋滋的睡个午觉。而如果你在下班的时候才叫外卖,那就只能坐在那里干等着外卖小哥,最后拿到外卖吃完午饭,午休时间也差不多结束了。<br /> ​</p> 
<p><strong>Future 模式</strong>是高并发设计与开发过程中常见的设计模式&#xff0c;它的核心思想是异步调用。对于 Future 模式来说&#xff0c;它不是立即返回你需要的数据&#xff0c;但是它会返回一个契约&#xff08;或者说异步任务&#xff09;&#xff0c;将来你可以凭借这个契约&#xff08;或异步任务&#xff09;去获取你需要的结果。<br /> ​</p> 
<p>在进行传统的 RPC&#xff08;远程调用&#xff09;时&#xff0c;同步调用 RPC 是一段耗时的过程。当客户端发出 RPC请求&#xff0c;服务端完成请求处理需要很长的一段时间才会返回&#xff0c;这个过程中客户端一直在等待&#xff0c;直到 数据返回随后再进行其他任务的处理。现有一个 Client 同步对三个 Server 分别进行一次 RPC 调 用。<br /> <img src="https://img-blog.csdnimg.cn/img_convert/e56640a7d5d0a20513000cc963a7aec1.png#clientId&#61;u4374f775-804f-4&amp;from&#61;paste&amp;height&#61;308&amp;id&#61;u6fac42c3&amp;originHeight&#61;410&amp;originWidth&#61;653&amp;originalType&#61;binary&amp;ratio&#61;1&amp;size&#61;41325&amp;status&#61;done&amp;style&#61;shadow&amp;taskId&#61;u31d875ea-c901-4583-ab31-6467c4520d8&amp;width&#61;490" alt="image.png" /><br /> 假设一次远程调用的时间为 500ms&#xff0c;则一个 Client 同步对三个 Server 分别进行一次 RPC 调 用的总时间&#xff0c;需要耗费 1500ms。如果节省这个总时间呢&#xff0c;可以使用 Future 模式对其进行改造&#xff0c;将同步的 RPC 调用改为异步并发的 RPC 调用&#xff0c;一个 Client 异步并发对三个 Server 分别进行一次 RPC 调用<br /> <img src="https://img-blog.csdnimg.cn/img_convert/723e35694b12c5fd04befdf8fb7cd892.png#clientId&#61;u4374f775-804f-4&amp;from&#61;paste&amp;height&#61;245&amp;id&#61;u28c5391b&amp;originHeight&#61;327&amp;originWidth&#61;688&amp;originalType&#61;binary&amp;ratio&#61;1&amp;size&#61;44369&amp;status&#61;done&amp;style&#61;shadow&amp;taskId&#61;u2cd47dba-549b-4c3d-a1c7-d9698430577&amp;width&#61;516" alt="image.png" /><br /> ​</p> 
<p>假设一次远程调用的时间为 500ms&#xff0c;则一个 Client 异步并发对三个 Server 分别进行一次 RPC调用的总时间&#xff0c;还只要耗费 500ms。使用 Future 模式异步并发地进行 RPC 调用&#xff0c;客户端在得到一 个 RPC 的返回结果前&#xff0c;并不急于获取该结果&#xff0c;而是充分利用等待时间去执行其他的耗时操作&#xff08;如其他 RPC 调用&#xff09;这就是 Future 模式的核心所在。<br /> Future 模式的核心思想是异步调用&#xff0c;有点类似于异步的 Ajax 请求。当调用某个耗时方法时, 可以不急于立刻获取结果&#xff0c;可以让被调用者立刻返回一个契约&#xff08;或异步任务&#xff09;, 并且将耗时的方法放到另外线程执行&#xff0c;后续凭契约再去获取异步执行的结果。<br /> 在具体的实现上&#xff0c;Future 模式和异步回调模式既有区别&#xff0c;又有联系。Java 的 Future 模式实现&#xff0c;没有实现异步回调模式&#xff0c;仍然需要主动去获取耗时任务的结果&#xff1b;而 Java 8 中的 CompletableFuture 组件&#xff0c;实现了异步回调模式。<br /> ​</p> 
<h3><a id="_34"></a>一句话总结</h3> 
<p>使用Future模式,获取数据的时候无法立即得到需要的数据。而是先拿到一个契约,你可以再将来需要的时候再用这个契约去获取需要的数据,这个契约就好比叫外卖的例子里的外卖订单。<br /> Futute模式核心在于去除了主调用函数的等待时间&#xff0c;并使得原本需要等待的时间可以充分利用来处理其他业务逻辑&#xff0c;充分的利用了系统资源。<br /> ​</p> 
<h2><a id="_41"></a>简单版本的实现</h2> 
<p>我通过上面的点外卖的故事来实现一个简单的Future模式&#xff0c;这样更利于大家领会其中的奥妙。<br /> ​</p> 
<p>首先是FutureData,它是只是一个包装类,创建它不需要耗时。在工作线程准备好数据之后可以使用setData方法将数据传入。而客户端线程只需要在需要的时候调用getData方法即可,如果这个时候数据还没有准备好,那么getData方法就会等待,如果已经准备好了就好直接返回。</p> 
<pre><code>/*用于存储返回结果*/
public class FutureData&lt;T&gt; {
    /*标志位用于判断数据是否已经存储完成*/
    private boolean mIsReady&#61;false;
    private T mData;
    public synchronized void setData(T data){
        mIsReady&#61;true;
        mData&#61;data;
        /*唤醒操作*/
        notifyAll();
    }
    public synchronized T getData(){
        /*wait&#xff1a;
        * 让当前线程进入等待状态&#xff0c;同时&#xff0c;wait()也会让当前线程释放它所持有的锁。
        * “直到其他线程调用此对象的 notify() 方法或 notifyAll() 方法”&#xff0c;
        * 当前线程被唤醒(进入“就绪状态”)
        * */
        if (!mIsReady){
            try {
                /*如果没有则数据准备好则进入等待状态&#xff0c;等待唤醒*/
                wait();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        return mData;
    }
}

</code></pre> 
<p>接着是服务端,客户端在向服务端请求数据的时候服务端不会实际去加载数据,它只是创建一个FutureData,然后创建子线程去加载,而它只需要直接返回FutureData就可以了。<br /> ​</p> 
<pre><code>public class Server {
    public FutureData&lt;String&gt; getData(){
        final FutureData&lt;String&gt; data &#61; new FutureData&lt;&gt;();
        new Thread(new Runnable() {
            &#64;Override
            public void run() {
                try {
                    /*睡眠1000毫秒&#xff0c;模拟RPC远程调用的执行时间*/
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                /*向FutureData中加入数据*/
                data.setData(&#34;炸鸡到了&#xff01;&#xff01;&#34;);
            }
        }).start();
        return data;
    }
}

</code></pre> 
<p>客户端代码如下。</p> 
<pre><code>public class Main {
    public static void main(String[] args) throws InterruptedException {
        Server server &#61; new Server();
        /*返回一个Future&#xff0c;后续通过Future对象去取实际的内容*/
        System.out.println(&#34;点个炸鸡吃吃&#xff01;&#xff01;&#34;);
        FutureData&lt;String&gt; future &#61; server.getData();
        System.out.println(&#34;炸鸡没到&#xff0c;先处理其他事情。。。&#34;);
        /*睡眠1000秒模拟处理其他事情*/
        Thread.sleep(1000);
        System.out.println(&#34;其他事情处理好了&#xff01;&#xff01;去看看炸鸡到没&#xff01;&#xff01;&#34;);
        /*获取Future中的数据&#xff0c;如果准备好了&#xff0c;则直接获取&#xff0c;如果没有则阻塞*/
        String data &#61; future.getData();
        System.out.println(&#34;炸鸡到了&#xff01;&#xff01;&#34;);
    }
}

</code></pre> 
<p>从上述的案例我们可以看到节省的时间为等待外卖的过程中我们又同时处理了其他的事情。<br /> JDK中的实现版本肯定不会像我这般简陋&#xff0c;下面我们来学习学习JDK中是如何实现的。<br /> ​</p> 
<h2><a id="JDK_130"></a>JDK中的实现</h2> 
<h3><a id="Runable_135"></a>Runable接口</h3> 
<p>在多线程的编程中我们经常使用到Runable接口&#xff0c;Runable接口有如下众多优点。<br /> ​</p> 
<p>**灵活&#xff1a;**Runnable可以继承其他类实现对Runnable实现类的增强&#xff0c;避免了Thread类由于继承Thread类而无法继承其他类的问题。<br /> **共享资源: **Runnable接口的run()方法可以被多个线程共享&#xff0c;适用于多个进程处理一种资源的问题。<br /> ​</p> 
<p>**缺点: **但是Runable接口有一个巨大的缺点&#xff0c;就是他执行完任务不会返回结果&#xff0c;这在很多场景下是不适用的。<br /> ​</p> 
<p>所以为了执行异步执行的结果问题&#xff0c;Java语言在1.5 版本之后提供了一种的新的多线程创建方法&#xff1a; 通过 Callable 接口和 FutureTask 类相结合创建线程。<br /> ​</p> 
<h3><a id="Callable_153"></a>Callable接口</h3> 
<p>Callable 接口位于 java.util.concurrent 包中&#xff0c;翻开 Java 源代码&#xff0c;Callable 的代码如下&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/**
     * Computes a result, or throws an exception if unable to do so.
     *
     * &#64;return computed result
     * &#64;throws Exception if unable to compute a result
     */</span>
    <span class="token class-name">V</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>Callable 接口是一个泛型接口&#xff0c;也是一个“函数式接口”。其唯一的抽象方法 call&#xff08;&#xff09;有返回 值&#xff0c;返回值的类型为 Callable 接口的泛型形参类型&#xff1b;call 抽象方法还有一个 Exception 的异常声明&#xff0c;容许方法的实现版本内部的异常直接抛出&#xff0c;并且可以不予捕获&#xff08;子父类之间异常处理的关系&#xff09;。<br /> ​</p> 
<pre><code>子类声明异常不能超出父类的范围

[1]父类没有声明异常&#xff0c;子类也不能

[2]不可抛出原有方法抛出异常类的父类或上层类

[3]抛出的异常类型的数目不可以比原有的方法抛出的还多(不是指个数)

[4]如果程序有多个catch,应该子类异常在前&#xff0c;父类异常在后。
</code></pre> 
<p>Callable 接口类似于 Runnable。不同的是&#xff0c;Runnable 的唯一抽象方法 run&#xff08;&#xff09;没有返回值&#xff0c;也 没有受检异常的异常声明。比较而言&#xff0c;Callable 接口的 call&#xff08;&#xff09;有返回值有返回值&#xff0c;并且申明了受 检异常&#xff0c;其功能更强大一些。<br /> ​</p> 
<p>问题&#xff1a;Callable 实例能否和 Runnable 实例一样&#xff0c;作为 Thread 线程实例的 target 来使用吗&#xff1f;答 案是不行&#xff1a;Thread 的 target 属性的类型为 Runnable&#xff0c;而 Callable 接口与Runnable 接口之间没有任 何的继承关系&#xff0c;并且二者唯一方法在的名字上也不同。显而易见&#xff0c;Callable 接口实例没有办法作为 Thread 线程实例的 target 来使用。既然如此&#xff0c;那么该如何使用 Callable 接口去创建线程呢&#xff1f;一个 重要的在 Callable 接口与 Thread 线程之间起到搭桥作用的接口&#xff0c;马上就要登场了。<br /> ​</p> 
<h3><a id="RunableFuture_195"></a>RunableFuture接口</h3> 
<p>这个重要中间搭桥接口&#xff0c;就是 RunnableFuture 接口&#xff0c;该接口与 Runnable 接口、Thread 类紧密 相关的。与 Callable 接口一样&#xff0c;RunnableFuture 接口也是位于 java.util.concurrent 包&#xff0c;使用的时候需要的 import 导入。<br /> RunnableFuture 是如何在 Callable 与 Thread 中间实现搭桥功能的呢&#xff1f;RunnableFuture 接口实现了两个目标&#xff1a;一是可以作为 Thread 线程实例的 target 实例&#xff1b;二是可以获取异步执行的结果。它 是如何做到一箭双雕的呢&#xff1f;请看 RunnableFuture 的接口的代码&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">RunnableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">Runnable</span><span class="token punctuation">,</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/**
     * Sets this Future to the result of its computation
     * unless it has been cancelled.
     */</span>
    <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>通过源码可以看出&#xff0c;RunnableFuture 继承 Runnable 接口&#xff0c;从而保证了其实例可以作为 Thread线程实例的 target 目标&#xff1b;同时&#xff0c;RunnableFuture 通过继承 Future 接口&#xff0c;从而保证了通过它可以获 取未来的异步执行结果。<br /> 在这里&#xff0c;一个新的、从来没有介绍过的、又非常重要的 Future 接口&#xff0c;马上登场。<br /> ​</p> 
<h3><a id="Future_214"></a>Future接口</h3> 
<p><strong>需要实现的基本功能&#xff1a;</strong><br /> ​</p> 
<p>&#xff08;1&#xff09;能够取消异步执行中的任务。<br /> &#xff08;2&#xff09;判断异步任务是否执行完成。<br /> &#xff08;3&#xff09;获取异步任务完成后的执行结果。<br /> ​</p> 
<p><strong>源码&#xff1a;</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">boolean</span> <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> mayInterruptIfRunning<span class="token punctuation">)</span><span class="token punctuation">;</span>
   
    <span class="token keyword">boolean</span> <span class="token function">isCancelled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">boolean</span> <span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">V</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">ExecutionException</span><span class="token punctuation">;</span>
    
    <span class="token class-name">V</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">long</span> timeout<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">ExecutionException</span><span class="token punctuation">,</span> <span class="token class-name">TimeoutException</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<ol><li>V get()&#xff1a;获取异步任务执行的结果。注意&#xff0c;这个方法的调用是阻塞性的。如果 异步任务没有执行完成&#xff0c;异步结果获取线程&#xff08;调用线程&#xff09;会一直被阻塞&#xff0c;一直阻塞到到异步任务执行完成&#xff0c;其异步结果返回给调用线程。</li><li>V get(Long timeout , TimeUnit unit) &#xff1a;设置时限&#xff0c;&#xff08;调用线程&#xff09;阻塞性的获取异 步任务执行的结果。该方法的调用也是阻塞性的&#xff0c;但是结果获取线程&#xff08;调用线程&#xff09;会有一 个阻塞时长限制&#xff0c;不会无限制的阻塞和等待&#xff0c;如果其阻塞时间超过设定的 timeout 时间&#xff0c;该方法将抛出异常&#xff0c;调用线程可捕获此异常。</li><li>boolean isDone()&#xff1a;获取异步任务的执行状态。如果任务执行结束&#xff0c;返回 true。</li><li>boolean isCancelled()&#xff1a;获取异步任务的取消状态。如果任务完成前被取消&#xff0c;则 返回 true。</li><li>boolean cancel(boolean mayInterruptRunning)&#xff1a;取消异步任务的执行。</li></ol> 
<p>总体来说&#xff0c;Future 是一个对异步任务进行交互、操作的接口。但是 Future 仅仅是一个接口&#xff0c; 通过它没有办法直接完成对异步任务的操作&#xff0c;JDK 提供了一个默认的实现了——FutureTask 类。<br /> ​</p> 
<h3><a id="FutureTask_256"></a>FutureTask类</h3> 
<p>FutureTask 类是 Future 接口的实现类&#xff0c;提供对异步任务的操作的具体实现。但是&#xff0c;FutureTask 类不仅仅实现了 Future 接口&#xff0c;而且实现了 Runnable 接口&#xff0c;或者更加准确地说&#xff0c;FutureTask 类实现 了 RunnableFuture 接口。<br /> 前面讲到 RunnableFuture 接口很关键&#xff0c;既可以作为 Thread 线程实例的 target 目标&#xff0c;也可以获 取并发任务执行的结果&#xff0c;是 Thread 与 Callable 之间一个非常重要的搭桥角色。但是&#xff0c;RunnableFuture 只是一个接口&#xff0c;无法直接创建对象&#xff0c;如果需要创建对象&#xff0c;就需用到它的实现类——FutureTask 类。<br /> 所以说&#xff0c;FutureTask 类才是真正的、最终的 Thread 与 Callable 之间的搭桥类。<br /> 从 FutureTask 类的 UML 关系图可以看到&#xff1a;<strong>FutureTask 实现了 RunnableFuture 接口</strong>&#xff0c;而 RunnableFuture 接口继承了 Runnable 接口和 Future 接口&#xff0c;所以&#xff0c;FutureTask 既能当做一个 Runnable 类型的 target 执行目标直接被 Thread 执行&#xff0c;也能作为 Future 异步任务来获取 Callable 的计算结 果。<br /> FutureTask 如何完成多线程的并发执行、任务结果的异步获取的呢&#xff1f;FutureTask 内部有一个 Callable 类型的成员——callable 实例属性&#xff0c;具体如下&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token keyword">private</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> callable<span class="token punctuation">;</span>
</code></pre> 
<p>callable 实例属性用来保存并发执行的 Callable类型的任务&#xff0c;并且&#xff0c;callable 实例属性需要 在 FutureTask 实例构造时进行初始化。FutureTask 类实现了 Runnable 接口&#xff0c;在其 run()方法的实现 版本中&#xff0c;会执行 callable 成员的 call()方法。<br /> ​</p> 
<p>此外&#xff0c;FutureTask 内部还有另一个非常重要的 Object 类型的成员——outcome 实例属性&#xff1a;</p> 
<pre><code class="prism language-java"> <span class="token keyword">private</span> <span class="token class-name">Object</span> outcome<span class="token punctuation">;</span>
</code></pre> 
<p>**FutureTask的outcome实例属性用于保存callable成员call()方法的异步执行结果。**在FutureTask 类 run()方法完成 callable 成员的 call()方法的执行之后&#xff0c;其结果将被保存在 outcome 实例属性中&#xff0c; 供 FutureTask 类的 get()方法去获取。<br /> ​</p> 
<p><strong>总体继承关系图</strong><br /> ​</p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/b7f27938948f78026b5a0ae3230ea908.png#clientId&#61;u4374f775-804f-4&amp;from&#61;paste&amp;id&#61;ucaa6149d&amp;originHeight&#61;500&amp;originWidth&#61;628&amp;originalType&#61;binary&amp;ratio&#61;1&amp;size&#61;62505&amp;status&#61;done&amp;style&#61;none&amp;taskId&#61;ub7289dd6-596d-43cd-8f6b-922732cc5a8" alt="image.png" /><br /> ​</p> 
<h3><a id="CallableFutureTask_283"></a>使用Callable和FutureTask创建线程的具体步骤</h3> 
<p>仍然以点外卖的的背景来实现这个案例&#xff0c;等待外卖派送的过程就相当于RPC远程调用等待的过程&#xff01;&#xff01;<br /> ​</p> 
<p>基本步骤&#xff1a;<br /> ​</p> 
<p>&#xff08;1&#xff09;创建一个 Callable 接口的实现类&#xff0c;并实现其 call()方法&#xff0c;编写好异步执行的具体逻辑&#xff0c; 并且可以有返回值。<br /> &#xff08;2&#xff09;使用 Callable 实现类的实例&#xff0c;构造一个 FutureTask 实例。<br /> &#xff08;3&#xff09;使用 FutureTask 实例&#xff0c;作为 Thread 构造器的 target 入参&#xff0c;构造新的 Thread 线程实例&#xff1b;<br /> &#xff08;4&#xff09;调用 Thread 实例的 start 方法启动新线程&#xff0c;启动新线程的 run()方法并发执行。其内部的 执行过程为&#xff1a;启动 Thread 实例的 run()方法并发执行后&#xff0c;会执行 FutureTask 实例的 run()方法&#xff0c;最 终会并发执 Callable 实现类的 call()方法。<br /> &#xff08;5&#xff09;调用 FutureTask 对象的 get()方法&#xff0c;阻塞性的获得并发线程的执行结果。</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CallableUse</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> MAX_TURN <span class="token operator">&#61;</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> COMPUTE_TIMES <span class="token operator">&#61;</span> <span class="token number">100000000</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">ExecutionException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">/*实现一个Callable接口*/</span>
        <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> callableImp <span class="token operator">&#61;</span> <span class="token keyword">new</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//编写好异步执行的具体逻辑&#xff0c;并且可以有返回值</span>
            <span class="token annotation punctuation">&#64;Override</span>
            <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&#34;订单制作派送中。。。&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1050</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token string">&#34;外卖到了&#xff01;&#xff01;&#34;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">/*创建一个futureTask类*/</span>
        <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> futureTask <span class="token operator">&#61;</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>callableImp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*创建一个线程进行执行*/</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&#34;肚子饿了&#xff0c;点个外卖&#xff01;&#xff01;&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>futureTask<span class="token punctuation">,</span><span class="token string">&#34;returnableThread&#34;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*主线程模拟干其他事情*/</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&#34;外卖还没到&#xff0c;干点其他事情&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&#34;任务干完了&#xff0c;看看外卖到没&#xff01;&#xff01;&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*这是一个阻塞操作*/</span>
        <span class="token class-name">String</span> s <span class="token operator">&#61;</span> futureTask<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>执行结果&#xff1a;</strong><br /> ​</p> 
<pre><code class="prism language-java">肚子饿了&#xff0c;点个外卖&#xff01;&#xff01;
外卖还没到&#xff0c;干点其他事情
订单制作派送中。。。
任务干完了&#xff0c;看看外卖到没&#xff01;&#xff01;
外卖到了&#xff01;&#xff01;
</code></pre> 
<p><strong>流程分析&#xff1a;</strong><br /> ​</p> 
<p>在这个例子中有两个线程&#xff1a;一个是执行 main 方法的主线程&#xff0c;名字叫做“main”&#xff1b;另一个是 “main”线程通过 thread.start 方法启动的业务线程&#xff0c;叫做“returnableThread”线程。该线程是一 个包含了 FutureTask 任务作为 target 的 Thread 线程。<br /> “main”线程通过 thread.start()启动“returnableThread”线程之后&#xff0c;“main”线程会继续自己的事情。“returnableThread”线程开始并发执行。<br /> “returnableThread”线程首先开始执行的&#xff0c;是 thread.run 方法&#xff0c;然后在其中会执行到其 target &#xff08;futureTask 任务&#xff09;的 run 方法&#xff1b;接着在这个 futureTask.run 方法中&#xff0c;会执行 futureTask 的 callable 成员的 call 方法&#xff0c;在这里的 callable 成员&#xff08;ReturnableTask 实例&#xff09;是通过 FutureTask 构造器在初始 化时传递进来的、自定义的 Callable 实现类的实例。<br /> “main”线程和“returnableThread”线程的执行流程&#xff0c;大致如图 1-9 所示。<br /> <img src="https://img-blog.csdnimg.cn/img_convert/cfe5a777b8bc5a9db10675eb12d976f5.png#clientId&#61;u4374f775-804f-4&amp;from&#61;paste&amp;height&#61;368&amp;id&#61;u5718d2f9&amp;originHeight&#61;490&amp;originWidth&#61;564&amp;originalType&#61;binary&amp;ratio&#61;1&amp;size&#61;60627&amp;status&#61;done&amp;style&#61;none&amp;taskId&#61;u18509736-886d-4195-8cda-2f4d81582f1&amp;width&#61;423" alt="image.png" /><br /> ​</p> 
<p>FutureTask 的 Callable 成员的 call&#xff08;&#xff09;方法执行完成后&#xff0c;会将结果保存在 FutureTask 内部的 outcome 实例属性中。以上演示实例的 Callable 实现类中&#xff0c;这里 call&#xff08;&#xff09;方法中业务逻辑的返回结果&#xff0c;是 &#34;外卖到了&#xff01;&#xff01;&#34;这句话。<br /> ​</p> 
<p>&#34;外卖到了&#xff01;&#xff01;&#34;这句话被返回之后&#xff0c;作为结果将被保存在 FutureTask 内部的 outcome 实例属性中&#xff0c;至此&#xff0c; 异步的“returnableThread”线程执行完毕。在“main”线程处理完自己的事情&#xff08;以上实例中是一 个消磨时间的循环&#xff09;后&#xff0c;通过 futureTask 的 get 实例方法获取异步执行的结果。这里有两种情况&#xff1a;<br /> &#xff08;1&#xff09;futureTask 的结果 outcome 不为空&#xff0c;callable.call()执行完成&#xff1b;在这种情况下&#xff0c;futureTast.get 会直接取回 outcome 结果&#xff0c;返回给“main”线程&#xff08;结果获取线程&#xff09;。<br /> &#xff08;2&#xff09;futureTask 的结果 outcome 为空&#xff0c;callable.call()还没有执行完。<br /> 在这种情况下&#xff0c;“main”线程作为结果获取线程会被阻塞住&#xff0c;一直被阻塞到 callable.call()执行 完成。当执行完后&#xff0c;最终结果保存到 outcome 中&#xff0c;futureTask 会唤醒的“main”线程&#xff0c;去提取callable.call()执行结果。</p> 
<h1><a id="_361"></a>异步回调模式</h1> 
<h2><a id="FutureTask_364"></a>FutureTask的缺点</h2> 
<p>通过 FutureTask 的 get 方法获取异步结果时&#xff0c;主线程也会被阻塞的。是异步阻塞模式。异步阻塞的效率往往是比较低的&#xff0c;被阻塞的主线程&#xff0c;不能干任何事情&#xff0c;唯一能干的&#xff0c;就是在 傻傻等待。原生 Java API&#xff0c;除了阻塞模式的获取结果外&#xff0c;并没有实现非阻塞的异步结果获取方法。<br /> 如果需要用到获取异步的结果&#xff0c;得引入一些额外的框架&#xff0c;这里首先介绍谷歌的 Guava 框架。<br /> ​</p> 
<h2><a id="_373"></a>异步调用与主动调用</h2> 
<p><strong>主动调用&#xff1a;</strong><br /> ​</p> 
<p>主动调用是一种阻塞式调用&#xff0c;它是一种单向调用&#xff0c;“调用方”要等待“被调用方”执行完毕 才返回。如果“被调用方”的执行的时间很长&#xff0c;那么“调用方”线程需要阻塞很长一段时间。就像FutureTask的get方法。<br /> ​</p> 
<p><strong>异步调用&#xff1a;</strong><br /> ​</p> 
<p>在回调模式中负责执行回调方法的具体线程已经不再是调用方线程&#xff08;而是变成了异步的被调用方线程&#xff08;如烧水线程&#xff09;。<br /> Java 中回调模式的标准实现类为 CompletableFuture&#xff0c;由于该类出现的时间比较晚&#xff0c;所以很 多的著名的中间件如 Guava、Netty 等都提供了自己的异步回调模式 API 供开发者们使用。开发 者还可以使用 RxJava 响应式编程组件进行异步回调的开发。<br /> ​</p> 
<h2><a id="Guava__389"></a>Guava 的异步回调模式</h2> 
<p>Guava 是 Google 提供的 Java 扩展包&#xff0c;它提供了一种异步回调的解决方案。Guava 中与异步 回调相关的源码&#xff0c;处于 com.google.common.util.concurrent 包中。包中的很多类都是对 java.util.concurrent 能力扩展和能力增强。比如&#xff0c;Guava 的异步任务接口 ListenableFuture 扩展了 Java 的 Future 接口&#xff0c;实现了异步回调的的能力。<br /> ​</p> 
<h3><a id="FutureCallback_395"></a>FutureCallback</h3> 
<p>总体来说&#xff0c;Guava 的主要增强了 Java 而不是另起炉灶。为了实现异步回调方式获取异步线程 的结果&#xff0c;Guava 做了以下的增强&#xff1a;</p> 
<ul><li>引入得了一个新的接口 ListenableFuture&#xff0c;继承了 Java 的 Future 接口&#xff0c;使得 Java 的 Future 异步任务&#xff0c;在 Guava 中能被监控和非阻塞获取异步结果。</li><li>引入了一个新的接口 FutureCallback&#xff0c;这是一个独立的新接口。该接口的目的是在异步任务执行完成后&#xff0c;根据异步结果完成不同的回调处理&#xff0c;并且可以处理异步结果。</li></ul> 
<p>FutureCallback 是一个新增的接口&#xff0c;用来<strong>填写异步任务执行完后的监听逻辑</strong>。FutureCallback拥有两个回调方法&#xff1a;</p> 
<ul><li>onSuccess 方法&#xff0c;在异步任务执行成功后被回调&#xff1b;调用时&#xff0c;异步任务的执行结果&#xff0c;作为onSuccess 方法的参数被传入。</li><li>onFailure 方法&#xff0c;在异步任务执行过程中&#xff0c;抛出异常时被回调&#xff1b;调用时&#xff0c;异步任务所抛出的 异常&#xff0c;作为onFailure 方法的参数&#xff0c;被传入。</li></ul> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;GwtCompatible</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">FutureCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">/**
   * Invoked with the result of the {&#64;code Future} computation when it is successful.
   */</span>
  <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token annotation punctuation">&#64;Nullable</span> <span class="token class-name">V</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/**
   * Invoked when a {&#64;code Future} computation fails or is canceled.
   *
   * &lt;p&gt;If the future&#39;s {&#64;link Future#get() get} method throws an {&#64;link ExecutionException}, then
   * the cause is passed to this method. Any other thrown object is passed unaltered.
   */</span>
  <span class="token keyword">void</span> <span class="token function">onFailure</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_ListenableFuture_426"></a>详解 ListenableFuture</h3> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/99401c3eb2e1a56a3ff68fe4f2916cb1.png#clientId&#61;u4374f775-804f-4&amp;from&#61;paste&amp;id&#61;u2c939d1b&amp;originHeight&#61;109&amp;originWidth&#61;935&amp;originalType&#61;binary&amp;ratio&#61;1&amp;size&#61;14038&amp;status&#61;done&amp;style&#61;none&amp;taskId&#61;u5a1aff57-6efa-46bf-8fa8-74e35a72d73" alt="image.png" /><br /> ​</p> 
<p>看 ListenableFuture 接口名称&#xff0c;知道它与 Java 中 Future 接口的亲戚关系。没错&#xff0c;Guava 的ListenableFuture 接口是对 Java 的 Future 接口的扩展&#xff0c;可以理解为异步任务实例。源码如下&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;GwtCompatible</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ListenableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">void</span> <span class="token function">addListener</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span> listener<span class="token punctuation">,</span> <span class="token class-name">Executor</span> executor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>ListenableFuture 仅仅增加了一个 addListener 方法。它的作用就是将<strong>前一小节的 FutureCallback善后回调逻辑&#xff0c;封装成一个内部的 Runnable 异步回调任务</strong>&#xff0c;在 Callable 异步任务完成后&#xff0c;回调 FutureCallback 善后逻辑。<br /> ​</p> 
<p>注意&#xff0c;此 addListener 方法只在 Guava 内部使用&#xff0c;如果对它感兴趣&#xff0c;可以查看 Guava 源码。在实际编程中&#xff0c;addListener 不会使用到。<br /> 在实际编程中&#xff0c;如何将 FutureCallback 回调逻辑绑定到异步的 ListenableFuture 任务呢&#xff1f;可以 使用 Guava 的 Futures 工具类&#xff0c;它有一个 addCallback 静态方法&#xff0c;可以将 FutureCallback 的回调实例绑定到 ListenableFuture 异步任务。下面是一个简单的绑定实例&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java"><span class="token class-name">Futures</span><span class="token punctuation">.</span><span class="token function">addCallback</span><span class="token punctuation">(</span>listenableFuture<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">FutureCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> r<span class="token punctuation">)</span>
       <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// listenableFuture 内部的 Callable 成功时候的回调此方法</span>
        <span class="token punctuation">}</span>
       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFailure</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> t<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// listenableFuture 内部的 Callable 异常时候的回调此方法</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="ListenableFuture__460"></a>ListenableFuture 异步任务</h3> 
<p>如果要获取 Guava 的 ListenableFuture 异步任务实例&#xff0c;主要是通过向线程池&#xff08;ThreadPool&#xff09;提 交 Callable 任务的方式获取。不过&#xff0c;这里所说的线程池&#xff0c;不是 Java 的线程池&#xff0c;而是经过 Guava 自己的定制过的 Guava 线程池。<br /> Guava 线程池是对 Java 线程池的一种装饰。创建 Guava 线程池的方法如下&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token comment">//java 线程池 </span>
<span class="token class-name">ExecutorService</span> jPool <span class="token operator">&#61;</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// Guava 线程池 </span>
<span class="token class-name">ListeningExecutorService</span> gPool <span class="token operator">&#61;</span> <span class="token class-name">MoreExecutors</span><span class="token punctuation">.</span><span class="token function">listeningDecorator</span><span class="token punctuation">(</span>jPool<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> 
<p>首先创建 Java 线程池&#xff0c;然后以其作为 Guava 线程池的参数&#xff0c;再构造一个 Guava 线程池。有 了 Guava 的线程池之后&#xff0c;就可以通过 submit 方法来提交任务了&#xff1b;任务提交之后的返回结果&#xff0c;就是 我们所要的 ListenableFuture 异步任务实例了。<br /> 简单来说&#xff1a;获取异步任务实例的方式&#xff0c;通过向线程池提交 Callable 业务逻辑来实现。代码如 下&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token comment">//submit 方法来提交任务&#xff0c;返回异步任务实例 </span>
<span class="token class-name">ListenableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> hFuture <span class="token operator">&#61;</span> gPool<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>hJob<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//绑定回调实例 </span>
<span class="token class-name">Futures</span><span class="token punctuation">.</span><span class="token function">addCallback</span><span class="token punctuation">(</span>listenableFuture<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">FutureCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span> 
 <span class="token comment">//有两种实现回调的方法 </span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> 
<p>取到了 ListenableFuture 实例后&#xff0c;通过 Futures.addCallback 方法&#xff0c;将 FutureCallback 回调逻辑的实例&#xff0c;绑定到 ListenableFuture 异步任务实例&#xff0c;实现异步执行完成后的回调。<br /> 总结一下&#xff0c;Guava 异步回调的流程如下&#xff1a;<br /> **第一步&#xff1a;**实现 Java 的 Callable 接口&#xff0c;创建的异步执行逻辑。还有一种情况&#xff0c;如果不需要返回 值&#xff0c;异步执行逻辑也可以实现 Runnable 接口。<br /> **第二步&#xff1a;**创建 Guava 线程池。<br /> **第三步&#xff1a;**将第一步创建的 Callable/Runnable 异步执行逻辑的实例&#xff0c;submit 提交到 Guava 线程 池&#xff0c;从而获取 ListenableFuture 异步任务实例。<br /> **第四步&#xff1a;**创建 FutureCallback 回调实例&#xff0c;通过 Futures.addCallback&#xff0c;将回调实例绑定到ListenableFuture 异步任务上。<br /> 完成以上四步&#xff0c;当 Callable/Runnable 异步执行逻辑完成后&#xff0c;就会回调异步回调实例FutureCallback 实例的回调方法 onSuccess/onFailure。<br /> ​</p> 
<h3><a id="_491"></a>案例实现</h3> 
<p>这里需要将前面的外卖案例改造一下。改造成以下背景&#xff1a;<br /> 你女朋友饿了需要你给他点个外卖&#xff0c;你只需要给他点了就好了&#xff0c;因为你已经把他的电话号码地址等等都写在了订单上&#xff0c;商家在把外卖制作完成之后知道怎么把外卖送到你女朋友的手上你不需要再去关心任何事情。<br /> ​</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span></span><span class="token class-name">Test<span class="token punctuation">.</span>Future<span class="token punctuation">.</span>GuavaFutureDemo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>common<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Callable</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ExecutorService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Executors</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * &#64;ClassName: GuavaFutureDemo
 * &#64;Author: 86151
 * &#64;Date: 2021/11/5 16:15
 * &#64;Description: TODO
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GuavaFutureDemo</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> callableImp <span class="token keyword">implements</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{<!-- --></span>
        <span class="token annotation punctuation">&#64;Override</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&#34;开始制作外卖&#xff01;&#xff01;&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">/*模拟外卖制作消耗的时间*/</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">&#34;宫保鸡丁&#34;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">eatFood</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&#34;女朋友收到外卖开始吃外卖&#xff01;&#xff01;&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">/*创建一个callable实现类*/</span>
        callableImp callableImp <span class="token operator">&#61;</span> <span class="token keyword">new</span> <span class="token function">callableImp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*创建一个线程池*/</span>
        <span class="token class-name">ExecutorService</span> executorService <span class="token operator">&#61;</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*包装Java线程池&#xff0c;构造guava线程池*/</span>
        <span class="token class-name">ListeningExecutorService</span> gPool <span class="token operator">&#61;</span> <span class="token class-name">MoreExecutors</span><span class="token punctuation">.</span><span class="token function">listeningDecorator</span><span class="token punctuation">(</span>executorService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*设置钩子函数*/</span>
        <span class="token class-name">FutureCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hook <span class="token operator">&#61;</span> <span class="token keyword">new</span> <span class="token class-name">FutureCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/*在里面执行数据返回的业务逻辑*/</span>
            <span class="token annotation punctuation">&#64;Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token operator">&#43;</span><span class="token string">&#34;到了...&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">/*执行的具体业务逻辑这里省略*/</span>
                <span class="token comment">/*这里可以理解为将外卖送到后你女朋友开始吃外卖*/</span>
                <span class="token function">eatFood</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">/*相当于RPC远程调用返回数据后执行什么操作*/</span>
            <span class="token punctuation">}</span>

            <span class="token comment">/*执行错误的执行逻辑*/</span>
            <span class="token annotation punctuation">&#64;Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFailure</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&#34;外卖丢了。。。&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&#34;执行退款赔偿流程。。&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">/*开始点外卖*/</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&#34;开始点外卖&#xff01;&#xff01;&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ListenableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hotFuture <span class="token operator">&#61;</span> gPool<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>callableImp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*设置回调钩子*/</span>
        <span class="token class-name">Futures</span><span class="token punctuation">.</span><span class="token function">addCallback</span><span class="token punctuation">(</span>hotFuture<span class="token punctuation">,</span>hook<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="GuavaJava_565"></a>Guava异步回调与Java异步调用的区别</h3> 
<p>&#xff08;1&#xff09;FutureTask 是主动调用的模式&#xff0c;“调用线程”主动获得异步结果&#xff1b;在获取异步结果时处 于阻塞状态&#xff0c;并且会一直阻塞&#xff0c;直到拿到异步线程的结果。<br /> &#xff08;2&#xff09;Guava 是异步回调模式&#xff0c;“调用线程”不会主动去获得异步结果&#xff0c;而是准备好回调函数&#xff0c; 并设置好回调钩子&#xff1b;执行回调函数的并不是“调用线程”自身&#xff0c;回调函数的执行者&#xff0c;是“被调用 线程”&#xff1b;“调用线程”在执行完自己的业务逻辑后&#xff0c;就已经结束了&#xff1b;当回调函数被执行时&#xff0c;“调 用线程”可以已经结束很久了。相当于主函数先编写好了回调结果的处理逻辑让被调用线程去执行。<br /> ​</p> 
<h2><a id="Netty_572"></a>Netty异步回调模式</h2> 
<p>Netty 官方文档说明——Netty 的网络操作都是异步的。Netty 源码中&#xff0c;大量使用了异步回调 处理模式。在 Netty 的业务开发层面&#xff0c;处于 Netty 应用的 Handler 处理器中的业务处理代码&#xff0c;也都是异步执行的。所以&#xff0c;了解 Netty 的异步回调&#xff0c;无论是 Netty 应用开始还是源码级开发&#xff0c;都是十分重要的。<br /> Netty 和 Guava 一样&#xff0c;实现了自己的异步回调体系&#xff1a;Netty 继承和扩展了 JDK Future 系列异步 回调的 API&#xff0c;定义了自身的 Future 系列接口和类&#xff0c;实现异步任务的监控、异步执行结果的获取。<br /> **总体来说&#xff0c; Netty 对 Java Future 异步任务的 扩展如下&#xff1a; **<br /> 继承 Java 的 Future 接口得到一个新的属于 Netty 自己的 Future 异步任务接口&#xff1b;该接口对原有的接口进行了增强&#xff0c;使得 Netty 异步任务&#xff0c;能够非阻塞的处理回调结果&#xff1b;注意&#xff0c;Netty 没有修改 Future的名称&#xff0c;只是调整了所在的包名&#xff0c;Netty 的 Future 类的包名和 Java 的 Future 接口的包不同。<br /> 引入了一个新接口——GenericFutureListener&#xff0c;用于表示异步执行完成的监听器。这个接口和Guava 的 FutureCallbak 回调接口不同。Netty 使用了监听器的模式&#xff0c;异步任务的执行完成后的回 调逻辑&#xff0c;抽象成了 Listener 监听器接口。可以将 Netty 的 GenericFutureListener 监听器接口&#xff0c;加入Netty 异步任务 Future 中&#xff0c;实现对异步任务执行状态的事件监听。<br /> 总体来说&#xff0c;在异步非阻塞回调的设计思路上&#xff0c;Netty 和 Guava 的思路是一致的。对应关系为&#xff1a;<br /> &#xff08;**1&#xff09;Netty 的 Future 接口&#xff0c;可以对应到 Guava 的 ListenableFuture 接口&#xff1b; **<br /> <strong>&#xff08;2&#xff09;Netty 的 GenericFutureListener 接口&#xff0c;可以对应到 Guava 的 FutrueCallback 接口。</strong><br /> ​</p> 
<h3><a id="GenericFutureListener__587"></a>GenericFutureListener 接口详解</h3> 
<p>前面提到&#xff0c;和 Guava 的 FutrueCallback 一样&#xff0c;Netty 新增了一个接口&#xff0c;来封装异步非阻塞回调 的逻辑——它就是 GenericFutureListener 接口。<br /> GenericFutureListener 位于 io.netty.util.concurrent 包中&#xff0c;源码如下</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">GenericFutureListener</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">F</span> <span class="token keyword">extends</span> <span class="token class-name">Future</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span>
        <span class="token keyword">extends</span> <span class="token class-name">EventListener</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//监听器的回调方法</span>
    <span class="token keyword">void</span> <span class="token function">operationComplete</span><span class="token punctuation">(</span><span class="token class-name">F</span> var1<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>GenericFutureListener 拥有一个回调方法&#xff1a;operationComplete&#xff0c;表示异步任务操作完成。在Future 异步任务执行完成后&#xff0c;将回调此方法。大多数情况下&#xff0c;Netty 的异步回调的代码&#xff0c;编写在 GenericFutureListener 接口的实现类中的 operationComplete 方法中。<br /> 说明下&#xff0c;GenericFutureListener 的父接口 EventListener&#xff0c;是一个空接口&#xff0c;没有任何的抽象方法&#xff0c; 是一个仅仅具有标识作用的接口。<br /> ​</p> 
<h3><a id="NettyFuture_603"></a>NettyFuture接口详解</h3> 
<p>Netty 也对 Java 的 Future 接口的扩展&#xff0c;并且名称没有变&#xff0c;还是叫做 Future 接口&#xff0c;实现在 io.netty.util.concurrent 包中。<br /> 和 Guava 的 ListenableFuture 一样&#xff0c;Netty 的 Future 接口扩展了一系列的方法&#xff0c;对执行的过程 的进行监控&#xff0c;对异步回调完成事件进行 Listen 监听&#xff0c;并且回调。Netty 的 Future 的源码如下&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">boolean</span> <span class="token function">isSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 判断异步执行是否成功</span>
    <span class="token keyword">boolean</span> <span class="token function">isCancellable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 判断异步执行是否取消</span>
    <span class="token class-name">Throwable</span> <span class="token function">cause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取异步任务异常的原因</span>
    <span class="token comment">//增加异步任务执行完成 Listener 监听器</span>
    <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">addListener</span><span class="token punctuation">(</span><span class="token class-name">GenericFutureListener</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Future</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span>
            <span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//移除异步任务执行完成 Listener 监听器</span>
    <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">removeListener</span><span class="token punctuation">(</span><span class="token class-name">GenericFutureListener</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Future</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span>
            <span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>Netty 的 Future 接口一般不会直接使用&#xff0c;使用过程中会使用器子接口。Netty 有一系列的子接 口&#xff0c;代表不同类型的异步任务&#xff0c;如 ChannelFuture 接口。<br /> ChannelFuture 子接口表示 Channel 通道 I/O 操作的异步任务&#xff1b;如果在 Channel 的异步 I/O 操作完成后&#xff0c;需要执行回调操作&#xff0c;就需要使用到 ChannelFuture 接口。<br /> ​</p> 
<h2><a id="CompleteFuture_628"></a>CompleteFuture异步回调</h2> 
<p>很多语言&#xff08;如 JavaScript&#xff09;提供了异步回调&#xff0c;一些 Java 中间件&#xff08;如 Netty、Guava&#xff09;也提供了 异步回调 API&#xff0c;为开发者带来更好的异步编程工具。Java8 提供一个新的、具备异步回调能力的工具类——CompletableFuture&#xff0c;该类实现了 Future 接口&#xff0c;并提供了异步回调的能力&#xff0c;还具备函数式 编程的能力。<br /> ​</p> 
<h3><a id="CompleteableFuture_636"></a>CompleteableFuture详解</h3> 
<h4><a id="_639"></a>继承关系图</h4> 
<p>Future 接口大家已经非常熟悉了&#xff0c;接下来介绍一下 CompletionStage 接口。CompletionStage 代 表异步计算过程中的某一个阶段&#xff0c;一个阶段完成以后可能会进入另外一个阶段。一个阶段可以理解为一个子任务&#xff0c;每一个子任务会包装一个 Java 函数式接口实例&#xff0c;表示该子任务所要执行的动作。<br /> ​</p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/87a42814873cf5d52ac7df4f01414682.png#clientId&#61;u178ff5dc-4956-4&amp;from&#61;paste&amp;height&#61;200&amp;id&#61;u282b8cc3&amp;originHeight&#61;266&amp;originWidth&#61;762&amp;originalType&#61;binary&amp;ratio&#61;1&amp;size&#61;37731&amp;status&#61;done&amp;style&#61;none&amp;taskId&#61;ue2d46afb-f32f-43f3-ae76-d6633edaad8&amp;width&#61;572" alt="image.png" /><br /> ​</p> 
<h4><a id="CompletionStage_654"></a>CompletionStage接口</h4> 
<p>顾名思义&#xff0c;Stage 是阶段的意思。CompletionStage 它代表了某个同步或者异步计算的一个阶 段&#xff0c;或者是一系列异步任务中的一个子任务&#xff08;或者阶段性任务&#xff09;。<br /> 每个 CompletionStage 子任务所包装的可以是一个 Function、Consumer 或者 Runnable 函数式 接口实例。这三个常用的函数式接口的特点为&#xff1a;<br /> &#xff08;1&#xff09;Function<br /> Function 接口的唯一方法点是&#xff1a;有输入、有输出。包装了 Funtion 实例的 CompletionStage 子任务需要一个输入参数&#xff0c;并会产生一个输出结果到下一步。<br /> &#xff08;2&#xff09;Runnable<br /> Runnable 接口的唯一方法点是&#xff1a;无输入、无输出。包装了 Runnable 实例的 CompletionStage 子任务既不需要任何输入参数&#xff0c;也不会产生任何输出。<br /> &#xff08;3&#xff09;Consumer<br /> Consumer 接口的唯一方法点是&#xff1a;有输入、无输出。包装了 Consumer 实例的 CompletionStage子任务需要一个输入参数&#xff0c;但不会产生任何输出。<br /> 多个 CompletionStage 构成了一条任务流水线&#xff0c;一个环节执行完成了将结果可以移交给下一个环节&#xff08;子任务&#xff09;。多CompletionStage 子任务之间可以使用链式调用&#xff0c;下面是一个简单的例子&#xff1a;</p> 
<pre><code class="prism language-java">oneStage<span class="token punctuation">.</span><span class="token function">thenApply</span><span class="token punctuation">(</span>x <span class="token operator">-&gt;</span> <span class="token function">square</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> 
 <span class="token punctuation">.</span><span class="token function">thenAccept</span><span class="token punctuation">(</span>y <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span> 
 <span class="token punctuation">.</span><span class="token function">thenRun</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
</code></pre> 
<p>对以上例子中的 CompletionStage 子任务说明如下&#xff1a;<br /> &#xff08;1&#xff09;oneStage 是一个 CompletionStage 子任务&#xff0c;这是一个前提。<br /> &#xff08;2&#xff09;“x -&gt; square(x)” 是一个 Function 类型的 Lamda 表达式&#xff0c;被 thenApply 方法包装成了一 个 CompletionStage 子任务&#xff0c;该子任务需要接收一个参数 x&#xff0c;然后会输出一个结果——x 的平方值。<br /> &#xff08;3&#xff09;“y -&gt; System.out.println(y)”是一个 Comsumer 类型的 Lamda 表达式&#xff0c;被 thenAccept 方法包装成了一个 CompletionStage 子任务&#xff0c;该子任务需要消耗上一个 Stage&#xff08;子任务&#xff09;的输出值&#xff0c; 但是此 Stage 并没有输出。<br /> &#xff08;4&#xff09;“() -&gt; System.out.println() ”是一个 Runnable 类型的 Lamda 表达式&#xff0c;被 thenRun 方法包装成了一个 CompletionStage 子任务&#xff0c;既不消耗上一个 Stage 的输出&#xff0c;也不产生结果。<br /> CompletionStage 代表异步计算过程中的某一个阶段&#xff0c;一个阶段完成以后可能会触发另一个阶段。虽然一个 Stage 可以触发其他 Stage&#xff0c;但是并不能保证后续 Stage 的执行顺序。<br /> ​</p> 
<h4><a id="runAsyncsupplyAsync_679"></a>使用runAsync和supplyAsync创建子任务</h4> 
<p>CompletionStage 子任务的创建是通过 CompletableFuture 完成的。CompletableFuture 类提供 了非常强大的 Future 的扩展功能&#xff0c;可以帮助我们简化异步编程的复杂性&#xff0c;并且提供了函数式编程的能力&#xff0c;可以通过回调的方式处理计算结果&#xff0c;也提供了转换和组合 CompletionStage 的方法。<br /> CompletableFuture 定义了一组方法用于创建 CompletionStage 子任务&#xff08;或者阶段性任务&#xff09;&#xff0c;基础的方法如下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java">   <span class="token comment">//子任务包装一个 Runnable 实例&#xff0c;并使用 ForkJoinPool.commonPool()线程池去执行</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span> runnable<span class="token punctuation">)</span>
        
    <span class="token comment">//子任务包装一个 Runnable 实例&#xff0c;并使用指定的 executor 线程池去执行</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">runAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">Runnable</span> runnable<span class="token punctuation">,</span> <span class="token class-name">Executor</span> executor<span class="token punctuation">)</span>

    <span class="token comment">//子任务包装一个 Supplier 实例&#xff0c;并使用 ForkJoinPool.commonPool()线程池去执行</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">supplyAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> supplier<span class="token punctuation">)</span>

    <span class="token comment">//子任务包装一个 Supplier 实例&#xff0c;并使用指定的 executor 线程池去执行</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">supplyAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> supplier<span class="token punctuation">,</span> <span class="token class-name">Executor</span> executor<span class="token punctuation">)</span>
</code></pre> 
<p>在 CompletableFuture 创建 CompletionStage 子任务时&#xff0c;如果没有指定 Executor 线程池&#xff0c;默认情况下 CompletionStage 会使用公共的 ForkJoinPool 线程池。<br /> 下面是两个简单的创建 CompletionStage 子任务的演示用例&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java"> <span class="token comment">//无返回值异步调用</span>
    <span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runAsyncDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">&#61;</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">sleepSeconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//模拟执行1秒</span>
            <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;run end ...&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//等待异步任务执行完成,现时等待2秒</span>
        future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//有返回值异步调用</span>
    <span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">supplyAsyncDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">&#61;</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">long</span> start <span class="token operator">&#61;</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">sleepSeconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//模拟执行1秒</span>
            <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;run end ...&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//等待异步任务执行完成,现时等待2秒</span>
        <span class="token keyword">long</span> time <span class="token operator">&#61;</span> future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;异步执行耗时&#xff08;秒&#xff09; &#61; &#34;</span> <span class="token operator">&#43;</span> time <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_742"></a>设置子任务回调钩子</h4> 
<p>可以为 CompletionStage 子任务设置特定的回调钩子&#xff0c;当的计算结果完成&#xff0c;或者抛出异常的 时候&#xff0c;可以执行这些特定的回调钩子。<br /> 设置的子任务回调钩子的函数&#xff0c;主要是下面的方法&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java">    <span class="token comment">//设置的子任务完成时的回调钩子</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">whenComplete</span><span class="token punctuation">(</span>
            <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span>
    <span class="token comment">//设置的子任务完成时的回调钩子&#xff0c;可能不在同一线程执行</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">whenCompleteAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span>
    <span class="token comment">//设置的子任务完成时的回调钩子&#xff0c;提交给线程池 executor 执行</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">whenCompleteAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">,</span>
            <span class="token class-name">Executor</span> executor<span class="token punctuation">)</span>
    <span class="token comment">//设置的异常处理的回调钩子</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">exceptionally</span><span class="token punctuation">(</span>
            <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Throwable</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">)</span>
</code></pre> 
<p>下面是一个简单的为 CompletionStage 子任务设置完成钩子和异常钩子的演示用例&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">whenCompleteDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">&#61;</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">sleepSeconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//模拟执行1秒</span>
            <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;抛出异常&#xff01;&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&#34;发生异常&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//Print.tco(&#34;run end ...&#34;);</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置执行完成后的回调钩子</span>
        future<span class="token punctuation">.</span><span class="token function">whenComplete</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">,</span> <span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">&#64;Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Void</span> t<span class="token punctuation">,</span> <span class="token class-name">Throwable</span> action<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;执行完成&#xff01;&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置发生异常后的回调钩子</span>
        future<span class="token punctuation">.</span><span class="token function">exceptionally</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Throwable</span><span class="token punctuation">,</span> <span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">&#64;Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Void</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> t<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;执行失败&#xff01;&#34;</span> <span class="token operator">&#43;</span> t<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>调用 cancel()方法取消 CompletableFuture 时&#xff0c;任务被视为异常完成&#xff0c;completeExceptionally&#xff08;&#xff09; 方法所设置的异常回调钩子也会被执行到。<br /> 如果没有设置异常回调钩子&#xff0c;发生内部异常时&#xff0c;会有两种情况发生&#xff1a;<br /> &#xff08;1&#xff09;在使用 get()和 get(long, TimeUnit)方法启动任务时&#xff0c;如果遇到内部异常&#xff0c;则 get 方法会 抛出 ExecutionException&#xff08;执行异常&#xff09;<br /> &#xff08;2&#xff09;在使用 join()和 getNow(T)启动任务时&#xff08;大多数情况下都是如此&#xff09;&#xff0c;如果遇到内部异常&#xff0c;join()和 getNow(T)方法会抛出 CompletionException。<br /> ​</p> 
<h4><a id="handler_808"></a>handler统一处理异常和结果</h4> 
<p>除了通过 whenComplete、exceptionally 设置完成钩子、异常钩子之外&#xff0c;还可以使用 handle 方 法统一处理结果和异常。<br /> handle 方法有三个重载版本&#xff0c;三个版本的声明如下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java">    <span class="token comment">//在执行任务的同一个线程中处理异常和结果</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">handle</span><span class="token punctuation">(</span>
            <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">Throwable</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//可能不在执行任务的同一个线程中处理异常和结果</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">handleAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">Throwable</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//在指定线程池 executor 中处理异常和结果</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">handleAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">Throwable</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">,</span>
            <span class="token class-name">Executor</span> executor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>handle 方法的示例代码&#xff0c;具体如下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">&#61;</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">sleepSeconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//模拟执行1秒</span>
            <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;抛出异常&#xff01;&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&#34;发生异常&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//Print.tco(&#34;run end ...&#34;);</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置执行完成后的回调钩子</span>
        future<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">,</span> <span class="token class-name">Throwable</span><span class="token punctuation">,</span> <span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>

            <span class="token annotation punctuation">&#64;Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Void</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">Void</span> input<span class="token punctuation">,</span> <span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>throwable <span class="token operator">&#61;&#61;</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tcfo</span><span class="token punctuation">(</span><span class="token string">&#34;没有发生异常&#xff01;&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token punctuation">}</span> <span class="token keyword">else</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tcfo</span><span class="token punctuation">(</span><span class="token string">&#34;sorry,发生了异常&#xff01;&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_866"></a>线程池的使用</h4> 
<p>默认情况下通过静态方法 runAsync 、supplyAsync 创建的 CompletableFuture 任务会使用公共的 ForkJoinPool 线程池&#xff0c;其默认的线程数是 CPU 的核数。当然&#xff0c;其线程数可以通过以下 JVM参数去设置&#xff1a;</p> 
<pre><code class="prism language-java">option<span class="token operator">:</span><span class="token operator">-</span><span class="token class-name">Djava</span><span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>ForkJoinPool<span class="token punctuation">.</span>common<span class="token punctuation">.</span>parallelism
</code></pre> 
<p>问题是&#xff1a;如果所有 CompletableFuture 共享一个线程池&#xff0c;那么一旦有任务执行一些很慢的 IO操作&#xff0c;就会导致线程池中所有线程都阻塞在 IO 操作上&#xff0c;从而造成线程饥饿&#xff0c;进而影响整个系统 的性能。所以&#xff0c;强烈建议大家根据不同的业务类型创建不同的线程池&#xff0c;以避免互相干扰。<br /> 所以&#xff0c;建议大家在生产环境使用时&#xff0c;根据不同的业务类型创建不同的线程池&#xff0c;以避免互相影响。前面第一章为大家介绍了三种线程池&#xff1a;IO 密集型任务线程池、CPU 密集型任务线程池、混合 型任务线程池。大家可以根据不同的任务类型&#xff0c;确定线程池的类型和线程数。<br /> 作为演示&#xff0c;这里使用“混合型任务线程池”执行 CompletableFuture 任务&#xff0c;具体的代码如下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java"><span class="token comment">//有返回值异步调用</span>
    <span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">threadPoolDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//业务线程池</span>
        <span class="token class-name">ThreadPoolExecutor</span> pool<span class="token operator">&#61;</span> <span class="token class-name">ThreadUtil</span><span class="token punctuation">.</span><span class="token function">getMixedTargetThreadPool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">&#61;</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;run begin ...&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">long</span> start <span class="token operator">&#61;</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">sleepSeconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//模拟执行1秒</span>
            <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;run end ...&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>pool<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//等待异步任务执行完成,现时等待2秒</span>
        <span class="token keyword">long</span> time <span class="token operator">&#61;</span> future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;异步执行耗时&#xff08;秒&#xff09; &#61; &#34;</span> <span class="token operator">&#43;</span> time <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_903"></a>异步任务的串行执行</h3> 
<p>如果两个异步任务需要串行&#xff08;当一个任务依赖另一个任务&#xff09;执行&#xff0c;可以通过 CompletionStage 接口的 thenApply、thenAccept、thenRun 和 thenCompose 四个方法实现。<br /> ​</p> 
<h4><a id="thenApply_909"></a>thenApply方法</h4> 
<p>thenApply 方法有三个重载版本&#xff0c;三个版本的声明如下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java">    <span class="token comment">//后一个任务与前一个任务在同一个线程中执行</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenApply</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">)</span>
    <span class="token comment">//后一个任务与前一个任务可以不在同一个线程中执行</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenApplyAsync</span><span class="token punctuation">(</span>  <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">)</span>
    <span class="token comment">//后一个任务在指定的 executor 线程池中执行</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenApplyAsync</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">,</span> <span class="token class-name">Executor</span> executor<span class="token punctuation">)</span>
</code></pre> 
<p>thenApply 三个重载版本有一个共同的参数 fn&#xff0c;该参数表示待串行执行的第二个异步任务&#xff0c; 其类型为 Function。fn 的类型声明涉及到两个范型参数&#xff0c;具体如下&#xff1a;</p> 
<ul><li>范型参数 T&#xff1a;上一个任务所返回结果的类型。</li><li>范型参数 U&#xff1a;当前任务的返回值类型。</li></ul> 
<p>作为示例&#xff0c;使用 thenApply 分两步计算&#xff08;10*10&#xff09;*10&#xff0c;代码如下&#xff1a;</p> 
<pre><code class="prism language-java"> <span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test6</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ExecutionException</span><span class="token punctuation">,</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> longCompletableFuture <span class="token operator">&#61;</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">&#64;Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> <span class="token number">10l</span> <span class="token operator">*</span> <span class="token number">10l</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenApply</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">&#64;Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">Long</span> aLong<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> aLong <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Long</span> aLong <span class="token operator">&#61;</span> longCompletableFuture<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&#34;result:&#34;</span><span class="token operator">&#43;</span>aLong<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/1f74dbfc83aec9322a5a20ecc0a8829f.png#clientId&#61;u178ff5dc-4956-4&amp;from&#61;paste&amp;height&#61;164&amp;id&#61;u551527e4&amp;originHeight&#61;218&amp;originWidth&#61;682&amp;originalType&#61;binary&amp;ratio&#61;1&amp;size&#61;13324&amp;status&#61;done&amp;style&#61;none&amp;taskId&#61;u33fa52d4-172e-40a4-9d6b-55e3ad93311&amp;width&#61;512" alt="image.png" /><br /> ​</p> 
<h4><a id="thenRun_956"></a>thenRun方法</h4> 
<p>thenRun 与 thenApply 方法不一样的是&#xff0c;不关心任务的处理结果。只要前一个任务执行完成&#xff0c; 就开始执行后一个串行任务。<br /> ​</p> 
<p>thenApply 方法也有三个重载版本&#xff0c;三个版本的声明如下&#xff1a;</p> 
<pre><code class="prism language-java"> <span class="token comment">//后一个任务与前一个任务在同一个线程中执行</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenRun</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//后一个任务与前一个任务可以不在同一个线程中执行</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenRunAsync</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//后一个任务在 executor 线程池中执行</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenRunAsync</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span> action<span class="token punctuation">,</span><span class="token class-name">Executor</span> executor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>从方法的声明可以看出&#xff0c;thenRun 方法同 thenApply 方法类似&#xff1b;不同的&#xff1a;前一个任务处理完成后&#xff0c;thenRun 并不会把计算的结果传给后一个任务&#xff0c;而且后一个任务也没有结果输出。<br /> thenRun 系列方法里的 action 参数是 Runnable 类型&#xff0c;所以 thenRun 既不能接收参数也不支持返回值。<br /> ​</p> 
<h4><a id="thenAccept_975"></a>thenAccept方法</h4> 
<p>thenAccept 折衷了 thenRun、thenApply 的特点&#xff0c;使用此方法&#xff0c;后一个任务可以接收&#xff08;或消费&#xff09; 前一个任务的处理结果&#xff0c;但是后一个任务没有结果输出。<br /> thenAccept 方法有三个重载版本&#xff0c;三个版本的声明如下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java">   <span class="token comment">//后一个任务与前一个任务在同一个线程中执行</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenAccept</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//后一个任务与前一个任务可以不在同一个线程中执行</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenAcceptAsync</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//后一个任务在指定的 executor 线程池中执行</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenAcceptAsync</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">,</span><span class="token class-name">Executor</span> executor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>thenAccept 系列函数的回调参数为 action&#xff0c;其类型为 Consumer&lt;? super T&gt;接口&#xff0c;该接口的代 码如下&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>Consumer接口的 accept 可以接收一个参数&#xff0c;但是不支持返回值&#xff0c;所以 thenAccept 可以将 前一个任务的结果&#xff0c;并将该阶段性的结果&#xff0c;通过 void accept(T t)方法传递给到下一个任务。但是 Consumer接口的accept方法没有返回值&#xff0c;所以thenAccept也不能提供第二个任务的执行结果。<br /> ​</p> 
<h4><a id="thenCompose_1000"></a>thenCompose方法</h4> 
<p>thenCompose 方法允许你对两个 CompletionStage 进行流水线操作&#xff0c;第一个操作完成时&#xff0c;将其结果作为参数传递给第二个操作。<br /> thenCompose 方法在功能上与 thenApply、thenAccept、thenRun 一样&#xff0c;可以对两个任务进行 串行的调度操作&#xff0c;第一个任务操作完成时&#xff0c;将其结果作为参数传递给第二个任务。<br /> thenCompose 方法有三个重载版本&#xff0c;三个版本的声明如下&#xff1a;</p> 
<pre><code class="prism language-java"> <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenCompose</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">CompletionStage</span><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenComposeAsync</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">CompletionStage</span><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">)</span> <span class="token punctuation">;</span>
 <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenComposeAsync</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">CompletionStage</span><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">,</span><span class="token class-name">Executor</span> executor<span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre> 
<p>thenCompose 方法要求第二个任务的返回值是一个 CompletionStage 异步实例。因此&#xff0c;可以调 用 CompletableFuture.supplyAsync 方法&#xff0c;将第二个任务所要调用的普通异步方法&#xff0c;包装成一个 CompletionStage 异步实例。<br /> 作为演示&#xff0c;使用 thenCompose 分两步计算&#xff08;10&#43;10&#xff09;*2&#xff0c;代码如下&#xff1a;</p> 
<pre><code class="prism language-java"> <span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">thenComposeDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">&#61;</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">&#64;Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">long</span> firstStep <span class="token operator">&#61;</span> <span class="token number">10L</span> <span class="token operator">&#43;</span> <span class="token number">10L</span><span class="token punctuation">;</span>
                <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;firstStep outcome is &#34;</span> <span class="token operator">&#43;</span> firstStep<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">return</span> firstStep<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenCompose</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">,</span> <span class="token class-name">CompletionStage</span><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">&#64;Override</span>
            <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">Long</span> firstStepOutCome<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token annotation punctuation">&#64;Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">long</span> secondStep <span class="token operator">&#61;</span> firstStepOutCome <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
                        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;secondStep outcome is &#34;</span> <span class="token operator">&#43;</span> secondStep<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> secondStep<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> result <span class="token operator">&#61;</span> future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34; outcome is &#34;</span> <span class="token operator">&#43;</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> 
<h4><a id="_1050"></a>小总结</h4> 
<p>thenApply、thenRun、thenAccept这三类方法的不同之处&#xff0c;主要在于这三类方法的核心参数 fn、 action、consumer 的类型不同&#xff0c;分别为&#xff1a;Function&lt;T, R&gt;、Runnable、Consumer&lt;? super T&gt; 类型。<br /> 但是&#xff0c;thenCompose 方法与 thenApply 方法有本质的不同&#xff1a;<br /> &#xff08;1&#xff09;thenCompose 的返回值是一个新的 CompletionStage 实例&#xff0c;可以持续用来进行下一轮 CompletionStage 任务的调度。<br /> 具体来说&#xff0c;thenCompose 返回的是包装了普通异步方法的 CompletionStage 任务实例&#xff0c;通过该 实例还可以进行下一轮CompletionStage 任务的调度和执行&#xff0c;比如可以持续进行 CompletionStage 链式&#xff08;或者流式&#xff09;调用。<br /> &#xff08;2&#xff09;thenApply 的返回值则简单多了&#xff0c;直接就是第二个任务的普通异步方法的执行结果&#xff0c;其 返回类型与第二步执行的普通异步方法的返回类型相同&#xff1b;通过 thenApply 所返回的值&#xff0c;不能进行下一轮 CompletionStage 链式&#xff08;或者流式&#xff09;调用。<br /> ​</p> 
<h3><a id="_1060"></a>异步任务的合并执行</h3> 
<p>如果某个任务同时依赖另外两异步任务的执行结果&#xff0c;则需要对另外两异步任务进行合并。<br /> ​</p> 
<h4><a id="thenCombine__1066"></a>thenCombine 方法</h4> 
<p>thenCombine 会把两个 CompletionStage 任务都执行完成后&#xff0c;把两个任务的结果一块交给 thenCombine 来处理。<br /> ​</p> 
<pre><code class="prism language-java">    <span class="token comment">//合并第二步任务的 CompletionStage 实例&#xff0c;返回第三步任务的 CompletionStage</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenCombine</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span> <span class="token comment">//待合并 CompletionStage 实例</span>
            <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">U</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//第三步的逻辑</span>
    <span class="token comment">//不一定在同一个线程中执行第三步任务的 CompletionStage 实例</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenCombineAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span>
            <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">U</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//第三步任务的 CompletionStage 实例在指定的 executor 线程池中执行</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenCombineAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span><span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">U</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">,</span>
            <span class="token class-name">Executor</span> executor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>thenCombine( )方法的调用者为第一步的 CompletionStage 实例&#xff1b;该方法的第一个参数为第二 步的 CompletionStage 实例&#xff1b;该方法的返回值为第三步的 CompletionStage 实例。逻辑上&#xff0c;thenCombine( )方法的功能是将第一步、第二步的结果&#xff0c;合并到第三步上。<br /> thenCombine 系列方法有两个核心参数&#xff1a;</p> 
<ul><li>other 参数&#xff1a;表示待合并的第二步任务的 CompletionStage 实例。</li><li>fn 参数&#xff1a;表示第一个任务和第二个任务执行完成后&#xff0c;第三步的需要执行的逻辑。</li></ul> 
<p>fn 参数的类型为 BiFunction&lt;? super T,? super U,? extends V&gt;&#xff0c;该类型的声明涉及到三个范型 参数&#xff0c;具体如下&#xff1a;</p> 
<ul><li>范型参数 T&#xff1a;表示第一个任务所返回结果的类型。</li><li>范型参数 U&#xff1a;表示第二个任务所返回结果的类型。</li><li>范型参数 V&#xff1a;表示第三个任务所返回结果的类型。</li></ul> 
<p>BiFunction&lt;? super T,? super U,? extends V&gt;的源码&#xff0c;具体如下&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;FunctionalInterface</span> 
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">U</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span> 
   <span class="token class-name">R</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">,</span> <span class="token class-name">U</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
</code></pre> 
<p>通过 BiFunction 的 apply 方法源码可以看出&#xff0c;BiFunction 的前两个范型参数 T、U 是输入参 数类型&#xff0c;BiFunction 的后一个范型参数 V 是输出参数的类型。<br /> 作为示例&#xff0c;接下来使用 thenCombine 分三步计算&#xff08;10&#43;10&#xff09;*&#xff08;10&#43;10&#xff09;&#xff0c;代码如下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java"> <span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">thenCombineDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> future1 <span class="token operator">&#61;</span>
                <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token annotation punctuation">&#64;Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token class-name">Integer</span> firstStep <span class="token operator">&#61;</span> <span class="token number">10</span> <span class="token operator">&#43;</span> <span class="token number">10</span><span class="token punctuation">;</span>
                        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;firstStep outcome is &#34;</span> <span class="token operator">&#43;</span> firstStep<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> firstStep<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> future2 <span class="token operator">&#61;</span>
                <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token annotation punctuation">&#64;Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token class-name">Integer</span> secondStep <span class="token operator">&#61;</span> <span class="token number">10</span> <span class="token operator">&#43;</span> <span class="token number">10</span><span class="token punctuation">;</span>
                        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;secondStep outcome is &#34;</span> <span class="token operator">&#43;</span> secondStep<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> secondStep<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> future3 <span class="token operator">&#61;</span> future1<span class="token punctuation">.</span><span class="token function">thenCombine</span><span class="token punctuation">(</span>future2<span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token annotation punctuation">&#64;Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> step1OutCome<span class="token punctuation">,</span> <span class="token class-name">Integer</span> step2OutCome<span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">return</span> step1OutCome <span class="token operator">*</span> step2OutCome<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Integer</span> result <span class="token operator">&#61;</span> future3<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34; outcome is &#34;</span> <span class="token operator">&#43;</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="thenAfterBoth_1152"></a>thenAfterBoth方法</h4> 
<p>thenAcceptBoth 折衷了 runAfterBoth 和 thenCombine 方法的特点&#xff0c;使用该方法&#xff0c;第三个任务 可以接收其合并过来的第一个任务、第二个任务的处理结果&#xff0c;但是第三个任务&#xff08;合并任务&#xff09;却不能返回结果。<br /> thenAcceptBoth 方法有三个重载版本&#xff0c;三个版本的声明如下&#xff1a;</p> 
<pre><code class="prism language-java">    <span class="token comment">//合并第二步任务的 CompletionStage 实例&#xff0c;返回第三步任务的 CompletionStage</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenAcceptBoth</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span>
            <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//功能与上一个函数相同&#xff0c;不一定在同一个线程执行第三步任务</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenAcceptBothAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span>
            <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//功能与上一个函数相同&#xff0c;在指定的 executor 线程池中执行第三步任务</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenAcceptBothAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span>
            <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">,</span>
            <span class="token class-name">Executor</span> executor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>thenAcceptBoth 系列函数的第二参数为需要合并的第二步任务的 CompletionStage 实例。第三 参数为第三个任务的回调函数&#xff0c;该参数名称为 action&#xff0c;其类型为 BiConsumer&lt;? super T, ? super U&gt;接口&#xff0c;该接口的代码如下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">,</span> <span class="token class-name">U</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>BiConsumer&lt;? super T, ? super U&gt; 接口的 accept 方法可以接收两个参数&#xff0c;但是不支持返回值。 所以 thenAcceptBoth 可以将前面的第一个任务、第二个任务的结果&#xff0c;作为阶段性的结果进行合并。<br /> 但是 BiConsumer&lt;T, U&gt;的 accept 方法没有返回值&#xff0c;所以 thenAccept 也不能提供第三个任务的执 行结果。<br /> ​</p> 
<h3><a id="thenAcceptBoth_1187"></a>thenAcceptBoth方法</h3> 
<p>thenAcceptBoth 折衷了 runAfterBoth 和 thenCombine 方法的特点&#xff0c;使用该方法&#xff0c;第三个任务 可以接收其合并过来的第一个任务、第二个任务的处理结果&#xff0c;但是第三个任务&#xff08;合并任务&#xff09;却不 能返回结果。<br /> thenAcceptBoth 方法有三个重载版本&#xff0c;三个版本的声明如下&#xff1a;</p> 
<pre><code class="prism language-java">     <span class="token comment">//合并第二步任务的 CompletionStage 实例&#xff0c;返回第三步任务的 CompletionStage</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenAcceptBoth</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span>
            <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//功能与上一个函数相同&#xff0c;不一定在同一个线程执行第三步任务</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenAcceptBothAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span>
            <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//功能与上一个函数相同&#xff0c;在指定的 executor 线程池中执行第三步任务</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">thenAcceptBothAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span>
            <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">,</span>
            <span class="token class-name">Executor</span> executor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>thenAcceptBoth 系列函数的第二参数为需要合并的第二步任务的 CompletionStage 实例。第三参数为第三个任务的回调函数&#xff0c;该参数名称为 action&#xff0c;其类型为 BiConsumer&lt;? super T, ? super U&gt; 接口&#xff0c;该接口的代码如下&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">,</span> <span class="token class-name">U</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>BiConsumer&lt;? super T, ? super U&gt; 接口的 accept 方法可以接收两个参数&#xff0c;但是不支持返回值。 所以 thenAcceptBoth 可以将前面的第一个任务、第二个任务的结果&#xff0c;作为阶段性的结果进行合并。<br /> 但是 BiConsumer&lt;T, U&gt;的 accept 方法没有返回值&#xff0c;所以 thenAccept 也不能提供第三个任务的执 行结果。<br /> ​</p> 
<h3><a id="allOf_1216"></a>allOf等待所有的任务结束</h3> 
<p>CompletionStage 接口的 allOf 会等待所有的任务结束&#xff0c;用于合并所有的任务。thenCombine 只 能合并两个任务&#xff0c;如果需要合并多个异步任务&#xff0c;可以使用 allOf。一个简单的实例如下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">allOfDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future1 <span class="token operator">&#61;</span>
                <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;模拟异步任务1&#34;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future2 <span class="token operator">&#61;</span>
                <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;模拟异步任务2&#34;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future3 <span class="token operator">&#61;</span>
                <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;模拟异步任务3&#34;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future4 <span class="token operator">&#61;</span>
                <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;模拟异步任务4&#34;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> all <span class="token operator">&#61;</span>
                <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">allOf</span><span class="token punctuation">(</span>future1<span class="token punctuation">,</span> future2<span class="token punctuation">,</span> future3<span class="token punctuation">,</span> future4<span class="token punctuation">)</span><span class="token punctuation">;</span>
        all<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_1243"></a>异步任务的选择执行</h3> 
<p>CompletableFuture 对异步任务的选择执行&#xff0c;不是按照某种条件进行选择&#xff0c;而是按照执行速度进行选择&#xff1a;前面两并行任务&#xff0c;谁的结果返回速度快&#xff0c;其结果将作为第三步任务的输入。<br /> 对两个异步任务的选择&#xff0c;可以通过 CompletionStage 接口的 applyToEither、runAfterEither 和 acceptEither 三类方法实现。这三类方法的不同之处&#xff0c;还是在于这三类方法的核心参数 fn、action、 consumer 的类型不同&#xff0c;分别为&#xff1a;Function&lt;T, R&gt;、Runnable、Consumer&lt;? super T&gt; 类型。<br /> ​</p> 
<h4><a id="applyToEither__1250"></a>applyToEither 方法</h4> 
<p>两个 CompletionStage 谁返回结果的速度快&#xff0c;applyToEither 就用这个最快的 CompletionStage 的结果进行下一步&#xff08;第三步&#xff09;的回调操作。<br /> applyToEither 方法有三个重载版本&#xff0c;三个版本的声明如下&#xff1a;</p> 
<pre><code class="prism language-java">    <span class="token comment">//和 other 任务进行速度 PK&#xff0c;最快返回的结果用于执行 fn 回调函数</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">applyToEither</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//功能与上一个函数相同&#xff0c;不一定在同一个线程中执行 fn 回调函数</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">applyToEitherAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//功能与上一个函数相同&#xff0c;在指定线程执行 fn 回调函数</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">applyToEitherAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span>
            <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> fn<span class="token punctuation">,</span><span class="token class-name">Executor</span> executor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>applyToEither 系列函数的回调参数为 fn&#xff0c;其类型为接口 Function&lt;T, R&gt;&#xff0c;该接口的代码如 下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">R</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>Function&lt;T, R&gt;接口既能接收输入参数也支持返回值。在 applyToEither 方法中&#xff0c;Function 的 输入参数为前两个 CompletionStage 中返回快的那个结果&#xff0c;Function 的输出值为最终的执行结果。<br /> 作为示例&#xff0c;接下来使用 applyToEither 随机选择&#xff08;10&#43;10&#xff09;和&#xff08;100&#43;100&#xff09;的结果&#xff0c;代码如下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">applyToEitherDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> future1 <span class="token operator">&#61;</span>
                <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token annotation punctuation">&#64;Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token class-name">Integer</span> firstStep <span class="token operator">&#61;</span> <span class="token number">10</span> <span class="token operator">&#43;</span> <span class="token number">10</span><span class="token punctuation">;</span>
                        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;firstStep outcome is &#34;</span> <span class="token operator">&#43;</span> firstStep<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> firstStep<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> future2 <span class="token operator">&#61;</span>
                <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token annotation punctuation">&#64;Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token class-name">Integer</span> secondStep <span class="token operator">&#61;</span> <span class="token number">100</span> <span class="token operator">&#43;</span> <span class="token number">100</span><span class="token punctuation">;</span>
                        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;secondStep outcome is &#34;</span> <span class="token operator">&#43;</span> secondStep<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> secondStep<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> future3 <span class="token operator">&#61;</span> future1<span class="token punctuation">.</span><span class="token function">applyToEither</span><span class="token punctuation">(</span>future2<span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token annotation punctuation">&#64;Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> eitherOutCome<span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">return</span> eitherOutCome<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Integer</span> result <span class="token operator">&#61;</span> future3<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34; outcome is &#34;</span> <span class="token operator">&#43;</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> 
<h4><a id="runAfterEither_1322"></a>runAfterEither方法</h4> 
<p>runAfterEither 方法功能为&#xff1a;前面两个 CompletionStage 实例&#xff0c;任何一个完成了都会执行第三 步回调操作。三个任务的被调函数&#xff0c;都是 Runnable 类型。<br /> runAfterEither 方法有三个重载版本&#xff0c;三个版本的声明如下&#xff1a;</p> 
<pre><code class="prism language-java"><span class="token comment">//和 other 任务进行速度 PK&#xff0c;只要一个执行完成&#xff0c;就开始执行 fn 回调函数</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">runAfterEither</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span><span class="token class-name">Runnable</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//功能与上一个函数相同&#xff0c;不一定在同一个线程中执行 fn 回调函数</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">runAfterEitherAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span><span class="token class-name">Runnable</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//功能与上一个函数相同&#xff0c;在指定线程执行 fn 回调函数</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">runAfterEitherAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span><span class="token class-name">Runnable</span> action<span class="token punctuation">,</span>
            <span class="token class-name">Executor</span> executor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>runAfterEither ( )方法的调用者为第一步任务的 CompletionStage 实例&#xff1b;runAfterEither ( )方法 的第一个参数为第二步任务的 CompletionStage 实例&#xff1b;runAfterEither ( )方法的返回值为第三步任 务的 CompletionStage 实例。<br /> 使用 runAfterEither 方法&#xff0c;只要前面两个 CompletionStage 实例&#xff0c;其中任何一个执行完成&#xff0c;就 开始执行第三步的 CompletionStage 实例。<br /> ​</p> 
<h4><a id="acceptEither_1345"></a>acceptEither方法</h4> 
<p>acceptEither 折中了 applyToEither 和 runAfterEither 方法的特点&#xff1a;两个 CompletionStage 谁返 回结果的速度快&#xff0c;acceptEither 就用这个最快的 CompletionStage 的结果作为下一步&#xff08;第三步&#xff09;的输入&#xff0c;但是&#xff0c;第三步没有输出。<br /> acceptEither 方法有三个重载版本&#xff0c;三个版本的声明如下&#xff1a;</p> 
<pre><code class="prism language-java">    <span class="token comment">//和 other 任务进行速度 PK&#xff0c;最快返回的结果用于执行 fn 回调函数</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">acceptEither</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span>
            <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//功能与上一个函数相同&#xff0c;不一定在同一个线程中执行 fn 回调函数</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">acceptEitherAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//功能与上一个函数相同&#xff0c;在指定的 executor 线程池中执行第三步任务</span>
    <span class="token keyword">public</span> <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">acceptEitherAsync</span><span class="token punctuation">(</span>
            <span class="token class-name">CompletionStage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span>
            <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">,</span><span class="token class-name">Executor</span> executor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>acceptEither 系列函数的第二参数 other 为待进行速度比较的第二步任务的 CompletionStage 实例。第三参数为第三个任务的回调函数&#xff0c;该参数名称为 action&#xff0c;其类型为 Consumer&lt;? super T&gt;接口&#xff0c;该接口的代码如下&#xff1a;<br /> ​</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>Consumer接口的 accept 可以接收一个参数&#xff0c;但是不支持返回值&#xff0c;所以 acceptEither 可以 将前面最快返回的阶段性结果&#xff0c;通过 void accept(T t)方法传递给到第三个任务。但是 Consumer接口的 accept 方法没有返回值&#xff0c;所以 acceptEither 也不能提供第三个任务的执行结果。<br /> ​</p> 
<h3><a id="CompleteableFuture_1379"></a>CompleteableFuture综合案例</h3> 
<h4><a id="CompletableFutureRPC_1382"></a>使用CompletableFuture进行多个RPC调用</h4> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IntegrityDemo</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">/**
     * 模拟模拟RPC调用1
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">rpc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//睡眠400ms,模拟执行耗时</span>
        <span class="token function">sleepMilliSeconds</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tcfo</span><span class="token punctuation">(</span><span class="token string">&#34;模拟RPC调用&#xff1a;服务器 server 1&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&#34;sth. from server 1&#34;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 模拟模拟RPC调用2
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">rpc2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//睡眠400ms,模拟执行耗时</span>
        <span class="token function">sleepMilliSeconds</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tcfo</span><span class="token punctuation">(</span><span class="token string">&#34;模拟RPC调用&#xff1a;服务器 server 2&#34;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&#34;sth. from server 2&#34;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">rpcDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future1 <span class="token operator">&#61;</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">rpc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future2 <span class="token operator">&#61;</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">rpc2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future3 <span class="token operator">&#61;</span> future1<span class="token punctuation">.</span><span class="token function">thenCombine</span><span class="token punctuation">(</span>future2<span class="token punctuation">,</span>
                <span class="token punctuation">(</span>out1<span class="token punctuation">,</span> out2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">return</span> out1 <span class="token operator">&#43;</span> <span class="token string">&#34; &amp; &#34;</span> <span class="token operator">&#43;</span> out2<span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> result <span class="token operator">&#61;</span> future3<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;客户端合并最终的结果&#xff1a;&#34;</span> <span class="token operator">&#43;</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="RxJavaRPC_1434"></a>使用RxJava模拟RPC异步回调</h4> 
<pre><code class="prism language-java"><span class="token annotation punctuation">&#64;Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">rxJavaDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> observable1 <span class="token operator">&#61;</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">fromCallable</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">rpc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribeOn</span><span class="token punctuation">(</span><span class="token class-name">Schedulers</span><span class="token punctuation">.</span><span class="token function">newThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> observable2 <span class="token operator">&#61;</span> <span class="token class-name">Observable</span>
                <span class="token punctuation">.</span><span class="token function">fromCallable</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">rpc2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribeOn</span><span class="token punctuation">(</span><span class="token class-name">Schedulers</span><span class="token punctuation">.</span><span class="token function">newThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>observable1<span class="token punctuation">,</span> observable2<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">observeOn</span><span class="token punctuation">(</span><span class="token class-name">Schedulers</span><span class="token punctuation">.</span><span class="token function">newThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Print</span><span class="token punctuation">.</span><span class="token function">tco</span><span class="token punctuation">(</span><span class="token string">&#34;客户端合并最终的结果&#xff1a;&#34;</span> <span class="token operator">&#43;</span> result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">sleepSeconds</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span>MAX_VALUE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre>
                </div>
                <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet">
                <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet">
        </div>
        <div id="treeSkill"></div>
    </article>
  <script>
  $(function() {
    setTimeout(function () {
      var mathcodeList = document.querySelectorAll('.htmledit_views img.mathcode');
      if (mathcodeList.length > 0) {
        var testImg = new Image();
        testImg.onerror = function () {
          mathcodeList.forEach(function (item) {
            $(item).before('<span class="img-codecogs">\\(' + item.alt + '\\)</span>');
            $(item).remove();
          })
          MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
        }
        testImg.src = mathcodeList[0].src;
      }
    }, 1000)
  })
  </script>
</div>
<div class="more-toolbox-new" id="toolBarBox">
    <div class="left-toolbox">
        <div class="toolbox-left">
            <div class="profile-box"><a class="profile-href" target="_blank" href="https://blog.csdn.net/pjh88"><img class="profile-img" src="https://profile.csdnimg.cn/5/C/4/3_pjh88"><span class="profile-name">一只胡说八道的猴子</span></a></div>
            <div class="profile-attend">
                    <a class="tool-attend tool-bt-button tool-bt-attend" href="javascript:;" data-report-view='{"mod":"1592215036_002","spm":"1001.2101.3001.4232","extend1":"关注"}'>关注</a>
                <a class="tool-item-follow active-animation" style="display:none;">关注</a>
            </div>
        </div>
        <div class="toolbox-middle">
        <ul class="toolbox-list">
            <li class="tool-item tool-item-size tool-active is-like" id="is-like">
            <a class="tool-item-href">
                <img style="display:none;" id="is-like-imgactive-animation-like" class="animation-dom active-animation" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarThumbUpactive.png" alt="">
                <img class="isactive" style="display:none" id="is-like-imgactive" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2021Active.png" alt="">
                <img class="isdefault" style="display:block" id="is-like-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2021Black.png" alt="">  
                <span id="spanCount" class="count ">
                        4
                </span>
            </a>
            <div class="tool-hover-tip"><span class="text space">点赞</span></div>
            </li>
            <li class="tool-item tool-item-size tool-active is-unlike" id="is-unlike">
            <a class="tool-item-href">
                <img class="isactive" style="margin-right:0px;display:none" id="is-unlike-imgactive" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newUnHeart2021Active.png" alt="">
                <img class="isdefault" style="margin-right:0px;display:block" id="is-unlike-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newUnHeart2021Black.png" alt="">
                <span id="unlikeCount" class="count "></span>
            </a>
            <div class="tool-hover-tip"><span class="text space">踩</span></div>
            </li>
            <li class="tool-item tool-item-size tool-active is-collection ">
            <a class="tool-item-href" href="javascript:;" data-report-click='{"mod":"popu_824","spm":"1001.2101.3001.4130","ab":"new"}'>
                <img style="display:none" id="is-collection-img-collection" class="animation-dom active-animation" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollectionActive.png" alt="">
                <img class="isdefault" id="is-collection-img" style="display:none" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCollectBlack.png" alt="">
                <img class="isactive" id="is-collection-imgactive" style="display:block" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCollectActive.png" alt="">
                <span class="count get-collection active" id="get-collection">
                    9
                </span>
            </a>
            <div class="tool-hover-tip"><span class="text space">收藏</span></div>
            </li>
            <li class="tool-item tool-item-size tool-active tool-item-reward">
                <a class="tool-item-href" href="javascript:;" data-report-click='{"mod":"popu_830","spm":"1001.2101.3001.4237","dest":"","ab":"new"}'>
                <img class="isdefault reward-bt" id="rewardBtNew" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newRewardBlack.png" alt="打赏">
                <span class="count"></span>
                </a>
                <div class="tool-hover-tip"><span class="text space">打赏</span></div>
            </li>
            <li class="tool-item tool-item-size tool-active tool-item-comment">
            <a class="tool-item-href go-side-comment" data-report-click='{"spm":"1001.2101.3001.7009"}'>
                <img class="isdefault" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newComment2021Black.png" alt="">
                <span class="count">
                    1
                </span>
            </a>
            <div class="tool-hover-tip"><span class="text space">评论</span></div>
            </li>
            <li class="tool-item tool-item-bar">
            </li>
            <li class="tool-item tool-item-size tool-active tool-QRcode" id="tool-share">
                <a class="tool-item-href" href="javascript:;" data-report-click='{"mod":"1582594662_002","spm":"1001.2101.3001.4129","ab":"new"}'>
                    <img class="isdefault" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newShareBlack.png" alt="">
                </a>
                <div class="QRcode" id="tool-QRcode">
                    <div class="share-bg-icon icon1" id="shareBgIcon"></div>
                    <div class="share-bg-box">
                        <div class="share-content">
                            <img class="share-avatar" src="https://profile.csdnimg.cn/5/C/4/3_pjh88" alt="">
                            <div class="share-tit">Future模式与异步回调模式</div>
                            <div class="share-dec">写再前面Future模式与异步回调模式二者十分相似又存在区别，所以将两个和在一起进行总结。​Future模式什么是Future模式长篇大论用生活中的例子来打个比喻,就像叫外卖。比如在午休之前我们可以提前叫外卖,只需要点好食物,下个单。然后我们可以继续工作。到了中午下班的时候外卖也就到了,然后就可以吃个午餐,再美滋滋的睡个午觉。而如果你在下班的时候才叫外卖,那就只能坐在那里干等着外卖小哥,最后拿到外卖吃完午饭,午休时间也差不多结束了。​Future 模式是高并发设计与开发过程中常见的设计模式，</div>
                            <a id="copyPosterUrl" class="url" data-report-click='{"spm":"1001.2101.3001.7493"}' data-report-view='{"spm":"1001.2101.3001.7493"}'>复制链接</a>
                        </div>
                        <div class="share-code">
                            <div class="share-code-box" id='shareCode'></div>
                            <div class="share-code-text">扫一扫</div>
                        </div>
                        
                    </div>
                    <div class="share-code-type">
                      
                    </div>
                </div>
            </li>
        </ul>
        </div>
        <div class="toolbox-right">
                <div class="tool-directory">
                    <a class="bt-columnlist-show"
                    data-id="11114661"
                    data-free="true"
                    data-subscribe="false"
                    data-title="网络编程"
                    data-img="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64"
                    data-url="https://blog.csdn.net/pjh88/category_11114661.html"
                    data-sum="31"
                    data-people="1"
                    data-price="0"
                    data-oldprice="0"
                    data-join="false"
                    data-studyvip="false"
                    data-studysubscribe="false"
                    data-report-view='{"spm":"1001.2101.3001.6334","extend1":"专栏目录"}'
                    data-report-click='{"spm":"1001.2101.3001.6334","extend1":"专栏目录"}'
                    >专栏目录</a>
                </div>
        </div>
    </div>  
</div>
<script type=text/javascript crossorigin src="https://csdnimg.cn/release/phoenix/production/qrcode-7c90a92189.min.js"></script>
<script src="//g.csdnimg.cn/??sharewx/1.2.1/sharewx.js" type="text/javascript"></script>
<script type="text/javascript" crossorigin src="https://g.csdnimg.cn/user-login/3.0.1/user-login.js"></script>
<script type="text/javascript" crossorigin src="https://g.csdnimg.cn/collection-box/2.1.0/collection-box.js"></script>
                <div class="first-recommend-box recommend-box ">
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/weixin_43604021/article/details/126405858"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6661.1","mod":"popu_871","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant_t0.none-task-blog-2~default~YuanLiJiHua~Position-1-126405858-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"1","strategy":"2~default~YuanLiJiHua~Position","dest":"https://blog.csdn.net/weixin_43604021/article/details/126405858"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/weixin_43604021/article/details/126405858" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6661.1","mod":"popu_871","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant_t0.none-task-blog-2~default~YuanLiJiHua~Position-1-126405858-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"1","strategy":"2~default~YuanLiJiHua~Position","dest":"https://blog.csdn.net/weixin_43604021/article/details/126405858"}'  data-report-query='spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-1-126405858-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-1-126405858-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">Completable<em>Future</em>和Listenable<em>Future</em></div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/weixin_43604021" target="_blank"><span class="blog-title">weixin_43604021的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">08-18</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					109
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/weixin_43604021/article/details/126405858" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6661.1","mod":"popu_871","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant_t0.none-task-blog-2~default~YuanLiJiHua~Position-1-126405858-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"1","strategy":"2~default~YuanLiJiHua~Position","dest":"https://blog.csdn.net/weixin_43604021/article/details/126405858"}'  data-report-query='spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-1-126405858-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-1-126405858-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">Listenable<em>Future</em> Completable<em>Future</em></div>
			</a>
		</div>
	</div>
</div>
                </div>
            <script src="https://csdnimg.cn/release/blogv2/dist/components/js/pc_wap_commontools-d5fda285fa.min.js" type="text/javascript" async></script>
            <div class="second-recommend-box recommend-box ">
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/Mynah886/article/details/107005410"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.1","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-107005410-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"1","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/Mynah886/article/details/107005410"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/Mynah886/article/details/107005410" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.1","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-107005410-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"1","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/Mynah886/article/details/107005410"}'  data-report-query='spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-107005410-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-107005410-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">项目中- 多线程<em>异步</em> <em>Future</em> 使用</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/Mynah886" target="_blank"><span class="blog-title">Mynah886的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">06-28</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					610
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/Mynah886/article/details/107005410" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.1","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-107005410-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"1","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/Mynah886/article/details/107005410"}'  data-report-query='spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-107005410-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-107005410-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">一. 项目中架构要求：

    外围客户端系统 - 交易中心微服务(场景微服务) - 交易集市微服务/能力中心 - ESB - 后方系统(理财/基金等)。

交易中心需要同时调用交易集市十几个组件/接口。由于通讯时间太长和接口请求太多，考虑使用多线程。

    考虑使用非阻塞的多线程类 <em>Future</em>。<em>Future</em>表示一个可能还没有完成的<em>异步</em>任务的结果，针对这个结果可以添加Callback以便在任务执行成功或失败后作出相应的操作。

二. 项目使用是银行内部代码，不便于展示，当时的案例...</div>
			</a>
		</div>
	</div>
</div>
            </div>
<a id="commentBox" name="commentBox"></a>
<div id="pcCommentBox" class="comment-box comment-box-new2  login-comment-box-new" style="display:block">
		<div class="has-comment" style="display:block">
		<div class="has-comment-tit">评论<span class="count go-side-comment">1</span><span class="text go-side-comment">条</span><img class="go-side-comment more" src="https://csdnimg.cn/release/blogv2/dist/pc/img/commentArrowRightWhite.png" alt=""><a class="has-comment-bt-right go-side-comment focus">写评论</a></div>
			<div class="has-comment-con comment-operate-item"></div>
		</div>
		<div class="unhas-comment" style="display:none">
			<div class="unhas-comment-left">评论</div>
			<div class="unhas-comment-right"><a class="go-side-comment focus">写评论</a></div>
		</div>
</div>
            <div class="recommend-box insert-baidu-box recommend-box-style ">
                <div class="recommend-item-box no-index" style="display:none"></div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/weixin_43072970/article/details/106347285"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.2","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-106347285-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"2","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_43072970/article/details/106347285"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/weixin_43072970/article/details/106347285" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.2","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-106347285-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"2","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_43072970/article/details/106347285"}'  data-report-query='spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-106347285-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-106347285-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1"><em>Future</em><em>异步</em>执行</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/weixin_43072970" target="_blank"><span class="blog-title">pipi蛋</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">05-26</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					492
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/weixin_43072970/article/details/106347285" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.2","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-106347285-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"2","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_43072970/article/details/106347285"}'  data-report-query='spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-106347285-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-106347285-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">前言
随着业务的发展，系统的功能也越来越多，这时候很多业务操作就需要<em>异步</em>执行，提高效率。大多时候，我们都可以采用线程池来实现<em>异步</em>执行的需求，但是，有时候主流程需要等待其他任务执行完以后才能继续执行，又或者是主流程需要知道其他任务执行的结果，这时候，就需要采用线程的合并了。
在讲线程合并之前，我们先来看看平时使用Thread是怎么实现主线程等待其他线程的。
join合并线程
当一个线程需要等待其他线程执行完再继续执行的时候，我们可以使用join或者是CountDownLatch，这里只说join，CountD</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/asdewq380303318/article/details/109955753"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.3","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-109955753-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"3","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/asdewq380303318/article/details/109955753"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/asdewq380303318/article/details/109955753" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.3","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-109955753-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"3","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/asdewq380303318/article/details/109955753"}'  data-report-query='spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-3-109955753-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-3-109955753-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">Completable<em>Future</em>让你的代码免受阻塞之苦</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/asdewq380303318" target="_blank"><span class="blog-title">Silently9527&rsquo;s Blog</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">11-22</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					1812
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/asdewq380303318/article/details/109955753" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.3","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-109955753-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"3","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/asdewq380303318/article/details/109955753"}'  data-report-query='spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-3-109955753-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-3-109955753-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">前言
现在大部分的CPU都是多核，我们都知道想要提升我们应用程序的运行效率，就必须得充分利用多核CPU的计算能力；<em>Java</em>早已经为我们提供了多线程的API，但是实现方式略微麻烦，今天我们就来看看<em>Java</em>8在这方面提供的改善。

假设场景
现在你需要为在线教育平台提供一个查询用户详情的API，该接口需要返回用户的基本信息，标签信息，这两个信息存放在不同位置，需要远程调用来获取这两个信息；为了模拟远程调用，我们需要在代码里面延迟 1s;
public interface RemoteLoader {

    </div>
			</a>
		</div>
	</div>
</div>
		<dl id="recommend-item-box-tow" class="recommend-item-box type_blog clearfix">
			
		</dl>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/aqllj123456/article/details/101106057"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.4","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-101106057-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"4","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/aqllj123456/article/details/101106057"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/aqllj123456/article/details/101106057" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.4","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-101106057-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"4","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/aqllj123456/article/details/101106057"}'  data-report-query='spm=1001.2101.3001.6650.4&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-101106057-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-101106057-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">016_<em>异步</em>处理_<em>Future</em></div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/aqllj123456" target="_blank"><span class="blog-title"></span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">02-23</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					22
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/aqllj123456/article/details/101106057" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.4","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-101106057-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"4","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/aqllj123456/article/details/101106057"}'  data-report-query='spm=1001.2101.3001.6650.4&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-101106057-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-101106057-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1"><em>Future</em> Apex:
用于在单独的线程中运行进程，Cpu空闲时。
@<em>future</em>注释来标识<em>异步</em>运行的方法。
当使用同步处理时，所有方法调用都从执行Apex代码的同一线程进行，并且在该过程完成之前不会发生额外的处理。你可以使用@<em>future</em>的方法来执行任何你希望在自己的线程中<em>异步</em>运行的操作。这提供了不阻止用户执行其他操作并为进程提供更高的调节器和执行限制的好处。
@<em>future</em>...</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/weixin_49561445/article/details/120596735"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.5","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-5-120596735-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"5","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_49561445/article/details/120596735"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/weixin_49561445/article/details/120596735" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.5","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-5-120596735-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"5","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_49561445/article/details/120596735"}'  data-report-query='spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-5-120596735-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-5-120596735-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1"><em>异步</em><em>回调</em> :<em>Future</em></div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/weixin_49561445" target="_blank"><span class="blog-title">weixin_49561445的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">10-03</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					517
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/weixin_49561445/article/details/120596735" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.5","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-5-120596735-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"5","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/weixin_49561445/article/details/120596735"}'  data-report-query='spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-5-120596735-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-5-120596735-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1"><em>Future</em>接口
<em>Future</em> 设计的初衷： 对将来的某个事件的结果进行建模

<em>Future</em><em>模式</em>，可以让调用方立即返回，然后它自己会在后面慢慢处理，此时调用者拿到的仅仅是一个凭证，调用者可以先去处理其它任务，在真正需要用到调用结果的场合，再使用凭证去获取调用结果。这个凭证就是这里的<em>Future</em>。
<em>Future</em><em>模式</em>下的数据获取：

JDK提供了另一个接口&mdash;&mdash;Callable，表示一个具有返回结果的任务：
public interface Callable&lt;V&gt; {
    V call() thr</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/liang000000000001/article/details/121008778"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.6","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-6-121008778-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"6","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/liang000000000001/article/details/121008778"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/liang000000000001/article/details/121008778" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.6","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-6-121008778-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"6","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/liang000000000001/article/details/121008778"}'  data-report-query='spm=1001.2101.3001.6650.6&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-6-121008778-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-6-121008778-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1"><em>Java</em>8新特性-Completable<em>Future</em><em>异步</em><em>回调</em></div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/liang000000000001" target="_blank"><span class="blog-title">长剑之家</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">10-29</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					436
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/liang000000000001/article/details/121008778" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.6","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-6-121008778-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"6","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/liang000000000001/article/details/121008778"}'  data-report-query='spm=1001.2101.3001.6650.6&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-6-121008778-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-6-121008778-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">简介
<em>Java</em>8提供了一个新的，具备<em>异步</em><em>回调</em>能力的工具类**-Completable<em>Future</em>**,该类实现了<em>Future</em>接口，同时具备函数式编程的能力。
该类实现了<em>Future</em>接口和CompletionStage两个接口。该类的实例是作为一个<em>异步</em>任务，可以在自己<em>异步</em>执行完成之后触发一些其他的<em>异步</em>任务，从而达到<em>异步</em><em>回调</em>的效果。
<em>Future</em>接口
<em>Future</em>在<em>java</em>里面，通常用来表示一个<em>异步</em>任务的引用，比如我们将任务提交到线程池里面，会得到一个<em>Future</em>，在<em>Future</em>里面有isDone方法来判断任务</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/l1212xiao/article/details/86692608"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.7","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-7-86692608-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"7","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/l1212xiao/article/details/86692608"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/l1212xiao/article/details/86692608" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.7","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-7-86692608-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"7","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/l1212xiao/article/details/86692608"}'  data-report-query='spm=1001.2101.3001.6650.7&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-7-86692608-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-7-86692608-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">使用<em>java</em> <em>Future</em><em>模式</em><em>异步</em>调用详细实例展示</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/l1212xiao" target="_blank"><span class="blog-title">lastwhisper</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">01-29</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					686
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/l1212xiao/article/details/86692608" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.7","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-7-86692608-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"7","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/l1212xiao/article/details/86692608"}'  data-report-query='spm=1001.2101.3001.6650.7&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-7-86692608-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-7-86692608-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1"><em>java</em> <em>Future</em><em>模式</em>想必大家都比较熟悉，大体实现起来也比较简单，因为<em>模式</em>单一，我先介绍一下一般步骤，再讲一下，目前项目中遇到具体问题的解决方式

  一般来说，使用<em>java</em> <em>Future</em><em>模式</em>实现多线程，具体步骤如下，

  1.新建一个<em>异步</em>任务类，如 xxxTask 实现 Callable&amp;lt;xxxTask.Result&amp;gt;(或者Runnable&amp;lt;xxx&amp;gt;...</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/qq_42274641/article/details/124690342"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.8","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-8-124690342-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"8","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_42274641/article/details/124690342"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/qq_42274641/article/details/124690342" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.8","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-8-124690342-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"8","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_42274641/article/details/124690342"}'  data-report-query='spm=1001.2101.3001.6650.8&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-8-124690342-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-8-124690342-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1"><em>java</em>8之Completable<em>Future</em> <em>异步</em>处理</div>
					<div class="tag">最新发布</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/qq_42274641" target="_blank"><span class="blog-title">qq_42274641的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">05-10</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					439
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/qq_42274641/article/details/124690342" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.8","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-8-124690342-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"8","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_42274641/article/details/124690342"}'  data-report-query='spm=1001.2101.3001.6650.8&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-8-124690342-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-8-124690342-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">记录在工作中遇到 一个页面的报表统计接口，因为数据组成有很多方面，每个方面对应的是一个方法，问题点：因为我的子方法涉及的有6个，怎么来减少等待时间? 处理办法就是，利用多线程，<em>异步</em>处理并带返回值，接下来我们利用Completable<em>Future</em> 来完成此业务。
1. Completable<em>Future</em>介绍



<em>Future</em><em>模式</em>的缺点
<em>Future</em>虽然可以实现获取<em>异步</em>执行结果的需求，但是它没有提供通知的机制，我们无法得知<em>Future</em>什么时候完成。
要么使用阻塞，在<em>future</em>.get()的地方等待futur</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/a18339063397/article/details/118361193"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.9","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-9-118361193-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"9","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/a18339063397/article/details/118361193"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/a18339063397/article/details/118361193" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.9","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-9-118361193-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"9","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/a18339063397/article/details/118361193"}'  data-report-query='spm=1001.2101.3001.6650.9&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-9-118361193-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-9-118361193-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">Flutter中的<em>异步</em>（<em>Future</em>、async、await、<em>Future</em>Builder）和 网络请求</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/a18339063397" target="_blank"><span class="blog-title">小天空的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">06-30</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					454
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/a18339063397/article/details/118361193" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.9","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-9-118361193-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"9","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/a18339063397/article/details/118361193"}'  data-report-query='spm=1001.2101.3001.6650.9&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-9-118361193-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-9-118361193-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">Flutter <em>异步</em>编程（<em>Future</em>、async、await）


在Android开发中，<em>异步</em>编程是必不可少的，比如网络请求、IO操作等很多都是<em>异步</em>操作，而在Android原生中，有主线程和工作线程的概念，耗时操作都是要放到工作线程中的，ui要在主线程中更新，因此，原生Android开发中对线程的处理是必不可少的，幸运的是，一些第三方库例如Rx<em>java</em>、RxAndroid让我们的线程切换起来十分的方便。

但是Flutter是基于Datt语言实现的，而Dart中的代码是在一个线程中运行的，因此，Flut</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/qq_35789269/article/details/123590742"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.10","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-10-123590742-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"10","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_35789269/article/details/123590742"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/qq_35789269/article/details/123590742" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.10","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-10-123590742-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"10","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_35789269/article/details/123590742"}'  data-report-query='spm=1001.2101.3001.6650.10&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-10-123590742-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-10-123590742-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">【JUC系列】<em>Future</em><em>异步</em><em>回调</em><em>模式</em></div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/qq_35789269" target="_blank"><span class="blog-title">qq_35789269的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">03-19</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					303
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/qq_35789269/article/details/123590742" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.10","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-10-123590742-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"10","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_35789269/article/details/123590742"}'  data-report-query='spm=1001.2101.3001.6650.10&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-10-123590742-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-10-123590742-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">何为<em>异步</em><em>回调</em>

前面只是一个例子，对并发的主要<em>模式</em>进行形象的说明。

下面正式来讲下经常使用的几个和并发相关的概念。

1.2.1. 同步、<em>异步</em>、阻塞、非阻塞

一：同步

所谓同步，就是在发出一个功能调用时，在没有获得结果以前，该调用就不返回。也就是必须一件一件事作，等前一件作完了才能作下一件事。

单线程<em>模式</em>，就是绝对同步的。

二： <em>异步</em>

<em>异步</em>首先必须是多线程<em>模式</em>。是指当前线程，向其余的<em>异步</em>线程发出调用指令。当前线程和<em>异步</em>线程，逻辑上同时执行。

三：阻塞

在<em>异步</em>的场景下，当前线程阻塞住，等待<em>异步</em></div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/wqc19920906/article/details/79995242"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.11","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-11-79995242-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"11","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/wqc19920906/article/details/79995242"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/wqc19920906/article/details/79995242" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.11","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-11-79995242-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"11","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/wqc19920906/article/details/79995242"}'  data-report-query='spm=1001.2101.3001.6650.11&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-11-79995242-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-11-79995242-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1"><em>Java</em> <em>回调</em>机制解读</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/wqc19920906" target="_blank"><span class="blog-title">jcpp9527的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">04-18</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					128
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/wqc19920906/article/details/79995242" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.11","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-11-79995242-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"11","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/wqc19920906/article/details/79995242"}'  data-report-query='spm=1001.2101.3001.6650.11&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-11-79995242-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-11-79995242-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">模块间调用在一个应用系统中，无论使用何种语言开发，必然存在模块之间的调用，调用的方式分为几种：（1）同步调用同步调用是最基本并且最简单的一种调用方式，类A的方法a()调用类B的方法b()，一直等待b()方法执行完毕，a()方法继续往下走。这种调用方式适用于方法b()执行时间不长的情况，因为b()方法执行时间一长或者直接阻塞的话，a()方法的余下代码是无法执行下去的，这样会造成整个流程的阻塞。（2）...</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://jiandansuifeng.blog.csdn.net/article/details/111831083"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.12","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-12-111831083-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"12","strategy":"2~default~CTRLIST~Rate","dest":"https://jiandansuifeng.blog.csdn.net/article/details/111831083"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://jiandansuifeng.blog.csdn.net/article/details/111831083" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.12","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-12-111831083-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"12","strategy":"2~default~CTRLIST~Rate","dest":"https://jiandansuifeng.blog.csdn.net/article/details/111831083"}'  data-report-query='spm=1001.2101.3001.6650.12&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-12-111831083-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-12-111831083-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">SpringBoot：远程调用<em>异步</em>化</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/lt326030434" target="_blank"><span class="blog-title">简单随风的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">12-28</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					415
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://jiandansuifeng.blog.csdn.net/article/details/111831083" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.12","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-12-111831083-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"12","strategy":"2~default~CTRLIST~Rate","dest":"https://jiandansuifeng.blog.csdn.net/article/details/111831083"}'  data-report-query='spm=1001.2101.3001.6650.12&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-12-111831083-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-12-111831083-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">AsyncRestTemplate

想使用AsyncRestTemplate，首先得对其进行注入
@Bean
public AsyncRestTemplate asyncRestTemplate(){
    return new AsyncRestTemplate();
}

然后我们新建一个controller进行测试
@Autowired
private AsyncRestTemplate asyncRestTemplate;

@GetMapping(&quot;/test-async-rest-temp.</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/xiaxiaoying2012/article/details/113630479"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.13","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-13-113630479-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"13","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/xiaxiaoying2012/article/details/113630479"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/xiaxiaoying2012/article/details/113630479" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.13","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-13-113630479-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"13","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/xiaxiaoying2012/article/details/113630479"}'  data-report-query='spm=1001.2101.3001.6650.13&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-13-113630479-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-13-113630479-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1"><em>Future</em>实现一个简单的<em>异步</em>功能</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/xiaxiaoying2012" target="_blank"><span class="blog-title">xiaxiaoying的专栏</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">02-04</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					217
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/xiaxiaoying2012/article/details/113630479" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.13","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-13-113630479-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"13","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/xiaxiaoying2012/article/details/113630479"}'  data-report-query='spm=1001.2101.3001.6650.13&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-13-113630479-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-13-113630479-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">在使用ThreadPoolExecutor构建线程池的时候我们可以通过调用submit()方法得到一个<em>Future</em>的结果，这样就实现了一个<em>异步</em>调用方法的功能了，现在我们自己试着来实现一个简单的<em>异步</em>方法

1、首先来看一下<em>Future</em>这个接口里面有哪些内容



里面比较重点的有get()和get(long,TimeUnit)这个两个方法，这两个方法也就是我们<em>异步</em>得到执行结果的关键点咯

2、编写具体的实例


public class <em>Future</em>Test {
    volatile boolean  i</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/qq_43803285/article/details/115386841"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.14","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-14-115386841-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"14","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/qq_43803285/article/details/115386841"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/qq_43803285/article/details/115386841" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.14","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-14-115386841-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"14","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/qq_43803285/article/details/115386841"}'  data-report-query='spm=1001.2101.3001.6650.14&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-14-115386841-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-14-115386841-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1"><em>Java</em>之<em>异步</em><em>回调</em></div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/qq_43803285" target="_blank"><span class="blog-title">Daylight629博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">04-02</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					225
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/qq_43803285/article/details/115386841" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.14","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-14-115386841-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"14","strategy":"2~default~CTRLIST~Rate","dest":"https://blog.csdn.net/qq_43803285/article/details/115386841"}'  data-report-query='spm=1001.2101.3001.6650.14&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-14-115386841-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-14-115386841-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1"><em>异步</em><em>回调</em>

<em>Future</em> 设计的初衷： 对将来的某个事件的结果进行建模


/** 
* <em>异步</em>调用： Completable<em>Future</em> 
* // <em>异步</em>执行 
* // 成功<em>回调</em> 
* // 失败<em>回调</em> 
*/ 
public class Demo01 {
    public static void main(String[] args) throws ExecutionException, InterruptedException {
        // 没有返回值的 runAsync <em>异步</em><em>回调</em>
/*</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/Mango_Bin/article/details/118337846"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.15","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-15-118337846-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"15","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/Mango_Bin/article/details/118337846"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/Mango_Bin/article/details/118337846" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.15","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-15-118337846-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"15","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/Mango_Bin/article/details/118337846"}'  data-report-query='spm=1001.2101.3001.6650.15&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-15-118337846-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-15-118337846-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">JUC高级多线程_10：<em>Future</em><em>异步</em><em>回调</em>的具体介绍<em>与</em>使用</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/Mango_Bin" target="_blank"><span class="blog-title">欢迎来到 ABin-阿斌的博客：写一生代码，创一世佳话，筑一览芳华。</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">06-30</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					77
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/Mango_Bin/article/details/118337846" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.15","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-15-118337846-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"15","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/Mango_Bin/article/details/118337846"}'  data-report-query='spm=1001.2101.3001.6650.15&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-15-118337846-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-15-118337846-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">我是 ABin-阿斌：写一生代码，创一世佳话。 如果小伙伴们觉得我的文章有点 feel ，那就点个赞再走哦。


文章目录1.<em>Future</em>简介2.<em>Future</em>的使用场景3.<em>Future</em>的具体使用3.1 对应的方法介绍
1.<em>Future</em>简介

<em>Future</em> 是 <em>java</em>1.5 引入的一个 interface，可以方便的用于<em>异步</em>结果的获取。
<em>Future</em> 代表的是<em>异步</em>执行的结果，意思是当<em>异步</em>执行结束之后，返回的结果将会保存在 <em>Future</em> 中。

2.<em>Future</em>的使用场景

当我们执行一个长时间运行的任务时.</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/zzqtty/article/details/122577190"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.16","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-16-122577190-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"16","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/zzqtty/article/details/122577190"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/zzqtty/article/details/122577190" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.16","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-16-122577190-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"16","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/zzqtty/article/details/122577190"}'  data-report-query='spm=1001.2101.3001.6650.16&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-16-122577190-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-16-122577190-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">设计<em>模式</em> - <em>异步</em>调用<em>模式</em></div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/zzqtty" target="_blank"><span class="blog-title">zzqtty的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">01-19</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					243
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/zzqtty/article/details/122577190" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.16","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-16-122577190-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"16","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/zzqtty/article/details/122577190"}'  data-report-query='spm=1001.2101.3001.6650.16&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-16-122577190-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-16-122577190-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">文章目录1. 简介2. 列子3. 结构图4. 调用5. 结果6. 实现
1. 简介


<em>异步</em>方法调用是一种<em>模式</em>，在这种<em>模式</em>中，调用线程在等待任务结果时不会被阻塞。 该<em>模式</em>提供了多个独立任务的并行处理，并通过<em>回调</em>或等待一切完成来检索结果。


2. 列子


<em>异步</em>方法调用启动任务处理，并在任务就绪之前立即返回。 任务处理的结果稍后返回给调用方。在多线程计算机编程中，<em>异步</em>方法调用（AMI），也称为<em>异步</em>方法调用或<em>异步</em><em>模式</em>， 是一种设计<em>模式</em>，在这种<em>模式</em>中，调用站点在等待被调用代码完成时不会被阻止。 相反，当应答到达</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/qq_43564410/article/details/117451038"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.17","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-17-117451038-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"17","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_43564410/article/details/117451038"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/qq_43564410/article/details/117451038" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.17","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-17-117451038-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"17","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_43564410/article/details/117451038"}'  data-report-query='spm=1001.2101.3001.6650.17&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-17-117451038-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-17-117451038-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">线程的<em>异步</em>调用 Completable<em>Future</em>简介及使用</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/qq_43564410" target="_blank"><span class="blog-title">qq_43564410的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">06-01</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					1289
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/qq_43564410/article/details/117451038" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.17","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-17-117451038-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"17","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/qq_43564410/article/details/117451038"}'  data-report-query='spm=1001.2101.3001.6650.17&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-17-117451038-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-17-117451038-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">1. Completable<em>Future</em>简介

在源码中可以看出，Completable<em>Future</em>是一个泛型类，实现了<em>Future</em>接口和CompletionStage接口
一个completetable<em>Future</em>就代表了一个任务，因为继承了上述两个接口的关系，可以完成一些线程的<em>异步</em>调用操作
<em>异步</em>调用的简要介绍可以看这位大佬的博客 <em>JAVA</em>的<em>异步</em>调用&lt;a&gt;
completionStage接口的作用：支持任务完成时触发的函数和操作
<em>Future</em>接口的作用
<em>Future</em> 是<em>异步</em>计算结果的容器接口，</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/Xin_101/article/details/121521604"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.18","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-18-121521604-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"18","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/Xin_101/article/details/121521604"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/Xin_101/article/details/121521604" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.18","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-18-121521604-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"18","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/Xin_101/article/details/121521604"}'  data-report-query='spm=1001.2101.3001.6650.18&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-18-121521604-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-18-121521604-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">线上问题方案：<em>Future</em>自定义<em>异步</em>超时处理</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/Xin_101" target="_blank"><span class="blog-title">天然玩家的博客</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">11-24</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					1109
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/Xin_101/article/details/121521604" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.18","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-18-121521604-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"18","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/Xin_101/article/details/121521604"}'  data-report-query='spm=1001.2101.3001.6650.18&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-18-121521604-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-18-121521604-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">1 场景复现
后台服务没有在预期时间内返回结果，并出现持续等待、资源一直占用等异常状况。
如下载Excel时查询的数据量多并且关联的表较多，此时查询耗时高且下载的Excle文件占用内存较大，
后台服务器尚未处理完成当前请求，前端又重新发送请求，恶性循环，最终导致IO异常。
2 处理方案
对耗费资源较多的请求配置超时处理，即设定超时时间，在指定的时间内程序没有完成请求任务，抛出异常，并捕获异常，返回给调用方提示信息：处理超时，并停止当前的线程任务，释放资源，等待处理下一次请求。
3 超时处理样例
3.1 线程</div>
			</a>
		</div>
	</div>
</div>
<div class="recommend-item-box type_blog clearfix" data-url="https://blog.csdn.net/u011499747/article/details/50997122"  data-report-view='{"ab":"new","spm":"1001.2101.3001.6650.19","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-19-50997122-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"19","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/u011499747/article/details/50997122"}'>
	<div class="content-box">
		<div class="content-blog display-flex">
			<div class="title-box">
				<a href="https://blog.csdn.net/u011499747/article/details/50997122" class="tit" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.19","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-19-50997122-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"19","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/u011499747/article/details/50997122"}'  data-report-query='spm=1001.2101.3001.6650.19&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-19-50997122-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-19-50997122-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
					<div class="left ellipsis-online ellipsis-online-1">Guava之Listenable<em>Future</em>（链式<em>回调</em>）</div>
				</a>
			</div>
			<div class="info-box display-flex">
				<div class="info">
					<a href="https://blog.csdn.net/u011499747" target="_blank"><span class="blog-title">明月阁</span></a>
				</div>
				<div class="info display-flex">
					<span class="info-block time">03-28</span>
					<span class="info-block read"><img class="read-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					2590
					</span>
				</div>
			</div>
		</div>
		<div class="desc-box">
			<a href="https://blog.csdn.net/u011499747/article/details/50997122" target="_blank"  data-report-click='{"ab":"new","spm":"1001.2101.3001.6650.19","mod":"popu_387","extra":"{\"highlightScore\":0.0,\"utm_medium\":\"distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-19-50997122-blog-121238032.pc_relevant_3mothn_strategy_recovery\",\"dist_request_id\":\"1666867760947_30667\"}","dist_request_id":"1666867760947_30667","ab_strategy":"recoveryv3","index":"19","strategy":"2~default~BlogCommendFromBaidu~Rate","dest":"https://blog.csdn.net/u011499747/article/details/50997122"}'  data-report-query='spm=1001.2101.3001.6650.19&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-19-50997122-blog-121238032.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-19-50997122-blog-121238032.pc_relevant_3mothn_strategy_recovery'>
				<div class="desc ellipsis-online ellipsis-online-1">上一篇文章，只是简单地介绍了用guava的Listenable<em>Future</em>实现<em>异步</em>，那如果需要多重<em>回调</em>呢？
  方法
  描述  transform(Listenable<em>Future</em>, AsyncFunction</div>
			</a>
		</div>
	</div>
</div>
            </div>
<div id="recommendNps" class="recommend-nps-box common-nps-box">
  <h3 class="aside-title">“相关推荐”对你有帮助么？</h3>
  <div class="aside-content">
      <ul class="newnps-list">
          <li class="newnps-item" data-type="非常没帮助">
              <div class="newnps-img-box">
                  <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel1.png" alt="">
                  <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey1.png" alt="">
              </div>
              <div class="newnps-text">非常没帮助</div>
          </li>
          <li class="newnps-item" data-type="没帮助">
              <div class="newnps-img-box">
                  <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel2.png" alt="">
                  <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey2.png" alt="">
              </div>
              <div class="newnps-text">没帮助</div>
          </li>
          <li class="newnps-item" data-type="一般">
              <div class="newnps-img-box">
                  <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel3.png" alt="">
                  <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey3.png" alt="">
              </div>
              <div class="newnps-text">一般</div>
          </li>
          <li class="newnps-item" data-type="有帮助">
              <div class="newnps-img-box">
                  <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel4.png" alt="">
                  <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey4.png" alt="">
              </div>
              <div class="newnps-text">有帮助</div>
          </li>
          <li class="newnps-item" data-type="非常有帮助">
              <div class="newnps-img-box">
                  <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel5.png" alt="">
                  <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey5.png" alt="">
              </div>
              <div class="newnps-text">非常有帮助</div>
          </li>
      </ul>
      <div class="newnps-form-box">
      <div class="newnps-form">
          <input type="text" placeholder="请输入建议或反馈后点击提交" class="newnps-input">
          <span class="newnps-btn">提交</span>
      </div>
      </div>
  </div>
</div>            <div class="template-box">
                <span>©️2022 CSDN</span>
                <span>皮肤主题：技术工厂</span>
                <span> 设计师：CSDN官方博客</span>
                <span>
                    <a href="https://blog.csdn.net/" class="back-home c-blue c-blue-hover c-blue-focus">返回首页</a>
                </span>
            </div>
<div class="blog-footer-bottom" style="margin-top:10px;"></div>
<script src="https://g.csdnimg.cn/common/csdn-footer/csdn-footer.js" data-isfootertrack="false" type="text/javascript"></script>
<script type="text/javascript">
    window.csdn.csdnFooter.options = {
        el: '.blog-footer-bottom',
        type: 2
    }
</script>        </main>
<aside class="blog_container_aside">
<div id="asideProfile" class="aside-box">
    <div class="profile-intro d-flex">
        <div class="avatar-box d-flex justify-content-center flex-column">
            <a href="https://blog.csdn.net/pjh88" target="_blank" data-report-click='{"mod":"popu_379","spm":"1001.2101.3001.4121","dest":"https://blog.csdn.net/pjh88","ab":"new"}'>
                <img src="https://profile.csdnimg.cn/5/C/4/3_pjh88" class="avatar_pic">
            </a>
        </div>
        <div class="user-info d-flex flex-column profile-intro-name-box">
            <div class="profile-intro-name-boxTop">
                <a href="https://blog.csdn.net/pjh88" target="_blank" class="" id="uid" title="一只胡说八道的猴子" data-report-click='{"mod":"popu_379","spm":"1001.2101.3001.4122","dest":"https://blog.csdn.net/pjh88","ab":"new"}'>
                    <span class="name " username="pjh88">一只胡说八道的猴子</span>
                </a>
                <span>
                </span>
                <span class="flag expert-blog">
                <span class="bubble">CSDN认证博客专家</span>
                </span>
                <span class="flag company-blog">
                <span class="bubble">CSDN认证企业博客</span>
                </span>
            </div>
            <div class="profile-intro-name-boxFooter">
                <span class="personal-home-page personal-home-years" title="已加入 CSDN 3年">码龄3年</span>
                    <span class="personal-home-page">
                    <a class="personal-home-certification" href="https://i.csdn.net/#/uc/profile?utm_source=14998968" target="_blank" title="温州大学">
                    <img src="https://csdnimg.cn/identity/colleges.png" alt="">
                    温州大学
                    </a>
                    </span>
            </div>
        </div>
    </div>
    <div class="data-info d-flex item-tiling">
        <dl class="text-center" title="222">
            <a href="https://blog.csdn.net/pjh88" data-report-click='{"mod":"1598321000_001","spm":"1001.2101.3001.4310"}' data-report-query="t=1">  
                <dt><span class="count">222</span></dt>
                <dd class="font">原创</dd>
            </a>
        </dl>
        <dl class="text-center" data-report-click='{"mod":"1598321000_002","spm":"1001.2101.3001.4311"}' title="9077">
            <a href="https://blog.csdn.net/rank/list/weekly" target="_blank">
                <dt><span class="count">9077</span></dt>
                <dd class="font">周排名</dd>
            </a>
        </dl>
        <dl class="text-center" title="32617">
            <a href="https://blog.csdn.net/rank/list/total" data-report-click='{"mod":"1598321000_003","spm":"1001.2101.3001.4312"}' target="_blank">
                <dt><span class="count">3万+</span></dt>
                <dd class="font">总排名</dd>
            </a>
        </dl>
        <dl class="text-center" style="min-width:58px" title="103754">  
            <dt><span class="count">10万+</span></dt>
            <dd>访问</dd>
        </dl>
        <dl class="text-center" title="5级,点击查看等级说明">
            <dt><a href="https://blog.csdn.net/blogdevteam/article/details/103478461" target="_blank">
                <img class="level" src="https://csdnimg.cn/identity/blog5.png">
            </a>
            </dt>
            <dd>等级</dd>
        </dl>
    </div>
    <div class="item-rank"></div>
    <div class="data-info d-flex item-tiling">
        <dl class="text-center" title="2749">
            <dt><span class="count">2749</span></dt>
            <dd>积分</dd>
        </dl>
         <dl class="text-center" id="fanBox" title="3120">
            <dt><span class="count" id="fan">3120</span></dt>
            <dd>粉丝</dd>
        </dl>
        <dl class="text-center" title="171">
            <dt><span class="count">171</span></dt>
            <dd>获赞</dd>
        </dl>
        <dl class="text-center" title="45">
            <dt><span class="count">45</span></dt>
            <dd>评论</dd>
        </dl>
        <dl class="text-center" title="420">
            <dt><span class="count">420</span></dt>
            <dd>收藏</dd>
        </dl>
    </div>
    <div class="aside-box-footer" data-report-view='{"spm":"3001.4296"}'>
        <div class="badge-box d-flex">
            <div class="badge d-flex">
                <div class="icon-badge" title="签到新秀">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/qiandao20@240.png" alt="签到新秀">
                    </div>
                </div>
                <div class="icon-badge" title="签到达人">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/qiandao30@240.png" alt="签到达人">
                    </div>
                </div>
                <div class="icon-badge" title="领英">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/linkedin@240.png" alt="领英">
                    </div>
                </div>
                <div class="icon-badge" title="持之以恒">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/chizhiyiheng@240.png" alt="持之以恒">
                    </div>
                </div>
                <div class="icon-badge" title="GitHub">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/github@240.png" alt="GitHub">
                    </div>
                </div>
                <div class="icon-badge" title="脉脉勋章">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/maimai@240.png" alt="脉脉勋章">
                    </div>
                </div>
                <div class="icon-badge" title="笔耕不辍">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/02d34b42a3ee476fb50850304ab67017.png" alt="笔耕不辍">
                    </div>
                </div>
                <div class="icon-badge" title="勤写标兵">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/qixiebiaobing4@240.png" alt="勤写标兵">
                    </div>
                </div>
                <div class="icon-badge" title="新人勋章">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/blinknewcomer@240.png" alt="新人勋章">
                    </div>
                </div>
                <div class="icon-badge" title="阅读者勋章">
                    <div class="mouse-box">
                        <img class="medal-img" data-report-click='{"spm":"3001.4296"}' src="https://csdnimg.cn/medal/yuedu30@240.png" alt="阅读者勋章">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="profile-intro-name-boxOpration">
        <div class="opt-letter-watch-box">
        <a class="bt-button personal-letter" href="https://im.csdn.net/chat/pjh88" target="_blank" rel="noopener">私信</a>
        </div>
        <div class="opt-letter-watch-box"> 
            <a class="personal-watch bt-button" id="btnAttent" >关注</a>  
        </div>
    </div>
</div>
 <div id="asideSearchArticle" class="aside-box">
	<div class="aside-content search-comter">
    <div class="aside-search aside-search-blog">         
        <input type="text" class="input-serch-blog" name="" autocomplete="off" value="" id="search-blog-words" placeholder="搜博主文章">
        <a class="btn-search-blog">
                    <img src="//csdnimg.cn/cdn/content-toolbar/csdn-sou.png?v=1587021042">
        </a>
    </div>
    </div>
</div>


<div id="asideHotArticle" class="aside-box">
	<h3 class="aside-title">热门文章</h3>
	<div class="aside-content">
		<ul class="hotArticle-list">
			<li>
				<a href="https://blog.csdn.net/pjh88/article/details/112060811" target="_blank"  data-report-click='{"mod":"popu_541","spm":"1001.2101.3001.4139","dest":"https://blog.csdn.net/pjh88/article/details/112060811","ab":"new"}'>
				Ipv4地址分类及各类地址范围
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					<span class="read">8371</span>
                </a>
			</li>
			<li>
				<a href="https://blog.csdn.net/pjh88/article/details/111706611" target="_blank"  data-report-click='{"mod":"popu_541","spm":"1001.2101.3001.4139","dest":"https://blog.csdn.net/pjh88/article/details/111706611","ab":"new"}'>
				计算机系统基础作业数据的机器级表示与处理
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					<span class="read">7511</span>
                </a>
			</li>
			<li>
				<a href="https://blog.csdn.net/pjh88/article/details/110727421" target="_blank"  data-report-click='{"mod":"popu_541","spm":"1001.2101.3001.4139","dest":"https://blog.csdn.net/pjh88/article/details/110727421","ab":"new"}'>
				计算机系统基础作业
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					<span class="read">4533</span>
                </a>
			</li>
			<li>
				<a href="https://blog.csdn.net/pjh88/article/details/114854349" target="_blank"  data-report-click='{"mod":"popu_541","spm":"1001.2101.3001.4139","dest":"https://blog.csdn.net/pjh88/article/details/114854349","ab":"new"}'>
				QueryWrapper中常用方法，用法大全
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					<span class="read">4294</span>
                </a>
			</li>
			<li>
				<a href="https://blog.csdn.net/pjh88/article/details/112303283" target="_blank"  data-report-click='{"mod":"popu_541","spm":"1001.2101.3001.4139","dest":"https://blog.csdn.net/pjh88/article/details/112303283","ab":"new"}'>
				静态局部变量
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png" alt="">
					<span class="read">3575</span>
                </a>
			</li>
		</ul>
	</div>
</div>
<div id="asideCategory" class="aside-box flexible-box">
    <h3 class="aside-title">分类专栏</h3>
    <div class="aside-content">
        <ul>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10924591.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10924591.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        多线程
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10170702.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10170702.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        java基础
                    </span>
                </a>
                <span class="special-column-num">42篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11114661.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11114661.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        网络编程
                    </span>
                </a>
                <span class="special-column-num">31篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11062009.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11062009.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        安全
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11114660.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11114660.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Netty
                    </span>
                </a>
                <span class="special-column-num">34篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11388367.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11388367.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756930.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        网络编程进阶学习笔记
                    </span>
                </a>
                <span class="special-column-num">3篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11304997.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11304997.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756754.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        项目常用功能
                    </span>
                </a>
                <span class="special-column-num">3篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11283518.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11283518.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756738.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        谷粒商城
                    </span>
                </a>
                <span class="special-column-num">5篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11310211.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11310211.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        ElasticSearch
                    </span>
                </a>
                <span class="special-column-num">1篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10646305.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10646305.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        网络基础
                    </span>
                </a>
                <span class="special-column-num">16篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10841299.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10841299.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756724.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        SpringCloud
                    </span>
                </a>
                <span class="special-column-num">17篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11061951.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11061951.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        socialProject
                    </span>
                </a>
                <span class="special-column-num">3篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10806393.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10806393.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        SpringBoot
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10446598.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10446598.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756738.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Leetcode刷题
                    </span>
                </a>
                <span class="special-column-num">19篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10533653.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10533653.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        算法
                    </span>
                </a>
                <span class="special-column-num">8篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10918761.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10918761.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Java多线程
                    </span>
                </a>
                <span class="special-column-num">1篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10282019.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10282019.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756724.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Redis
                    </span>
                </a>
                <span class="special-column-num">4篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10243475.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10243475.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756780.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        服务器
                    </span>
                </a>
                <span class="special-column-num">18篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10280876.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10280876.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756757.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        数据库
                    </span>
                </a>
                <span class="special-column-num">6篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10807779.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10807779.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756724.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        数据结构
                    </span>
                </a>
                <span class="special-column-num">4篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10850953.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10850953.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        工具安装
                    </span>
                </a>
                <span class="special-column-num">1篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10814270.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10814270.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        RabbitMQ
                    </span>
                </a>
                <span class="special-column-num">11篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10750227.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10750227.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756930.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        SSM
                    </span>
                </a>
                <span class="special-column-num">4篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10807452.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10807452.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756919.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Dubbo
                    </span>
                </a>
                <span class="special-column-num">1篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10556590.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10556590.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        操作系统
                    </span>
                </a>
                <span class="special-column-num">3篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10357736.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10357736.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756757.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Linux
                    </span>
                </a>
                <span class="special-column-num">4篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10230449.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10230449.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        mysql
                    </span>
                </a>
                <span class="special-column-num">6篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10573532.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10573532.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756919.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        nexus
                    </span>
                </a>
                <span class="special-column-num">1篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10379793.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10379793.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        maven
                    </span>
                </a>
                <span class="special-column-num">6篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10532266.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10532266.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756918.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Mybatis
                    </span>
                </a>
                <span class="special-column-num">2篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10454873.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10454873.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        SpringMVC
                    </span>
                </a>
                <span class="special-column-num">4篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10387610.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10387610.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Spring
                    </span>
                </a>
                <span class="special-column-num">10篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10255282.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10255282.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        报错
                    </span>
                </a>
                <span class="special-column-num">8篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10243468.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10243468.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756923.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        Tomcat
                    </span>
                </a>
                <span class="special-column-num">8篇</span>
            </li>
            <li>
                <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10280875.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10280875.html","ab":"new"}'>
                    <div class="special-column-bar "></div>
                    <img src="https://img-blog.csdnimg.cn/20201014180756780.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                    <span class="title oneline">
                        nosql
                    </span>
                </a>
                <span class="special-column-num">3篇</span>
            </li>
        </ul>
    </div>
    <p class="text-center">
        <a class="flexible-btn" data-fbox="aside-archive"><img class="look-more" src="https://csdnimg.cn/release/blogv2/dist/pc/img/arrowDownWhite.png" alt=""></a>
    </p>
</div>
<div id="asideNewComments" class="aside-box">
    <h3 class="aside-title">最新评论</h3>
    <div class="aside-content">
        <ul class="newcomment-list">
            <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/pjh88/article/details/111680526#comments_23679097" data-report-click='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/pjh88/article/details/111680526#comments_23679097","ab":"new"}' data-report-view='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/pjh88/article/details/111680526#comments_23679097","ab":"new"}'>Cisco二层交换机的ip default-gateway的用途</a>
                <p class="comment ellipsis">
                    <a href="https://blog.csdn.net/weixin_41052069" class="user-name" target="_blank">MichealJoy: </a>
                    <span class="code-comments">华为的交换机有类似的命令么</span>
                </p>
            </li>
            <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/pjh88/article/details/112303283#comments_22585440" data-report-click='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/pjh88/article/details/112303283#comments_22585440","ab":"new"}' data-report-view='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/pjh88/article/details/112303283#comments_22585440","ab":"new"}'>静态局部变量</a>
                <p class="comment ellipsis">
                    <a href="https://blog.csdn.net/qq_26545507" class="user-name" target="_blank">三年级王垄翔: </a>
                    <span class="code-comments">终于搞懂了</span>
                </p>
            </li>
            <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/pjh88/article/details/114282738#comments_22429297" data-report-click='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/pjh88/article/details/114282738#comments_22429297","ab":"new"}' data-report-view='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/pjh88/article/details/114282738#comments_22429297","ab":"new"}'>Spring Cloud微服务学习系列8 序列化与反序列化</a>
                <p class="comment ellipsis">
                    <a href="https://blog.csdn.net/wcc178399" class="user-name" target="_blank">森林老虎: </a>
                    <span class="code-comments">但是类没有实现序列化接口呀，在哪里被操作的嘞</span>
                </p>
            </li>
            <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/pjh88/article/details/114282738#comments_22427236" data-report-click='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/pjh88/article/details/114282738#comments_22427236","ab":"new"}' data-report-view='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/pjh88/article/details/114282738#comments_22427236","ab":"new"}'>Spring Cloud微服务学习系列8 序列化与反序列化</a>
                <p class="comment ellipsis">
                    <a href="https://blog.csdn.net/pjh88" class="user-name" target="_blank">一只胡说八道的猴子: </a>
                    <span class="code-comments">因为数据库层面在你调用的时候已经帮你实现序列化了，只是你没有看到</span>
                </p>
            </li>
            <li>
                <a class="title text-truncate" target="_blank" href="https://blog.csdn.net/pjh88/article/details/114282738#comments_22424702" data-report-click='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/pjh88/article/details/114282738#comments_22424702","ab":"new"}' data-report-view='{"mod":"popu_542","spm":"1001.2101.3001.4231","dest":"https://blog.csdn.net/pjh88/article/details/114282738#comments_22424702","ab":"new"}'>Spring Cloud微服务学习系列8 序列化与反序列化</a>
                <p class="comment ellipsis">
                    <a href="https://blog.csdn.net/wcc178399" class="user-name" target="_blank">森林老虎: </a>
                    <span class="code-comments">大佬问下，保存对象到数据库时，类没有实现序列化接口为啥也可以进行传输保存呐</span>
                </p>
            </li>
        </ul>
    </div>
</div>
<div id="asideNewNps" class="aside-box common-nps-box">
    <h3 class="aside-title">您愿意向朋友推荐“博客详情页”吗？</h3>
    <div class="aside-content">
        <ul class="newnps-list">
            <li class="newnps-item" data-type="强烈不推荐">
                <div class="newnps-img-box">
                    <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel1.png" alt="">
                    <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey1.png" alt="">
                </div>
                <div class="newnps-text">强烈不推荐</div>
            </li>
            <li class="newnps-item" data-type="不推荐">
                <div class="newnps-img-box">
                    <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel2.png" alt="">
                    <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey2.png" alt="">
                </div>
                <div class="newnps-text">不推荐</div>
            </li>
            <li class="newnps-item" data-type="一般般">
                <div class="newnps-img-box">
                    <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel3.png" alt="">
                    <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey3.png" alt="">
                </div>
                <div class="newnps-text">一般般</div>
            </li>
            <li class="newnps-item" data-type="推荐">
                <div class="newnps-img-box">
                    <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel4.png" alt="">
                    <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey4.png" alt="">
                </div>
                <div class="newnps-text">推荐</div>
            </li>
            <li class="newnps-item" data-type="强烈推荐">
                <div class="newnps-img-box">
                    <img class="newnps-img active" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeel5.png" alt="">
                    <img class="newnps-img default" src="https://csdnimg.cn/release/blogv2/dist/pc/img/npsFeelGrey5.png" alt="">
                </div>
                <div class="newnps-text">强烈推荐</div>
            </li>
        </ul>
        <div class="newnps-form-box">
        <div class="newnps-form">
            <input type="text" placeholder="请输入建议或反馈后点击提交" class="newnps-input">
            <span class="newnps-btn">提交</span>
        </div>
        </div>
    </div>
</div>
<div id="asideArchive" class="aside-box" style="display:block!important; width:300px;">
    <h3 class="aside-title">最新文章</h3>
    <div class="aside-content">
        <ul class="inf_list clearfix">
            <li class="clearfix">
            <a href="https://blog.csdn.net/pjh88/article/details/125060453" target="_blank" data-report-click='{"mod":"popu_382","spm":"1001.2101.3001.4136","dest":"https://blog.csdn.net/pjh88/article/details/125060453","ab":"new"}' data-report-view='{"mod":"popu_382","dest":"https://blog.csdn.net/pjh88/article/details/125060453","ab":"new"}'>操作系统之虚拟化之进程</a>
            </li>
            <li class="clearfix">
            <a href="https://blog.csdn.net/pjh88/article/details/120835156" target="_blank" data-report-click='{"mod":"popu_382","spm":"1001.2101.3001.4136","dest":"https://blog.csdn.net/pjh88/article/details/120835156","ab":"new"}' data-report-view='{"mod":"popu_382","dest":"https://blog.csdn.net/pjh88/article/details/120835156","ab":"new"}'>网络安全系列导航</a>
            </li>
            <li class="clearfix">
            <a href="https://blog.csdn.net/pjh88/article/details/120550621" target="_blank" data-report-click='{"mod":"popu_382","spm":"1001.2101.3001.4136","dest":"https://blog.csdn.net/pjh88/article/details/120550621","ab":"new"}' data-report-view='{"mod":"popu_382","dest":"https://blog.csdn.net/pjh88/article/details/120550621","ab":"new"}'>网络编程进阶学习笔记--JavaNIO核心讲解</a>
            </li>
        </ul>
        <div class="archive-bar"></div>
        <div class="archive-box">
                <div class="archive-list-item"><a href="https://blog.csdn.net/pjh88?type=blog&amp;year=2022&amp;month=05" target="_blank" data-report-click='{"mod":"popu_538","spm":"1001.2101.3001.4138","ab":"new","dest":"https://blog.csdn.net/pjh88?type=blog&amp;year=2022&amp;month=05"}'><span class="year">2022年</span><span class="num">1篇</span></a></div>
                <div class="archive-list-item"><a href="https://blog.csdn.net/pjh88?type=blog&amp;year=2021&amp;month=11" target="_blank" data-report-click='{"mod":"popu_538","spm":"1001.2101.3001.4138","ab":"new","dest":"https://blog.csdn.net/pjh88?type=blog&amp;year=2021&amp;month=11"}'><span class="year">2021年</span><span class="num">133篇</span></a></div>
                <div class="archive-list-item"><a href="https://blog.csdn.net/pjh88?type=blog&amp;year=2020&amp;month=12" target="_blank" data-report-click='{"mod":"popu_538","spm":"1001.2101.3001.4138","ab":"new","dest":"https://blog.csdn.net/pjh88?type=blog&amp;year=2020&amp;month=12"}'><span class="year">2020年</span><span class="num">99篇</span></a></div>
        </div>
    </div>
</div>
	<div id="footerRightAds" class="isShowFooterAds">
		<div class="aside-box">
			<div id="kp_box_57" data-pid="57"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1076724771190722"
     crossorigin="anonymous"></script>
<!-- PC-博客-详情页-左下视窗-80-99 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1076724771190722"
     data-ad-slot="7418711749"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script><img class="pre-img-lasy" data-src="https://kunyu.csdn.net/1.png?p=57&adId=1015194&a=1015194&c=0&k=Future模式与异步回调模式&spm=1001.2101.3001.5001&articleId=121238032&d=1&t=3&u=6d7b061e113d429cbf30eabe2052b0b3" style="display: block;width: 0px;height: 0px;"></div>
		</div>
	</div>
    <!-- 详情页显示目录 -->
<!--文章目录-->
<div id="asidedirectory" class="aside-box">
    <div class='groupfile' id="directory">
        <h3 class="aside-title">目录</h3>
        <div class="align-items-stretch group_item">
            <div class="pos-box">
            <div class="scroll-box">
                <div class="toc-box"></div>
            </div>
            </div>
        </div>
    </div>
</div>
</aside>
<script>
	$("a.flexible-btn").click(function(){
		$(this).parents('div.aside-box').removeClass('flexible-box');
		$(this).parents("p.text-center").remove();
	})
</script>
<script type="text/javascript"  src="https://g.csdnimg.cn/user-tooltip/2.7/user-tooltip.js"></script>
<script type="text/javascript"  src="https://g.csdnimg.cn/user-medal/2.0.0/user-medal.js"></script>    </div>
<div class="recommend-right align-items-stretch clearfix" id="rightAside" data-type="recommend">
    <aside class="recommend-right_aside">
        <div id="recommend-right" >
                                <div class="programmer1Box">
                        <div id="kp_box_530" data-pid="530"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1076724771190722"
     crossorigin="anonymous"></script>
<!-- PC-博客-详情页-右上视窗-80-99 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1076724771190722"
     data-ad-slot="1041005650"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script><img class="pre-img-lasy" data-src="https://kunyu.csdn.net/1.png?p=530&adId=1015191&a=1015191&c=0&k=Future模式与异步回调模式&spm=1001.2101.3001.4647&articleId=121238032&d=1&t=3&u=15abbf384b704427919e0ac3f61a5723" style="display: block;width: 0px;height: 0px;"></div>
                    </div>
            <div class='flex-column aside-box groupfile' id="groupfile">
                <div class="groupfile-div">
                <h3 class="aside-title">目录</h3>
                <div class="align-items-stretch group_item">
                    <div class="pos-box">
                        <div class="scroll-box">
                            <div class="toc-box"></div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
                <div id="recommendAdBox">
                    <div id="kp_box_479" data-pid="479"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1076724771190722"
     crossorigin="anonymous"></script>
<!-- PC-博客-详情页-右下视窗-80-99 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1076724771190722"
     data-ad-slot="8695886974"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script><img class="pre-img-lasy" data-src="https://kunyu.csdn.net/1.png?p=479&adId=1015192&a=1015192&c=0&k=Future模式与异步回调模式&spm=1001.2101.3001.4834&articleId=121238032&d=1&t=3&u=e7001c19436a485bb409a779e8c1db8a" style="display: block;width: 0px;height: 0px;"></div>
                </div>
            <div class='aside-box kind_person d-flex flex-column'>
                    <h3 class="aside-title">分类专栏</h3>
                    <div class="align-items-stretch kindof_item" id="kind_person_column">
                        <div class="aside-content">
                            <ul>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10924591.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10924591.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            多线程
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10170702.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10170702.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            java基础
                                        </span>
                                    </a>
                                    <span class="special-column-num">42篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11114661.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11114661.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            网络编程
                                        </span>
                                    </a>
                                    <span class="special-column-num">31篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11062009.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11062009.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            安全
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11114660.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11114660.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Netty
                                        </span>
                                    </a>
                                    <span class="special-column-num">34篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11388367.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11388367.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756930.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            网络编程进阶学习笔记
                                        </span>
                                    </a>
                                    <span class="special-column-num">3篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11304997.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11304997.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756754.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            项目常用功能
                                        </span>
                                    </a>
                                    <span class="special-column-num">3篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11283518.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11283518.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756738.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            谷粒商城
                                        </span>
                                    </a>
                                    <span class="special-column-num">5篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11310211.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11310211.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            ElasticSearch
                                        </span>
                                    </a>
                                    <span class="special-column-num">1篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10646305.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10646305.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            网络基础
                                        </span>
                                    </a>
                                    <span class="special-column-num">16篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10841299.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10841299.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756724.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            SpringCloud
                                        </span>
                                    </a>
                                    <span class="special-column-num">17篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_11061951.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_11061951.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            socialProject
                                        </span>
                                    </a>
                                    <span class="special-column-num">3篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10806393.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10806393.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            SpringBoot
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10446598.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10446598.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756738.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Leetcode刷题
                                        </span>
                                    </a>
                                    <span class="special-column-num">19篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10533653.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10533653.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            算法
                                        </span>
                                    </a>
                                    <span class="special-column-num">8篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10918761.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10918761.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Java多线程
                                        </span>
                                    </a>
                                    <span class="special-column-num">1篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10282019.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10282019.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756724.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Redis
                                        </span>
                                    </a>
                                    <span class="special-column-num">4篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10243475.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10243475.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756780.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            服务器
                                        </span>
                                    </a>
                                    <span class="special-column-num">18篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10280876.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10280876.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756757.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            数据库
                                        </span>
                                    </a>
                                    <span class="special-column-num">6篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10807779.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10807779.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756724.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            数据结构
                                        </span>
                                    </a>
                                    <span class="special-column-num">4篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10850953.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10850953.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            工具安装
                                        </span>
                                    </a>
                                    <span class="special-column-num">1篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10814270.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10814270.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            RabbitMQ
                                        </span>
                                    </a>
                                    <span class="special-column-num">11篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10750227.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10750227.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756930.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            SSM
                                        </span>
                                    </a>
                                    <span class="special-column-num">4篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10807452.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10807452.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756919.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Dubbo
                                        </span>
                                    </a>
                                    <span class="special-column-num">1篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10556590.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10556590.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            操作系统
                                        </span>
                                    </a>
                                    <span class="special-column-num">3篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10357736.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10357736.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756757.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Linux
                                        </span>
                                    </a>
                                    <span class="special-column-num">4篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10230449.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10230449.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            mysql
                                        </span>
                                    </a>
                                    <span class="special-column-num">6篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10573532.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10573532.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756919.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            nexus
                                        </span>
                                    </a>
                                    <span class="special-column-num">1篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10379793.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10379793.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            maven
                                        </span>
                                    </a>
                                    <span class="special-column-num">6篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10532266.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10532266.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756918.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Mybatis
                                        </span>
                                    </a>
                                    <span class="special-column-num">2篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10454873.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10454873.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            SpringMVC
                                        </span>
                                    </a>
                                    <span class="special-column-num">4篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10387610.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10387610.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Spring
                                        </span>
                                    </a>
                                    <span class="special-column-num">10篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10255282.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10255282.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            报错
                                        </span>
                                    </a>
                                    <span class="special-column-num">8篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10243468.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10243468.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756923.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            Tomcat
                                        </span>
                                    </a>
                                    <span class="special-column-num">8篇</span>
                                </li>
                                <li>
                                    <a class="clearfix special-column-name" target="_blank" href="https://blog.csdn.net/pjh88/category_10280875.html" data-report-click='{"mod":"popu_537","spm":"1001.2101.3001.4137","strategy":"pc付费专栏左侧入口","dest":"https://blog.csdn.net/pjh88/category_10280875.html","ab":"new"}'>
                                        <div class="special-column-bar "></div>
                                        <img src="https://img-blog.csdnimg.cn/20201014180756780.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="" onerror="this.src='https://img-blog.csdnimg.cn/20201014180756922.png?x-oss-process=image/resize,m_fixed,h_64,w_64'">
                                        <span class="">
                                            nosql
                                        </span>
                                    </a>
                                    <span class="special-column-num">3篇</span>
                                </li>
                            </ul>
                        </div>
                    </div>
            </div>
        </div>
    </aside>
</div>

<div class="recommend-right1  align-items-stretch clearfix" id="rightAsideConcision" data-type="recommend">
    <aside class="recommend-right_aside">
        <div id="recommend-right-concision" >
            <div class='flex-column aside-box groupfile' id="groupfileConcision">
                <div class="groupfile-div1">
                <h3 class="aside-title">目录</h3>
                <div class="align-items-stretch group_item">
                    <div class="pos-box">
                        <div class="scroll-box">
                            <div class="toc-box"></div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </aside>
</div>

</div>
<div class="mask-dark"></div>
<script src="https://csdnimg.cn/public/sandalstrap/1.4/js/sandalstrap.min.js"></script>
<div class="skin-boxshadow"></div>
<div class="directory-boxshadow"></div>
<div class="comment-side-box-shadow comment-side-tit-close" id="commentSideBoxshadow">
<div class="comment-side-content">
	<div class="comment-side-tit">
	<div class="comment-side-tit-count">评论&nbsp;<span class="count">1</span></div>
	<img class="comment-side-tit-close" src="https://csdnimg.cn/release/blogv2/dist/pc/img/closeBt.png"></div>
	<div id="pcCommentSideBox" class="comment-box comment-box-new2 " style="display:block">
		<div class="comment-edit-box d-flex">
			<div class="user-img">
				<a href="https://blog.csdn.net/weixin_46000198" target="_blank">
					<img src="https://profile.csdnimg.cn/E/D/5/3_weixin_46000198">
				</a>
			</div>
			<form id="commentform">
				<textarea class="comment-content" name="comment_content" id="comment_content" placeholder="欢迎高质量的评论，低质的评论会被折叠" maxlength="1000"></textarea>
				<div class="comment-operate-box">
					<div class="comment-operate-l">
						<span id="tip_comment" class="tip">还能输入<em>1000</em>个字符</span>
					</div>
					<div class="comment-operate-c">
						&nbsp;
					</div>
					<div class="comment-operate-r">
						<div class="comment-operate-item comment-emoticon">
							<img class="comment-operate-img" data-url="https://csdnimg.cn/release/blogv2/dist/pc/img/" src="https://csdnimg.cn/release/blogv2/dist/pc/img/commentEmotionIcon.png" alt="表情包">
							<span class="comment-operate-tip">插入表情</span>
							<div class="comment-emoticon-box comment-operate-isshow">
								<div class="comment-emoticon-img-box"></div>
							</div>
						</div>
						<div class="comment-operate-item comment-code">
							<img class="comment-operate-img" data-url="https://csdnimg.cn/release/blogv2/dist/pc/img/" src="https://csdnimg.cn/release/blogv2/dist/pc/img/commentCodeIcon.png" alt="表情包">
							<span class="comment-operate-tip">代码片</span>
							<div class="comment-code-box comment-operate-isshow">
								<ul id="commentCode">
									<li><a data-code="html">HTML/XML</a></li>
									<li><a data-code="objc">objective-c</a></li>
									<li><a data-code="ruby">Ruby</a></li>
									<li><a data-code="php">PHP</a></li>
									<li><a data-code="csharp">C</a></li>
									<li><a data-code="cpp">C++</a></li>
									<li><a data-code="javascript">JavaScript</a></li>
									<li><a data-code="python">Python</a></li>
									<li><a data-code="java">Java</a></li>
									<li><a data-code="css">CSS</a></li>
									<li><a data-code="sql">SQL</a></li>
									<li><a data-code="plain">其它</a></li>
								</ul>
							</div>
						</div>
						<div class="comment-operate-item">
							<input type="hidden" id="comment_replyId" name="comment_replyId">
							<input type="hidden" id="article_id" name="article_id" value="121238032">
							<input type="hidden" id="comment_userId" name="comment_userId" value="">
							<input type="hidden" id="commentId" name="commentId" value="">
							<a data-report-click='{"mod":"1582594662_003","spm":"1001.2101.3001.4227","ab":"new"}'>
							<input type="submit" class="btn-comment btn-comment-input" value="评论">
							</a>
						</div>
					</div>
				</div>
			</form>
		</div>
		<div class="comment-list-container">
			<div class="comment-list-box comment-operate-item">
			</div>
			<div id="lookGoodComment" class="look-good-comment side-look-comment">
				<a class="look-more-comment">查看更多评论<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/commentArrowDownWhite.png" alt=""></a>
			</div>
			<div id="lookFlodComment" class="look-flod-comment">
					<span class="count"></span>&nbsp;条评论被折叠&nbsp;<a class="look-more-flodcomment">查看</a>
			</div>
			<div class="opt-box text-center">
				<div class="btn btn-sm btn-link-blue" id="btnMoreComment"></div>
			</div>
		</div>
	</div>
	<div id="pcFlodCommentSideBox" class="pc-flodcomment-sidebox">
		<div class="comment-fold-tit"><span id="lookUnFlodComment" class="back"><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/commentArrowLeftWhite.png" alt=""></span>被折叠的&nbsp;<span class="count"></span>&nbsp;条评论
		 <a href="https://blogdev.blog.csdn.net/article/details/122245662" class="tip" target="_blank">为什么被折叠?</a>
		 <a href="https://bbs.csdn.net/forums/FreeZone" class="park" target="_blank">
		 <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/iconPark.png">到【灌水乐园】发言</a>                                
		</div>
		<div class="comment-fold-content"></div>
		<div id="lookBadComment" class="look-bad-comment side-look-comment">
			<a class="look-more-comment">查看更多评论<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/commentArrowDownWhite.png" alt=""></a>
		</div>
	</div>
</div>
</div>
<div id="rewardNew" class="reward-popupbox-new">
	<p class="rewad-title">打赏作者<span class="reward-close"><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/closeBt.png"></span></p>
	<dl class="profile-box">
		<dd>
		<a href="https://blog.csdn.net/pjh88" data-report-click='{"mod":"popu_379","dest":"https://blog.csdn.net/pjh88","ab":"new"}'>
			<img src="https://profile.csdnimg.cn/5/C/4/3_pjh88" class="avatar_pic">
		</a>
		</dd>
		<dt>
			<p class="blog-name">一只胡说八道的猴子</p>
			<p class="blog-discript">你的鼓励将是我创作的最大动力</p>
		</dt>
	</dl>
	<div class="reward-box-new">
			<div class="reward-content"><div class="reward-right"></div></div>
	</div>
	<div class="money-box">
				<span class="choose-money choosed" data-id="2">¥2</span>
				<span class="choose-money " data-id="4">¥4</span>
				<span class="choose-money " data-id="6">¥6</span>
				<span class="choose-money " data-id="10">¥10</span>
				<span class="choose-money " data-id="20">¥20</span>
				<input id="customizeMoney" class="customize-money" name="" type="" value="" placeholder="自定义"/>
				<div class="customize-tip">输入1-500的整数</div>
	</div>
	<div class="pay-box">
		<div class="pay-type-blance pay-type active" data-type="blance">
			<img class="unchoose" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newUnChoose.png" alt="">
			<img class="choose"src="https://csdnimg.cn/release/blogv2/dist/pc/img/newChoose.png" alt="">
			<span class="pay-type-name">余额支付</span>
			<span class="pay-type-num">(余额：-- )</span>
		</div>
		<div class="pay-type-money pay-type" data-type="money">
			<img class="unchoose" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newUnChoose.png" alt="">
			<img class="choose"src="https://csdnimg.cn/release/blogv2/dist/pc/img/newChoose.png" alt="">
			<span class="pay-type-name">扫码支付</span>
		</div>
	</div>
	<div class="sure-box">
		<div class="sure-box-money">
			<div class="code-box">
				<div class="code-num-box">
					<span class="code-name">扫码支付：</span><span class="code-num">¥2</span>
				</div>
				<div class="code-img-box">
					<div class="renovate">
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/pay-time-out.png">
					<span>获取中</span>
					</div>
				</div>
				<div class="code-pay-box">
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/newWeiXin.png" alt="">
					<img src="https://csdnimg.cn/release/blogv2/dist/pc/img/newZhiFuBao.png" alt="">
					<span>扫码支付</span>
				</div>
			</div>
		</div>
		<div class="sure-box-blance">
			<p class="tip">您的余额不足，请更换扫码支付或<a target="_blank" data-report-click='{"mod":"1597646289_003","spm":"1001.2101.3001.4302"}' href="https://i.csdn.net/#/wallet/balance/recharge?utm_source=RewardVip" class="go-invest">充值</a></p>
			<p class="is-have-money"><a class="reward-sure">打赏作者</a></p>
		</div>
	</div>
</div>
<div class="pay-code">
    <div class="pay-money">实付<span class="pay-money-span" data-nowprice='' data-oldprice=''>元</span></div>
    <div class="content-blance"><a class="blance-bt" href="javascript:;">使用余额支付</a></div>
    <div class="content-code">
    <div id="payCode" data-id="">
            <div class="renovate">
                <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/pay-time-out.png">
                <span>点击重新获取</span>
            </div>
        </div>
        <div class="pay-style"><span><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/weixin.png"></span><span><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/zhifubao.png"></span><span><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/jingdong.png"></span><span class="text">扫码支付</span></div>
    </div>
    <div class="bt-close"><svg t="1567152543821" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10924" xmlns:xlink="http://www.w3.org/1999/xlink" width="12" height="12"><defs><style type="text/css"></style></defs><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="10925"></path></svg></div>
    <!-- <p style="margin-top: 8px;font-size: 14px;" class="text-center">支付成功即可阅读</p> -->
    <div class="pay-balance">
    <input type="radio" class="pay-code-radio" data-type="details"> 
    <span class="span">钱包余额</span>
    <span class="balance" style="color:#FC5531;font-size:14px;">0</span>  
    <div class="pay-code-tile">
        <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/pay-help.png" alt="">
        <div class="pay-code-content">
            <div class="span">
                <p class="title">抵扣说明：</p>
                <p> 1.余额是钱包充值的虚拟货币，按照1:1的比例进行支付金额的抵扣。<br> 2.余额无法直接购买下载，可以购买VIP、C币套餐、付费专栏及课程。</p>
            </div>
        </div>
    </div>
    </div>
    <a class="pay-balance-con" href="https://i.csdn.net/#/wallet/balance/recharge" target="_blank"><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/recharge.png" alt=""><span  >余额充值</span></a>
</div>
<div style="display:none;">
	<img src="" onerror='setTimeout(function(){if(!/(csdn.net|iteye.com|baiducontent.com|googleusercontent.com|360webcache.com|sogoucdn.com|bingj.com|baidu.com)$/.test(window.location.hostname)){window.location.href="\x68\x74\x74\x70\x73\x3a\x2f\x2f\x77\x77\x77\x2e\x63\x73\x64\x6e\x2e\x6e\x65\x74"}},3000);'>
</div>
<div class="keyword-dec-box" id="keywordDecBox"></div>
</body>
<script src="https://csdnimg.cn/release/blogv2/dist/components/js/pc_wap_highlight-2a2586c533.min.js" type="text/javascript"></script>
<script src="https://csdnimg.cn/release/blogv2/dist/components/js/pc_wap_common-fbcbe8567e.min.js" type="text/javascript"></script>
<script src="https://csdnimg.cn/release/blogv2/dist/components/js/edit_copy_code-ce0f06f94b.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="https://csdnimg.cn/release/blog_editor_html/release1.6.12/ckeditor/plugins/codesnippet/lib/highlight/styles/atom-one-light.css">
<script src="https://g.csdnimg.cn/user-accusation/1.0.5/user-accusation.js" type="text/javascript" ></script>
<script>
 // 全局声明
 if (window.csdn === undefined) {
      window.csdn = {};
    }
    window.csdn.sideToolbar = {
        options: {
            report:{
                isShow: true,
            },
            qr: {
                isShow: false,
            },
            guide: {
                isShow: true
            }
        }
    }
    $(function(){
        $(document).on('click',"a.option-box[data-type='report']",function() {
            window.csdn.userLogin.loadAjax(function(res){
                window.csdn.feedback({
                    "type":'blog',
                    "rtype":'article',
                    "rid":articleId,
                    "reportedName":username,
                    "submitOptions":{
                        "title":articleTitle,
                        "contentUrl":articleDetailUrl
                    },
                    "callback":function(){
                        showToast({
                            text: "感谢您的举报，我们会尽快审核！",
                            bottom: '10%', 
                            zindex: 9000, 
                            speed: 500,
                            time: 1500
                        });
                    }
                })
            })
        });
    })
</script>
    <script src="https://g.csdnimg.cn/baidu-search/1.0.12/baidu-search.js"  type="text/javascript"></script>
<script src="https://csdnimg.cn/release/download/old_static/js/qrcode.js"></script>
<script src="https://g.csdnimg.cn/lib/qrcode/1.0.0/qrcode.min.js"></script>
<script src="https://g.csdnimg.cn/user-ordercart/3.0.1/user-ordercart.js" type="text/javascript"></script>
<script src="https://g.csdnimg.cn/user-ordertip/5.0.1/user-ordertip.js" type="text/javascript" ></script>
<script src="https://g.csdnimg.cn/order-payment/4.0.1/order-payment.js" type="text/javascript" ></script>
<script src="https://csdnimg.cn/release/blogv2/dist/pc/js/common-a1dfbf1dc3.min.js" type="text/javascript"></script>
<script src="https://csdnimg.cn/release/blogv2/dist/pc/js/detail-bff68f3fa1.min.js" type="text/javascript"></script>
<script src="https://csdnimg.cn/release/blogv2/dist/pc/js/column-2e5cf567c5.min.js" type="text/javascript"></script>
<script src="https://g.csdnimg.cn/side-toolbar/3.4/side-toolbar.js" type="text/javascript"></script>
<script src="https://g.csdnimg.cn/copyright/1.0.4/copyright.js" type="text/javascript"></script>
<script>
    $(".MathJax").remove();
    if ($('div.markdown_views pre.prettyprint code.hljs').length > 0) {
        $('div.markdown_views')[0].className = 'markdown_views';
    }
</script>
<script type="text/javascript" src="https://csdnimg.cn/release/blog_mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            "HTML-CSS": {
                    linebreaks: { automatic: true, width: "94%container" },
                    imageFont: null
            },
            tex2jax: {
                preview: "none",
                ignoreClass:"title-article"
            },
            mml2jax: {
                preview: 'none'
            }
    });
</script>
<script type="text/javascript" crossorigin src="https://g.csdnimg.cn/common/csdn-login-box/csdn-login-box.js"></script></html>
